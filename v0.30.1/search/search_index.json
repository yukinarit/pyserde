{"config":{"lang":["en","ja"],"separator":"[\\s\\-,:!=\\[\\]()\"`/]+|\\.(?!\\d)|&[lg]t;|(?!\\b)(?=[A-Z][a-z])","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"api/","title":"API Reference","text":"<p>This page provides comprehensive API documentation for the pyserde library, automatically generated from source code docstrings.</p>"},{"location":"api/#serde","title":"serde","text":""},{"location":"api/#serde.ExternalTagging","title":"ExternalTagging  <code>module-attribute</code>","text":"<pre><code>ExternalTagging = Tagging()\n</code></pre>"},{"location":"api/#serde.Untagged","title":"Untagged  <code>module-attribute</code>","text":"<pre><code>Untagged = Tagging(kind=Untagged)\n</code></pre>"},{"location":"api/#serde.disabled","title":"disabled  <code>module-attribute</code>","text":"<pre><code>disabled = TypeCheck(kind=Disabled)\n</code></pre>"},{"location":"api/#serde.strict","title":"strict  <code>module-attribute</code>","text":"<pre><code>strict = TypeCheck(kind=Strict)\n</code></pre>"},{"location":"api/#serde.coerce","title":"coerce  <code>module-attribute</code>","text":"<pre><code>coerce = TypeCheck(kind=Coerce)\n</code></pre>"},{"location":"api/#serde.SerdeError","title":"SerdeError","text":"<p>               Bases: <code>Exception</code></p> <p>Serde error class.</p> Source code in <code>serde/compat.py</code> <pre><code>class SerdeError(Exception):\n    \"\"\"\n    Serde error class.\n    \"\"\"\n</code></pre>"},{"location":"api/#serde.SerdeSkip","title":"SerdeSkip","text":"<p>               Bases: <code>Exception</code></p> <p>Skip a field in custom (de)serializer.</p> Source code in <code>serde/compat.py</code> <pre><code>class SerdeSkip(Exception):\n    \"\"\"\n    Skip a field in custom (de)serializer.\n    \"\"\"\n</code></pre>"},{"location":"api/#serde.ClassSerializer","title":"ClassSerializer","text":"<p>               Bases: <code>Protocol</code></p> <p>Interface for custom class serializer.</p> <p>This protocol is intended to be used for custom class serializer.</p> <p>from datetime import datetime from serde import serde from plum import dispatch class MySerializer(ClassSerializer): ...     @dispatch ...     def serialize(self, value: datetime) -&gt; str: ...         return value.strftime(\"%d/%m/%y\")</p> Source code in <code>serde/core.py</code> <pre><code>class ClassSerializer(Protocol):\n    \"\"\"\n    Interface for custom class serializer.\n\n    This protocol is intended to be used for custom class serializer.\n\n    &gt;&gt;&gt; from datetime import datetime\n    &gt;&gt;&gt; from serde import serde\n    &gt;&gt;&gt; from plum import dispatch\n    &gt;&gt;&gt; class MySerializer(ClassSerializer):\n    ...     @dispatch\n    ...     def serialize(self, value: datetime) -&gt; str:\n    ...         return value.strftime(\"%d/%m/%y\")\n    \"\"\"\n\n    def serialize(self, value: Any) -&gt; Any:\n        pass\n</code></pre>"},{"location":"api/#serde.ClassDeserializer","title":"ClassDeserializer","text":"<p>               Bases: <code>Protocol</code></p> <p>Interface for custom class deserializer.</p> <p>This protocol is intended to be used for custom class deserializer.</p> <p>from datetime import datetime from serde import serde from plum import dispatch class MyDeserializer(ClassDeserializer): ...     @dispatch ...     def deserialize(self, cls: type[datetime], value: Any) -&gt; datetime: ...         return datetime.strptime(value, \"%d/%m/%y\")</p> Source code in <code>serde/core.py</code> <pre><code>class ClassDeserializer(Protocol):\n    \"\"\"\n    Interface for custom class deserializer.\n\n    This protocol is intended to be used for custom class deserializer.\n\n    &gt;&gt;&gt; from datetime import datetime\n    &gt;&gt;&gt; from serde import serde\n    &gt;&gt;&gt; from plum import dispatch\n    &gt;&gt;&gt; class MyDeserializer(ClassDeserializer):\n    ...     @dispatch\n    ...     def deserialize(self, cls: type[datetime], value: Any) -&gt; datetime:\n    ...         return datetime.strptime(value, \"%d/%m/%y\")\n    \"\"\"\n\n    def deserialize(self, cls: Any, value: Any) -&gt; Any:\n        pass\n</code></pre>"},{"location":"api/#serde.serde","title":"serde","text":"<pre><code>serde(\n    _cls: Type[T],\n    rename_all: str | None = None,\n    reuse_instances_default: bool = True,\n    convert_sets_default: bool = False,\n    skip_if_default: bool = False,\n    skip_if_none: bool = False,\n    transparent: bool = False,\n    serializer: SerializeFunc | None = None,\n    deserializer: DeserializeFunc | None = None,\n    tagging: Tagging = DefaultTagging,\n    type_check: TypeCheck = strict,\n    serialize_class_var: bool = False,\n    class_serializer: ClassSerializer | None = None,\n    class_deserializer: ClassDeserializer | None = None,\n    deny_unknown_fields: bool = False,\n) -&gt; Type[T]\n</code></pre><pre><code>serde(\n    _cls: Any = None,\n    rename_all: str | None = None,\n    reuse_instances_default: bool = True,\n    convert_sets_default: bool = False,\n    skip_if_default: bool = False,\n    skip_if_none: bool = False,\n    transparent: bool = False,\n    serializer: SerializeFunc | None = None,\n    deserializer: DeserializeFunc | None = None,\n    tagging: Tagging = DefaultTagging,\n    type_check: TypeCheck = strict,\n    serialize_class_var: bool = False,\n    class_serializer: ClassSerializer | None = None,\n    class_deserializer: ClassDeserializer | None = None,\n    deny_unknown_fields: bool = False,\n) -&gt; Callable[[type[T]], type[T]]\n</code></pre> <pre><code>serde(\n    _cls: Any = None,\n    rename_all: str | None = None,\n    reuse_instances_default: bool = True,\n    convert_sets_default: bool = False,\n    skip_if_default: bool = False,\n    skip_if_none: bool = False,\n    transparent: bool = False,\n    serializer: SerializeFunc | None = None,\n    deserializer: DeserializeFunc | None = None,\n    tagging: Tagging = DefaultTagging,\n    type_check: TypeCheck = strict,\n    serialize_class_var: bool = False,\n    class_serializer: ClassSerializer | None = None,\n    class_deserializer: ClassDeserializer | None = None,\n    deny_unknown_fields: bool = False,\n) -&gt; Any\n</code></pre> <p>serde decorator. Keyword arguments are passed in <code>serialize</code> and <code>deserialize</code>.</p> Source code in <code>serde/__init__.py</code> <pre><code>@dataclass_transform(field_specifiers=(field,))\ndef serde(\n    _cls: Any = None,\n    rename_all: str | None = None,\n    reuse_instances_default: bool = True,\n    convert_sets_default: bool = False,\n    skip_if_default: bool = False,\n    skip_if_none: bool = False,\n    transparent: bool = False,\n    serializer: SerializeFunc | None = None,\n    deserializer: DeserializeFunc | None = None,\n    tagging: Tagging = DefaultTagging,\n    type_check: TypeCheck = strict,\n    serialize_class_var: bool = False,\n    class_serializer: ClassSerializer | None = None,\n    class_deserializer: ClassDeserializer | None = None,\n    deny_unknown_fields: bool = False,\n) -&gt; Any:\n    \"\"\"\n    serde decorator. Keyword arguments are passed in `serialize` and `deserialize`.\n    \"\"\"\n\n    def wrap(cls: Any) -&gt; Any:\n        if should_impl_dataclass(cls):\n            dataclass(cls)\n        serialize(\n            cls,\n            rename_all=rename_all,\n            reuse_instances_default=reuse_instances_default,\n            convert_sets_default=convert_sets_default,\n            skip_if_default=skip_if_default,\n            skip_if_none=skip_if_none,\n            transparent=transparent,\n            serializer=serializer,\n            deserializer=deserializer,\n            tagging=tagging,\n            type_check=type_check,\n            serialize_class_var=serialize_class_var,\n            class_serializer=class_serializer,\n        )\n        deserialize(\n            cls,\n            rename_all=rename_all,\n            reuse_instances_default=reuse_instances_default,\n            convert_sets_default=convert_sets_default,\n            skip_if_default=skip_if_default,\n            skip_if_none=skip_if_none,\n            transparent=transparent,\n            serializer=serializer,\n            deserializer=deserializer,\n            tagging=tagging,\n            type_check=type_check,\n            serialize_class_var=serialize_class_var,\n            class_deserializer=class_deserializer,\n            deny_unknown_fields=deny_unknown_fields,\n        )\n        return cls\n\n    if _cls is None:\n        return wrap\n\n    return wrap(_cls)\n</code></pre>"},{"location":"api/#serde.serialize","title":"serialize","text":"<pre><code>serialize(\n    _cls: type[T] | None = None,\n    rename_all: str | None = None,\n    reuse_instances_default: bool = False,\n    convert_sets_default: bool = False,\n    skip_if_default: bool = False,\n    skip_if_none: bool = False,\n    serializer: SerializeFunc | None = None,\n    tagging: Tagging = DefaultTagging,\n    type_check: TypeCheck = strict,\n    serialize_class_var: bool = False,\n    transparent: bool = False,\n    class_serializer: ClassSerializer | None = None,\n    **kwargs: Any\n) -&gt; type[T]\n</code></pre> <p>A dataclass with this decorator is serializable into any of the data formats supported by pyserde.</p> <p>from datetime import datetime from serde import serialize from serde.json import to_json</p> <p>@serialize ... class Foo: ...     i: int ...     s: str ...     f: float ...     b: bool</p> <p>to_json(Foo(i=10, s='foo', f=100.0, b=True)) '{\"i\":10,\"s\":\"foo\",\"f\":100.0,\"b\":true}'</p> Source code in <code>serde/se.py</code> <pre><code>@dataclass_transform()\ndef serialize(\n    _cls: type[T] | None = None,\n    rename_all: str | None = None,\n    reuse_instances_default: bool = False,\n    convert_sets_default: bool = False,\n    skip_if_default: bool = False,\n    skip_if_none: bool = False,\n    serializer: SerializeFunc | None = None,\n    tagging: Tagging = DefaultTagging,\n    type_check: TypeCheck = strict,\n    serialize_class_var: bool = False,\n    transparent: bool = False,\n    class_serializer: ClassSerializer | None = None,\n    **kwargs: Any,\n) -&gt; type[T]:\n    \"\"\"\n    A dataclass with this decorator is serializable into any of the data formats\n    supported by pyserde.\n\n    &gt;&gt;&gt; from datetime import datetime\n    &gt;&gt;&gt; from serde import serialize\n    &gt;&gt;&gt; from serde.json import to_json\n    &gt;&gt;&gt;\n    &gt;&gt;&gt; @serialize\n    ... class Foo:\n    ...     i: int\n    ...     s: str\n    ...     f: float\n    ...     b: bool\n    &gt;&gt;&gt;\n    &gt;&gt;&gt; to_json(Foo(i=10, s='foo', f=100.0, b=True))\n    '{\"i\":10,\"s\":\"foo\",\"f\":100.0,\"b\":true}'\n    \"\"\"\n\n    def wrap(cls: type[T]) -&gt; type[T]:\n        tagging.check()\n\n        # If no `dataclass` found in the class, dataclassify it automatically.\n        if not is_dataclass(cls):\n            dataclass(cls)\n\n        if transparent:\n            get_transparent_field(cls)\n\n        if type_check.is_strict():\n            serde_beartype = beartype(conf=BeartypeConf(violation_type=SerdeError))\n            serde_beartype(cls)\n\n        g: dict[str, Any] = {}\n\n        # Create a scope storage used by serde.\n        # Each class should get own scope. Child classes can not share scope with parent class.\n        # That's why we need the \"scope.cls is not cls\" check.\n        scope: Scope | None = getattr(cls, SERDE_SCOPE, None)\n        if scope is None or scope.cls is not cls:\n            scope = Scope(\n                cls,\n                reuse_instances_default=reuse_instances_default,\n                convert_sets_default=convert_sets_default,\n                skip_if_default_default=skip_if_default,\n                skip_if_none_default=skip_if_none,\n            )\n            setattr(cls, SERDE_SCOPE, scope)\n        scope.transparent = transparent\n\n        class_serializers: list[ClassSerializer] = list(\n            itertools.chain(GLOBAL_CLASS_SERIALIZER, [class_serializer] if class_serializer else [])\n        )\n\n        # Set some globals for all generated functions\n        g[\"cls\"] = cls\n        g[\"copy\"] = copy\n        g[\"serde_scope\"] = scope\n        g[\"SerdeError\"] = SerdeError\n        g[\"enum_value\"] = enum_value\n        g[\"is_dataclass\"] = is_dataclass\n        g[\"typename\"] = typename  # used in union functions\n        g[\"is_instance\"] = is_instance  # used in union functions\n        g[\"to_obj\"] = to_obj\n        g[\"typing\"] = typing\n        g[\"Literal\"] = Literal\n        g[\"TypeCheck\"] = TypeCheck\n        g[\"disabled\"] = disabled\n        g[\"coerce_object\"] = coerce_object\n        g[\"class_serializers\"] = class_serializers\n        if serializer:\n            g[\"serde_legacy_custom_class_serializer\"] = functools.partial(\n                serde_legacy_custom_class_serializer, custom=serializer\n            )\n\n        # Collect types used in the generated code.\n        for typ in iter_types(cls):\n            # When we encounter a dataclass not marked with serialize, then also generate serialize\n            # functions for it.\n            if is_dataclass_without_se(typ) and typ is not cls:\n                # We call serialize and not wrap to make sure that we will use the default serde\n                # configuration for generating the serialization function.\n                serialize(typ)\n\n            if is_primitive(typ) and not is_enum(typ):\n                continue\n            g[typename(typ)] = typ\n\n        # render all union functions\n        for union in iter_unions(cls):\n            union_args = list(type_args(union))\n            union_key = union_func_name(UNION_SE_PREFIX, union_args)\n            add_func(scope, union_key, render_union_func(cls, union_args, tagging), g)\n            scope.union_se_args[union_key] = union_args\n\n        for f in sefields(cls, serialize_class_var):\n            if f.skip_if:\n                g[f.skip_if.name] = f.skip_if\n            if f.serializer:\n                g[f.serializer.name] = f.serializer\n\n        add_func(\n            scope,\n            TO_ITER,\n            render_to_tuple(cls, serializer, type_check, serialize_class_var, class_serializer),\n            g,\n        )\n        add_func(\n            scope,\n            TO_DICT,\n            render_to_dict(\n                cls, rename_all, serializer, type_check, serialize_class_var, class_serializer\n            ),\n            g,\n        )\n\n        logger.debug(f\"{typename(cls)}: {SERDE_SCOPE} {scope}\")\n\n        return cls\n\n    if _cls is None:\n        return wrap  # type: ignore\n\n    if _cls in GENERATION_STACK:\n        return _cls\n\n    GENERATION_STACK.append(_cls)\n    try:\n        return wrap(_cls)\n    finally:\n        GENERATION_STACK.pop()\n</code></pre>"},{"location":"api/#serde.deserialize","title":"deserialize","text":"<pre><code>deserialize(\n    _cls: type[T] | None = None,\n    rename_all: str | None = None,\n    reuse_instances_default: bool = True,\n    convert_sets_default: bool = False,\n    skip_if_default: bool = False,\n    skip_if_none: bool = False,\n    deserializer: DeserializeFunc | None = None,\n    tagging: Tagging = DefaultTagging,\n    type_check: TypeCheck = strict,\n    class_deserializer: ClassDeserializer | None = None,\n    deny_unknown_fields: bool = False,\n    transparent: bool = False,\n    **kwargs: Any\n) -&gt; type[T]\n</code></pre> <p>A dataclass with this decorator is deserializable from any of the data formats supported by pyserde.</p> <p>from serde import deserialize from serde.json import from_json</p> <p>@deserialize ... class Foo: ...     i: int ...     s: str ...     f: float ...     b: bool</p> <p>from_json(Foo, '{\"i\": 10, \"s\": \"foo\", \"f\": 100.0, \"b\": true}') Foo(i=10, s='foo', f=100.0, b=True)</p> Source code in <code>serde/de.py</code> <pre><code>@dataclass_transform()\ndef deserialize(\n    _cls: type[T] | None = None,\n    rename_all: str | None = None,\n    reuse_instances_default: bool = True,\n    convert_sets_default: bool = False,\n    skip_if_default: bool = False,\n    skip_if_none: bool = False,\n    deserializer: DeserializeFunc | None = None,\n    tagging: Tagging = DefaultTagging,\n    type_check: TypeCheck = strict,\n    class_deserializer: ClassDeserializer | None = None,\n    deny_unknown_fields: bool = False,\n    transparent: bool = False,\n    **kwargs: Any,\n) -&gt; type[T]:\n    \"\"\"\n    A dataclass with this decorator is deserializable from any of the data formats supported\n    by pyserde.\n\n    &gt;&gt;&gt; from serde import deserialize\n    &gt;&gt;&gt; from serde.json import from_json\n    &gt;&gt;&gt;\n    &gt;&gt;&gt; @deserialize\n    ... class Foo:\n    ...     i: int\n    ...     s: str\n    ...     f: float\n    ...     b: bool\n    &gt;&gt;&gt;\n    &gt;&gt;&gt; from_json(Foo, '{\"i\": 10, \"s\": \"foo\", \"f\": 100.0, \"b\": true}')\n    Foo(i=10, s='foo', f=100.0, b=True)\n    \"\"\"\n\n    stack = []\n\n    def wrap(cls: type[T]) -&gt; type[T]:\n        if cls in stack:\n            return cls\n        stack.append(cls)\n\n        tagging.check()\n\n        # If no `dataclass` found in the class, dataclassify it automatically.\n        if not is_dataclass(cls):\n            dataclass(cls)\n\n        if transparent:\n            get_transparent_field(cls)\n\n        if type_check.is_strict():\n            serde_beartype = beartype(conf=BeartypeConf(violation_type=SerdeError))\n            serde_beartype(cls)\n\n        g: dict[str, Any] = {}\n\n        # Create a scope storage used by serde.\n        # Each class should get own scope. Child classes can not share scope with parent class.\n        # That's why we need the \"scope.cls is not cls\" check.\n        scope: Scope | None = getattr(cls, SERDE_SCOPE, None)\n        if scope is None or scope.cls is not cls:\n            scope = Scope(\n                cls,\n                reuse_instances_default=reuse_instances_default,\n                convert_sets_default=convert_sets_default,\n                skip_if_default_default=skip_if_default,\n                skip_if_none_default=skip_if_none,\n            )\n            setattr(cls, SERDE_SCOPE, scope)\n        scope.transparent = transparent\n\n        class_deserializers: list[ClassDeserializer] = list(\n            itertools.chain(\n                GLOBAL_CLASS_DESERIALIZER, [class_deserializer] if class_deserializer else []\n            )\n        )\n\n        # Set some globals for all generated functions\n        g[\"cls\"] = cls\n        g[\"serde_scope\"] = scope\n        g[\"SerdeError\"] = SerdeError\n        g[\"UserError\"] = UserError\n        g[\"typename\"] = typename\n        g[\"ensure\"] = ensure\n        g[\"typing\"] = typing\n        g[\"collections\"] = collections\n        g[\"Literal\"] = Literal\n        g[\"from_obj\"] = from_obj\n        g[\"get_generic_arg\"] = get_generic_arg\n        g[\"is_instance\"] = is_instance\n        g[\"TypeCheck\"] = TypeCheck\n        g[\"disabled\"] = disabled\n        g[\"coerce_object\"] = coerce_object\n        g[\"_exists_by_aliases\"] = _exists_by_aliases\n        g[\"_get_by_aliases\"] = _get_by_aliases\n        g[\"class_deserializers\"] = class_deserializers\n        g[\"BeartypeCallHintParamViolation\"] = BeartypeCallHintParamViolation\n        g[\"is_bearable\"] = is_bearable\n        if deserializer:\n            g[\"serde_legacy_custom_class_deserializer\"] = functools.partial(\n                serde_legacy_custom_class_deserializer, custom=deserializer\n            )\n\n        # Collect types used in the generated code.\n        for typ in iter_types(cls):\n            # When we encounter a dataclass not marked with deserialize, then also generate\n            # deserialize functions for it.\n            if is_dataclass_without_de(typ) and typ is not cls:\n                # We call deserialize and not wrap to make sure that we will use the default serde\n                # configuration for generating the deserialization function.\n                deserialize(typ)\n\n            # We don't want to add primitive class e.g \"str\" into the scope, but primitive\n            # compatible types such as IntEnum and a subclass of primitives are added,\n            # so that generated code can use those types.\n            if is_primitive(typ) and not is_enum(typ) and not is_primitive_subclass(typ):\n                continue\n\n            if is_generic(typ):\n                g[typename(typ)] = get_origin(typ)\n            else:\n                g[typename(typ)] = typ\n\n        # render all union functions\n        for union in iter_unions(cls):\n            union_args = type_args(union)\n            add_func(\n                scope,\n                union_func_name(UNION_DE_PREFIX, union_args),\n                render_union_func(cls, union_args, tagging),\n                g,\n            )\n\n        # render literal functions\n        for literal in iter_literals(cls):\n            literal_args = type_args(literal)\n            add_func(\n                scope, literal_func_name(literal_args), render_literal_func(cls, literal_args), g\n            )\n\n        # Collect default values and default factories used in the generated code.\n        for f in defields(cls):\n            assert f.name\n            if has_default(f):\n                scope.defaults[f.name] = f.default\n            elif has_default_factory(f):\n                scope.defaults[f.name] = f.default_factory\n            if f.deserializer:\n                g[f.deserializer.name] = f.deserializer\n\n        add_func(\n            scope,\n            FROM_ITER,\n            render_from_iter(cls, deserializer, type_check, class_deserializer=class_deserializer),\n            g,\n        )\n        add_func(\n            scope,\n            FROM_DICT,\n            render_from_dict(\n                cls,\n                rename_all,\n                deserializer,\n                type_check,\n                class_deserializer=class_deserializer,\n                deny_unknown_fields=deny_unknown_fields,\n            ),\n            g,\n        )\n\n        logger.debug(f\"{typename(cls)}: {SERDE_SCOPE} {scope}\")\n\n        stack.pop()\n        return cls\n\n    if _cls is None:\n        return wrap  # type: ignore\n\n    if _cls in GENERATION_STACK:\n        return _cls\n\n    GENERATION_STACK.append(_cls)\n    try:\n        return wrap(_cls)\n    finally:\n        GENERATION_STACK.pop()\n</code></pre>"},{"location":"api/#serde.is_serializable","title":"is_serializable","text":"<pre><code>is_serializable(instance_or_class: Any) -&gt; bool\n</code></pre> <p>Test if an instance or class is serializable.</p> <p>@serialize ... class Foo: ...     pass</p> <p>Testing <code>Foo</code> class object returns <code>True</code>.</p> <p>is_serializable(Foo) True</p> <p>Testing <code>Foo</code> object also returns <code>True</code>.</p> <p>is_serializable(Foo()) True</p> Source code in <code>serde/se.py</code> <pre><code>def is_serializable(instance_or_class: Any) -&gt; bool:\n    \"\"\"\n    Test if an instance or class is serializable.\n\n    &gt;&gt;&gt; @serialize\n    ... class Foo:\n    ...     pass\n\n    Testing `Foo` class object returns `True`.\n    &gt;&gt;&gt; is_serializable(Foo)\n    True\n\n    Testing `Foo` object also returns `True`.\n    &gt;&gt;&gt; is_serializable(Foo())\n    True\n    \"\"\"\n    return hasattr(instance_or_class, SERDE_SCOPE)\n</code></pre>"},{"location":"api/#serde.is_deserializable","title":"is_deserializable","text":"<pre><code>is_deserializable(instance_or_class: Any) -&gt; bool\n</code></pre> <p>Test if an instance or class is deserializable.</p> <p>@deserialize ... class Foo: ...     pass</p> <p>is_deserializable(Foo) True</p> Source code in <code>serde/de.py</code> <pre><code>def is_deserializable(instance_or_class: Any) -&gt; bool:\n    \"\"\"\n    Test if an instance or class is deserializable.\n\n    &gt;&gt;&gt; @deserialize\n    ... class Foo:\n    ...     pass\n    &gt;&gt;&gt;\n    &gt;&gt;&gt; is_deserializable(Foo)\n    True\n    \"\"\"\n    return hasattr(instance_or_class, SERDE_SCOPE)\n</code></pre>"},{"location":"api/#serde.to_dict","title":"to_dict","text":"<pre><code>to_dict(\n    o: Any,\n    c: type[Any] | None = None,\n    reuse_instances: bool | None = None,\n    convert_sets: bool | None = None,\n    skip_none: bool = False,\n) -&gt; dict[Any, Any]\n</code></pre> <p>Serialize object into python dictionary. This function ensures that the dataclass's fields are accurately represented as key-value pairs in the resulting dictionary.</p> <ul> <li><code>o</code>: Any pyserde object that you want to convert to <code>dict</code></li> <li><code>c</code>: Optional class argument</li> <li><code>reuse_instances</code>: pyserde will pass instances (e.g. Path, datetime) directly to serializer instead of converting them to serializable representation e.g. string. This behaviour allows to delegate serializtation to underlying data format packages e.g. <code>pyyaml</code> and potentially improve performance.</li> <li><code>convert_sets</code>: This option controls how sets are handled during serialization and deserialization. When <code>convert_sets</code> is set to True, pyserde will convert sets to lists during serialization and back to sets during deserialization. This is useful for data formats that do not natively support sets.</li> <li><code>skip_none</code>: When set to True, any field in the class with a None value is excluded from the serialized output. Defaults to False.</li> </ul> <p>from serde import serde @serde ... class Foo: ...     i: int ...     s: str = 'foo' ...     f: float = 100.0 ...     b: bool = True</p> <p>to_dict(Foo(i=10))</p> <p>You can serialize not only pyserde objects but also objects of any supported types. For example, the following example serializes list of pyserde objects into dict.</p> <p>lst = [Foo(i=10), Foo(i=20)] to_dict(lst) [{'i': 10, 's': 'foo', 'f': 100.0, 'b': True}, {'i': 20, 's': 'foo', 'f': 100.0, 'b': True}]</p> Source code in <code>serde/se.py</code> <pre><code>def to_dict(\n    o: Any,\n    c: type[Any] | None = None,\n    reuse_instances: bool | None = None,\n    convert_sets: bool | None = None,\n    skip_none: bool = False,\n) -&gt; dict[Any, Any]:\n    \"\"\"\n    Serialize object into python dictionary. This function ensures that the dataclass's fields are\n    accurately represented as key-value pairs in the resulting dictionary.\n\n    * `o`: Any pyserde object that you want to convert to `dict`\n    * `c`: Optional class argument\n    * `reuse_instances`: pyserde will pass instances (e.g. Path, datetime) directly to serializer\n    instead of converting them to serializable representation e.g. string. This behaviour allows\n    to delegate serializtation to underlying data format packages e.g. `pyyaml` and potentially\n    improve performance.\n    * `convert_sets`: This option controls how sets are handled during serialization and\n    deserialization. When `convert_sets` is set to True, pyserde will convert sets to lists during\n    serialization and back to sets during deserialization. This is useful for data formats that\n    do not natively support sets.\n    * `skip_none`: When set to True, any field in the class with a None value is excluded from the\n    serialized output. Defaults to False.\n\n    &gt;&gt;&gt; from serde import serde\n    &gt;&gt;&gt; @serde\n    ... class Foo:\n    ...     i: int\n    ...     s: str = 'foo'\n    ...     f: float = 100.0\n    ...     b: bool = True\n    &gt;&gt;&gt;\n    &gt;&gt;&gt; to_dict(Foo(i=10))\n    {'i': 10, 's': 'foo', 'f': 100.0, 'b': True}\n\n    You can serialize not only pyserde objects but also objects of any supported types. For example,\n    the following example serializes list of pyserde objects into dict.\n\n    &gt;&gt;&gt; lst = [Foo(i=10), Foo(i=20)]\n    &gt;&gt;&gt; to_dict(lst)\n    [{'i': 10, 's': 'foo', 'f': 100.0, 'b': True}, {'i': 20, 's': 'foo', 'f': 100.0, 'b': True}]\n    \"\"\"\n    return to_obj(  # type: ignore\n        o,\n        named=True,\n        c=c,\n        reuse_instances=reuse_instances,\n        convert_sets=convert_sets,\n        skip_none=skip_none,\n    )\n</code></pre>"},{"location":"api/#serde.from_dict","title":"from_dict","text":"<pre><code>from_dict(\n    cls: type[T],\n    o: dict[str, Any],\n    reuse_instances: bool | None = None,\n    deserialize_numbers: (\n        Callable[[str | int], float] | None\n    ) = None,\n) -&gt; T\n</code></pre><pre><code>from_dict(\n    cls: Any,\n    o: dict[str, Any],\n    reuse_instances: bool | None = None,\n    deserialize_numbers: (\n        Callable[[str | int], float] | None\n    ) = None,\n) -&gt; Any\n</code></pre> <pre><code>from_dict(\n    cls: Any,\n    o: dict[str, Any],\n    reuse_instances: bool | None = None,\n    deserialize_numbers: (\n        Callable[[str | int], float] | None\n    ) = None,\n) -&gt; Any\n</code></pre> <p>Deserialize dictionary into object.</p> <p>@deserialize ... class Foo: ...     i: int ...     s: str = 'foo' ...     f: float = 100.0 ...     b: bool = True</p> <p>from_dict(Foo, {'i': 10, 's': 'foo', 'f': 100.0, 'b': True}) Foo(i=10, s='foo', f=100.0, b=True)</p> <p>You can pass any type supported by pyserde. For example,</p> <ul> <li><code>deserialize_numbers</code>: Optional callable to coerce numeric input to floats when the target   type is float (e.g. accept ints or numeric strings supplied by a parser).</li> </ul> <p>lst = [{'i': 10, 's': 'foo', 'f': 100.0, 'b': True}, ...        {'i': 20, 's': 'foo', 'f': 100.0, 'b': True}] from_dict(list[Foo], lst) [Foo(i=10, s='foo', f=100.0, b=True), Foo(i=20, s='foo', f=100.0, b=True)]</p> Source code in <code>serde/de.py</code> <pre><code>def from_dict(\n    cls: Any,\n    o: dict[str, Any],\n    reuse_instances: bool | None = None,\n    deserialize_numbers: Callable[[str | int], float] | None = None,\n) -&gt; Any:\n    \"\"\"\n    Deserialize dictionary into object.\n\n    &gt;&gt;&gt; @deserialize\n    ... class Foo:\n    ...     i: int\n    ...     s: str = 'foo'\n    ...     f: float = 100.0\n    ...     b: bool = True\n    &gt;&gt;&gt;\n    &gt;&gt;&gt; from_dict(Foo, {'i': 10, 's': 'foo', 'f': 100.0, 'b': True})\n    Foo(i=10, s='foo', f=100.0, b=True)\n\n    You can pass any type supported by pyserde. For example,\n\n    * `deserialize_numbers`: Optional callable to coerce numeric input to floats when the target\n      type is float (e.g. accept ints or numeric strings supplied by a parser).\n\n    &gt;&gt;&gt; lst = [{'i': 10, 's': 'foo', 'f': 100.0, 'b': True},\n    ...        {'i': 20, 's': 'foo', 'f': 100.0, 'b': True}]\n    &gt;&gt;&gt; from_dict(list[Foo], lst)\n    [Foo(i=10, s='foo', f=100.0, b=True), Foo(i=20, s='foo', f=100.0, b=True)]\n    \"\"\"\n    return from_obj(\n        cls,\n        o,\n        named=True,\n        reuse_instances=reuse_instances,\n        deserialize_numbers=deserialize_numbers,\n    )\n</code></pre>"},{"location":"api/#serde.to_tuple","title":"to_tuple","text":"<pre><code>to_tuple(\n    o: Any,\n    c: type[Any] | None = None,\n    reuse_instances: bool | None = None,\n    convert_sets: bool | None = None,\n    skip_none: bool = False,\n) -&gt; tuple[Any, ...]\n</code></pre> <p>Serialize object into tuple.</p> <p>@serialize ... class Foo: ...     i: int ...     s: str = 'foo' ...     f: float = 100.0 ...     b: bool = True</p> <p>to_tuple(Foo(i=10)) (10, 'foo', 100.0, True)</p> <p>You can pass any type supported by pyserde. For example,</p> <p>lst = [Foo(i=10), Foo(i=20)] to_tuple(lst) [(10, 'foo', 100.0, True), (20, 'foo', 100.0, True)]</p> Source code in <code>serde/se.py</code> <pre><code>def to_tuple(\n    o: Any,\n    c: type[Any] | None = None,\n    reuse_instances: bool | None = None,\n    convert_sets: bool | None = None,\n    skip_none: bool = False,\n) -&gt; tuple[Any, ...]:\n    \"\"\"\n    Serialize object into tuple.\n\n    &gt;&gt;&gt; @serialize\n    ... class Foo:\n    ...     i: int\n    ...     s: str = 'foo'\n    ...     f: float = 100.0\n    ...     b: bool = True\n    &gt;&gt;&gt;\n    &gt;&gt;&gt; to_tuple(Foo(i=10))\n    (10, 'foo', 100.0, True)\n\n    You can pass any type supported by pyserde. For example,\n\n    &gt;&gt;&gt; lst = [Foo(i=10), Foo(i=20)]\n    &gt;&gt;&gt; to_tuple(lst)\n    [(10, 'foo', 100.0, True), (20, 'foo', 100.0, True)]\n    \"\"\"\n    return to_obj(  # type: ignore\n        o,\n        named=False,\n        c=c,\n        reuse_instances=reuse_instances,\n        convert_sets=convert_sets,\n        skip_none=skip_none,\n    )\n</code></pre>"},{"location":"api/#serde.from_tuple","title":"from_tuple","text":"<pre><code>from_tuple(\n    cls: type[T],\n    o: Any,\n    reuse_instances: bool | None = None,\n    deserialize_numbers: (\n        Callable[[str | int], float] | None\n    ) = None,\n) -&gt; T\n</code></pre><pre><code>from_tuple(\n    cls: Any,\n    o: Any,\n    reuse_instances: bool | None = None,\n    deserialize_numbers: (\n        Callable[[str | int], float] | None\n    ) = None,\n) -&gt; Any\n</code></pre> <pre><code>from_tuple(\n    cls: Any,\n    o: Any,\n    reuse_instances: bool | None = None,\n    deserialize_numbers: (\n        Callable[[str | int], float] | None\n    ) = None,\n) -&gt; Any\n</code></pre> <p>Deserialize tuple into object.</p> <p>@deserialize ... class Foo: ...     i: int ...     s: str = 'foo' ...     f: float = 100.0 ...     b: bool = True</p> <p>from_tuple(Foo, (10, 'foo', 100.0, True)) Foo(i=10, s='foo', f=100.0, b=True)</p> <p>You can pass any type supported by pyserde. For example,</p> <ul> <li><code>deserialize_numbers</code>: Optional callable to coerce numeric input to floats when the target   type is float (e.g. accept ints or numeric strings supplied by a parser).</li> </ul> <p>lst = [(10, 'foo', 100.0, True), (20, 'foo', 100.0, True)] from_tuple(list[Foo], lst) [Foo(i=10, s='foo', f=100.0, b=True), Foo(i=20, s='foo', f=100.0, b=True)]</p> Source code in <code>serde/de.py</code> <pre><code>def from_tuple(\n    cls: Any,\n    o: Any,\n    reuse_instances: bool | None = None,\n    deserialize_numbers: Callable[[str | int], float] | None = None,\n) -&gt; Any:\n    \"\"\"\n    Deserialize tuple into object.\n\n    &gt;&gt;&gt; @deserialize\n    ... class Foo:\n    ...     i: int\n    ...     s: str = 'foo'\n    ...     f: float = 100.0\n    ...     b: bool = True\n    &gt;&gt;&gt;\n    &gt;&gt;&gt; from_tuple(Foo, (10, 'foo', 100.0, True))\n    Foo(i=10, s='foo', f=100.0, b=True)\n\n    You can pass any type supported by pyserde. For example,\n\n    * `deserialize_numbers`: Optional callable to coerce numeric input to floats when the target\n      type is float (e.g. accept ints or numeric strings supplied by a parser).\n\n    &gt;&gt;&gt; lst = [(10, 'foo', 100.0, True), (20, 'foo', 100.0, True)]\n    &gt;&gt;&gt; from_tuple(list[Foo], lst)\n    [Foo(i=10, s='foo', f=100.0, b=True), Foo(i=20, s='foo', f=100.0, b=True)]\n    \"\"\"\n    return from_obj(\n        cls,\n        o,\n        named=False,\n        reuse_instances=reuse_instances,\n        deserialize_numbers=deserialize_numbers,\n    )\n</code></pre>"},{"location":"api/#serde.AdjacentTagging","title":"AdjacentTagging","text":"<pre><code>AdjacentTagging(tag: str, content: str) -&gt; Tagging\n</code></pre><pre><code>AdjacentTagging(\n    tag: str, content: str, cls: T\n) -&gt; _WithTagging[T]\n</code></pre> <pre><code>AdjacentTagging(\n    tag: str, content: str, cls: T | None = None\n) -&gt; Tagging | _WithTagging[T]\n</code></pre> Source code in <code>serde/core.py</code> <pre><code>def AdjacentTagging(tag: str, content: str, cls: T | None = None) -&gt; Tagging | _WithTagging[T]:\n    tagging = Tagging(tag, content, kind=Tagging.Kind.Adjacent)\n    if cls:\n        return tagging(cls)\n    else:\n        return tagging\n</code></pre>"},{"location":"api/#serde.InternalTagging","title":"InternalTagging","text":"<pre><code>InternalTagging(tag: str) -&gt; Tagging\n</code></pre><pre><code>InternalTagging(tag: str, cls: T) -&gt; _WithTagging[T]\n</code></pre> <pre><code>InternalTagging(\n    tag: str, cls: T | None = None\n) -&gt; Tagging | _WithTagging[T]\n</code></pre> Source code in <code>serde/core.py</code> <pre><code>def InternalTagging(tag: str, cls: T | None = None) -&gt; Tagging | _WithTagging[T]:\n    tagging = Tagging(tag, kind=Tagging.Kind.Internal)\n    if cls:\n        return tagging(cls)\n    else:\n        return tagging\n</code></pre>"},{"location":"api/#serde.field","title":"field","text":"<pre><code>field(\n    *args: Any,\n    rename: str | None = None,\n    alias: list[str] | None = None,\n    skip: bool | None = None,\n    skip_serializing: bool | None = None,\n    skip_deserializing: bool | None = None,\n    skip_if: Callable[[Any], Any] | None = None,\n    skip_if_false: bool | None = None,\n    skip_if_none: bool | None = None,\n    skip_if_default: bool | None = None,\n    serializer: Callable[..., Any] | None = None,\n    deserializer: Callable[..., Any] | None = None,\n    flatten: FlattenOpts | bool | None = None,\n    metadata: dict[str, Any] | None = None,\n    **kwargs: Any\n) -&gt; Any\n</code></pre> <p>Declare a field with parameters.</p> Source code in <code>serde/core.py</code> <pre><code>def field(\n    *args: Any,\n    rename: str | None = None,\n    alias: list[str] | None = None,\n    skip: bool | None = None,\n    skip_serializing: bool | None = None,\n    skip_deserializing: bool | None = None,\n    skip_if: Callable[[Any], Any] | None = None,\n    skip_if_false: bool | None = None,\n    skip_if_none: bool | None = None,\n    skip_if_default: bool | None = None,\n    serializer: Callable[..., Any] | None = None,\n    deserializer: Callable[..., Any] | None = None,\n    flatten: FlattenOpts | bool | None = None,\n    metadata: dict[str, Any] | None = None,\n    **kwargs: Any,\n) -&gt; Any:\n    \"\"\"\n    Declare a field with parameters.\n    \"\"\"\n    if not metadata:\n        metadata = {}\n\n    if rename is not None:\n        metadata[\"serde_rename\"] = rename\n    if alias is not None:\n        metadata[\"serde_alias\"] = alias\n    if skip is not None:\n        metadata[\"serde_skip\"] = skip\n    if skip_serializing is not None:\n        metadata[\"serde_skip_serializing\"] = skip_serializing\n    if skip_deserializing is not None:\n        metadata[\"serde_skip_deserializing\"] = skip_deserializing\n    if skip_if is not None:\n        metadata[\"serde_skip_if\"] = skip_if\n    if skip_if_false is not None:\n        metadata[\"serde_skip_if_false\"] = skip_if_false\n    if skip_if_none is not None:\n        metadata[\"serde_skip_if_none\"] = skip_if_none\n    if skip_if_default is not None:\n        metadata[\"serde_skip_if_default\"] = skip_if_default\n    if serializer:\n        metadata[\"serde_serializer\"] = serializer\n    if deserializer:\n        metadata[\"serde_deserializer\"] = deserializer\n    if flatten is True:\n        metadata[\"serde_flatten\"] = FlattenOpts()\n    elif flatten:\n        metadata[\"serde_flatten\"] = flatten\n\n    return dataclasses.field(*args, metadata=metadata, **kwargs)\n</code></pre>"},{"location":"api/#serde.default_deserializer","title":"default_deserializer","text":"<pre><code>default_deserializer(_cls: type[Any], obj: Any) -&gt; Any\n</code></pre> <p>Marker function to tell serde to use the default deserializer. It's used when custom deserializer is specified at the class but you want to override a field with the default deserializer.</p> Source code in <code>serde/de.py</code> <pre><code>def default_deserializer(_cls: type[Any], obj: Any) -&gt; Any:\n    \"\"\"\n    Marker function to tell serde to use the default deserializer. It's used when custom\n    deserializer is specified at the class but you want to override a field with the default\n    deserializer.\n    \"\"\"\n</code></pre>"},{"location":"api/#serde.asdict","title":"asdict","text":"<pre><code>asdict(v: Any) -&gt; dict[Any, Any]\n</code></pre> <p>Serialize object into dictionary.</p> Source code in <code>serde/se.py</code> <pre><code>def asdict(v: Any) -&gt; dict[Any, Any]:\n    \"\"\"\n    Serialize object into dictionary.\n    \"\"\"\n    return to_dict(v, reuse_instances=False, convert_sets=False)\n</code></pre>"},{"location":"api/#serde.astuple","title":"astuple","text":"<pre><code>astuple(v: Any) -&gt; tuple[Any, ...]\n</code></pre> <p>Serialize object into tuple.</p> Source code in <code>serde/se.py</code> <pre><code>def astuple(v: Any) -&gt; tuple[Any, ...]:\n    \"\"\"\n    Serialize object into tuple.\n    \"\"\"\n    return to_tuple(v, reuse_instances=False, convert_sets=False)\n</code></pre>"},{"location":"api/#serde.default_serializer","title":"default_serializer","text":"<pre><code>default_serializer(_cls: type[Any], obj: Any) -&gt; Any\n</code></pre> <p>Marker function to tell serde to use the default serializer. It's used when custom serializer is specified at the class but you want to override a field with the default serializer.</p> Source code in <code>serde/se.py</code> <pre><code>def default_serializer(_cls: type[Any], obj: Any) -&gt; Any:\n    \"\"\"\n    Marker function to tell serde to use the default serializer. It's used when custom serializer\n    is specified at the class but you want to override a field with the default serializer.\n    \"\"\"\n</code></pre>"},{"location":"api/#serde.add_serializer","title":"add_serializer","text":"<pre><code>add_serializer(serializer: ClassSerializer) -&gt; None\n</code></pre> <p>Register custom global serializer.</p> Source code in <code>serde/core.py</code> <pre><code>def add_serializer(serializer: ClassSerializer) -&gt; None:\n    \"\"\"\n    Register custom global serializer.\n    \"\"\"\n    GLOBAL_CLASS_SERIALIZER.append(serializer)\n</code></pre>"},{"location":"api/#serde.add_deserializer","title":"add_deserializer","text":"<pre><code>add_deserializer(deserializer: ClassDeserializer) -&gt; None\n</code></pre> <p>Register custom global deserializer.</p> Source code in <code>serde/core.py</code> <pre><code>def add_deserializer(deserializer: ClassDeserializer) -&gt; None:\n    \"\"\"\n    Register custom global deserializer.\n    \"\"\"\n    GLOBAL_CLASS_DESERIALIZER.append(deserializer)\n</code></pre>"},{"location":"api/#serde.json","title":"json","text":"<p>Serialize and Deserialize in JSON format.</p>"},{"location":"api/#serde.json.from_json","title":"from_json","text":"<pre><code>from_json(\n    c: type[T],\n    s: AnyStr,\n    de: type[Deserializer[AnyStr]] = JsonDeserializer,\n    coerce_numbers: bool = True,\n    **opts: Any\n) -&gt; T\n</code></pre><pre><code>from_json(\n    c: Any,\n    s: AnyStr,\n    de: type[Deserializer[AnyStr]] = JsonDeserializer,\n    coerce_numbers: bool = True,\n    **opts: Any\n) -&gt; Any\n</code></pre> <pre><code>from_json(\n    c: Any,\n    s: AnyStr,\n    de: type[Deserializer[AnyStr]] = JsonDeserializer,\n    coerce_numbers: bool = True,\n    **opts: Any\n) -&gt; Any\n</code></pre> <p>Deserialize from JSON into the object. orjson will be used if installed.</p> <p><code>c</code> is a class object and <code>s</code> is JSON bytes or str. If you supply other keyword arguments, they will be passed in <code>loads</code> function.</p> <ul> <li><code>coerce_numbers</code>: When True (default), ints from JSON are coerced to floats when the target   type is float. Strings are never coerced.</li> </ul> <p>If you want to use another json package, you can subclass <code>JsonDeserializer</code> and implement your own logic.</p> Source code in <code>serde/json.py</code> <pre><code>def from_json(\n    c: Any,\n    s: AnyStr,\n    de: type[Deserializer[AnyStr]] = JsonDeserializer,\n    coerce_numbers: bool = True,\n    **opts: Any,\n) -&gt; Any:\n    \"\"\"\n    Deserialize from JSON into the object. [orjson](https://github.com/ijl/orjson) will be used\n    if installed.\n\n    `c` is a class object and `s` is JSON bytes or str. If you supply other keyword arguments,\n    they will be passed in `loads` function.\n\n    * `coerce_numbers`: When True (default), ints from JSON are coerced to floats when the target\n      type is float. Strings are never coerced.\n\n    If you want to use another json package, you can subclass `JsonDeserializer` and implement your\n    own logic.\n    \"\"\"\n    deserialize_numbers = deserialize_json_numbers if coerce_numbers else None\n    return from_dict(\n        c,\n        de.deserialize(s, **opts),\n        reuse_instances=False,\n        deserialize_numbers=deserialize_numbers,\n    )\n</code></pre>"},{"location":"api/#serde.json.to_json","title":"to_json","text":"<pre><code>to_json(\n    obj: Any,\n    cls: Any | None = None,\n    se: type[Serializer[str]] = JsonSerializer,\n    reuse_instances: bool = False,\n    convert_sets: bool = True,\n    skip_none: bool = False,\n    **opts: Any\n) -&gt; str\n</code></pre> <p>Serialize the object into JSON str. orjson will be used if installed.</p> <p>You can pass any serializable <code>obj</code>. If you supply other keyword arguments, they will be passed in <code>dumps</code> function. By default, numpy objects are serialized, this behaviour can be customized with the <code>option</code> argument with orjson, or the <code>default</code> argument with Python standard json library.</p> <ul> <li><code>skip_none</code>: When set to True, any field in the class with a None value is excluded from the serialized output. Defaults to False.</li> </ul> <p>If you want to use another json package, you can subclass <code>JsonSerializer</code> and implement your own logic.</p> Source code in <code>serde/json.py</code> <pre><code>def to_json(\n    obj: Any,\n    cls: Any | None = None,\n    se: type[Serializer[str]] = JsonSerializer,\n    reuse_instances: bool = False,\n    convert_sets: bool = True,\n    skip_none: bool = False,\n    **opts: Any,\n) -&gt; str:\n    \"\"\"\n    Serialize the object into JSON str. [orjson](https://github.com/ijl/orjson)\n    will be used if installed.\n\n    You can pass any serializable `obj`. If you supply other keyword arguments,\n    they will be passed in `dumps` function.\n    By default, numpy objects are serialized, this behaviour can be customized with the `option`\n    argument with [orjson](https://github.com/ijl/orjson#numpy), or the `default` argument with\n    Python standard json library.\n\n    * `skip_none`: When set to True, any field in the class with a None value is excluded from the\n    serialized output. Defaults to False.\n\n    If you want to use another json package, you can subclass `JsonSerializer` and implement\n    your own logic.\n    \"\"\"\n    return se.serialize(\n        to_dict(\n            obj,\n            c=cls,\n            reuse_instances=reuse_instances,\n            convert_sets=convert_sets,\n            skip_none=skip_none,\n        ),\n        **opts,\n    )\n</code></pre>"},{"location":"api/#serde.yaml","title":"yaml","text":"<p>Serialize and Deserialize in YAML format. This module depends on pyyaml package.</p>"},{"location":"api/#serde.yaml.from_yaml","title":"from_yaml","text":"<pre><code>from_yaml(\n    c: type[T],\n    s: str,\n    de: type[Deserializer[str]] = YamlDeserializer,\n    coerce_numbers: bool = True,\n    **opts: Any\n) -&gt; T\n</code></pre><pre><code>from_yaml(\n    c: Any,\n    s: str,\n    de: type[Deserializer[str]] = YamlDeserializer,\n    coerce_numbers: bool = True,\n    **opts: Any\n) -&gt; Any\n</code></pre> <pre><code>from_yaml(\n    c: Any,\n    s: str,\n    de: type[Deserializer[str]] = YamlDeserializer,\n    coerce_numbers: bool = True,\n    **opts: Any\n) -&gt; Any\n</code></pre> <p><code>c</code> is a class object and <code>s</code> is YAML string. If you supply keyword arguments other than <code>de</code>, they will be passed in <code>yaml.safe_load</code> function.</p> <ul> <li><code>coerce_numbers</code>: When True (default), numeric YAML scalars or numeric strings (e.g.   \"1e-3\") are coerced to floats when the target type is float. Booleans are rejected.</li> </ul> <p>If you want to use the other yaml package, you can subclass <code>YamlDeserializer</code> and implement your own logic.</p> Source code in <code>serde/yaml.py</code> <pre><code>def from_yaml(\n    c: Any,\n    s: str,\n    de: type[Deserializer[str]] = YamlDeserializer,\n    coerce_numbers: bool = True,\n    **opts: Any,\n) -&gt; Any:\n    \"\"\"\n    `c` is a class object and `s` is YAML string. If you supply keyword arguments other than `de`,\n    they will be passed in `yaml.safe_load` function.\n\n    * `coerce_numbers`: When True (default), numeric YAML scalars or numeric strings (e.g.\n      \"1e-3\") are coerced to floats when the target type is float. Booleans are rejected.\n\n    If you want to use the other yaml package, you can subclass `YamlDeserializer` and implement\n    your own logic.\n    \"\"\"\n    deserialize_numbers = deserialize_yaml_numbers if coerce_numbers else None\n    return from_dict(\n        c,\n        de.deserialize(s, **opts),\n        reuse_instances=False,\n        deserialize_numbers=deserialize_numbers,\n    )\n</code></pre>"},{"location":"api/#serde.yaml.to_yaml","title":"to_yaml","text":"<pre><code>to_yaml(\n    obj: Any,\n    cls: Any | None = None,\n    se: type[Serializer[str]] = YamlSerializer,\n    reuse_instances: bool = False,\n    convert_sets: bool = True,\n    skip_none: bool = False,\n    **opts: Any\n) -&gt; str\n</code></pre> <p>Serialize the object into YAML.</p> <p>You can pass any serializable <code>obj</code>. If you supply keyword arguments other than <code>se</code>, they will be passed in <code>yaml.safe_dump</code> function.</p> <ul> <li><code>skip_none</code>: When set to True, any field in the class with a None value is excluded from the serialized output. Defaults to False.</li> </ul> <p>If you want to use the other yaml package, you can subclass <code>YamlSerializer</code> and implement your own logic.</p> Source code in <code>serde/yaml.py</code> <pre><code>def to_yaml(\n    obj: Any,\n    cls: Any | None = None,\n    se: type[Serializer[str]] = YamlSerializer,\n    reuse_instances: bool = False,\n    convert_sets: bool = True,\n    skip_none: bool = False,\n    **opts: Any,\n) -&gt; str:\n    \"\"\"\n    Serialize the object into YAML.\n\n    You can pass any serializable `obj`. If you supply keyword arguments other than `se`,\n    they will be passed in `yaml.safe_dump` function.\n\n    * `skip_none`: When set to True, any field in the class with a None value is excluded from the\n    serialized output. Defaults to False.\n\n    If you want to use the other yaml package, you can subclass `YamlSerializer` and implement\n    your own logic.\n    \"\"\"\n    return se.serialize(\n        to_dict(\n            obj,\n            c=cls,\n            reuse_instances=reuse_instances,\n            convert_sets=convert_sets,\n            skip_none=skip_none,\n        ),\n        **opts,\n    )\n</code></pre>"},{"location":"api/#serde.toml","title":"toml","text":"<p>Serialize and Deserialize in TOML format. This module depends on tomli (for python==3.10) and tomli-w packages.</p>"},{"location":"api/#serde.toml.from_toml","title":"from_toml","text":"<pre><code>from_toml(\n    c: type[T],\n    s: str,\n    de: type[Deserializer[str]] = TomlDeserializer,\n    **opts: Any\n) -&gt; T\n</code></pre><pre><code>from_toml(\n    c: Any,\n    s: str,\n    de: type[Deserializer[str]] = TomlDeserializer,\n    **opts: Any\n) -&gt; Any\n</code></pre> <pre><code>from_toml(\n    c: Any,\n    s: str,\n    de: type[Deserializer[str]] = TomlDeserializer,\n    **opts: Any\n) -&gt; Any\n</code></pre> <p>Deserialize from TOML into the object.</p> <p><code>c</code> is a class object and <code>s</code> is TOML string. If you supply keyword arguments other than <code>de</code>, they will be passed in <code>toml.loads</code> function.</p> <p>If you want to use the other toml package, you can subclass <code>TomlDeserializer</code> and implement your own logic.</p> Source code in <code>serde/toml.py</code> <pre><code>def from_toml(c: Any, s: str, de: type[Deserializer[str]] = TomlDeserializer, **opts: Any) -&gt; Any:\n    \"\"\"\n    Deserialize from TOML into the object.\n\n    `c` is a class object and `s` is TOML string. If you supply keyword arguments other than `de`,\n    they will be passed in `toml.loads` function.\n\n    If you want to use the other toml package, you can subclass `TomlDeserializer` and implement\n    your own logic.\n    \"\"\"\n    return from_dict(c, de.deserialize(s, **opts), reuse_instances=False)\n</code></pre>"},{"location":"api/#serde.toml.to_toml","title":"to_toml","text":"<pre><code>to_toml(\n    obj: Any,\n    cls: Any | None = None,\n    se: type[Serializer[str]] = TomlSerializer,\n    reuse_instances: bool = False,\n    convert_sets: bool = True,\n    skip_none: bool = True,\n    **opts: Any\n) -&gt; str\n</code></pre> <p>Serialize the object into TOML.</p> <p>You can pass any serializable <code>obj</code>. If you supply keyword arguments other than <code>se</code>, they will be passed in <code>toml_w.dumps</code> function.</p> <ul> <li><code>skip_none</code>: When set to True, any field in the class with a None value is excluded from the serialized output. Defaults to True.</li> </ul> <p>If you want to use the other toml package, you can subclass <code>TomlSerializer</code> and implement your own logic.</p> Source code in <code>serde/toml.py</code> <pre><code>def to_toml(\n    obj: Any,\n    cls: Any | None = None,\n    se: type[Serializer[str]] = TomlSerializer,\n    reuse_instances: bool = False,\n    convert_sets: bool = True,\n    skip_none: bool = True,\n    **opts: Any,\n) -&gt; str:\n    \"\"\"\n    Serialize the object into TOML.\n\n    You can pass any serializable `obj`. If you supply keyword arguments other than `se`,\n    they will be passed in `toml_w.dumps` function.\n\n    * `skip_none`: When set to True, any field in the class with a None value is excluded from the\n    serialized output. Defaults to True.\n\n    If you want to use the other toml package, you can subclass `TomlSerializer` and implement\n    your own logic.\n    \"\"\"\n    return se.serialize(\n        to_dict(\n            obj,\n            c=cls,\n            reuse_instances=reuse_instances,\n            convert_sets=convert_sets,\n            skip_none=skip_none,\n        ),\n        **opts,\n    )\n</code></pre>"},{"location":"api/#serde.msgpack","title":"msgpack","text":"<p>Serialize and Deserialize in MsgPack format. This module depends on msgpack package.</p>"},{"location":"api/#serde.msgpack.from_msgpack","title":"from_msgpack","text":"<pre><code>from_msgpack(\n    c: type[T],\n    s: bytes,\n    de: type[Deserializer[bytes]] = MsgPackDeserializer,\n    named: bool = True,\n    ext_dict: dict[int, type[Any]] | None = None,\n    **opts: Any\n) -&gt; T\n</code></pre><pre><code>from_msgpack(\n    c: Any,\n    s: bytes,\n    de: type[Deserializer[bytes]] = MsgPackDeserializer,\n    named: bool = True,\n    ext_dict: dict[int, type[Any]] | None = None,\n    **opts: Any\n) -&gt; Any\n</code></pre> <pre><code>from_msgpack(\n    c: Any,\n    s: bytes,\n    de: type[Deserializer[bytes]] = MsgPackDeserializer,\n    named: bool = True,\n    ext_dict: dict[int, type[Any]] | None = None,\n    skip_none: bool = False,\n    **opts: Any\n) -&gt; Any\n</code></pre> <p>Deserialize from MsgPack into the object.</p> <p><code>c</code> is a class object and <code>s</code> is MsgPack binary. If <code>ext_dict</code> option is specified, <code>c</code> is ignored and type is inferred from <code>msgpack.ExtType</code> If you supply other keyword arguments, they will be passed in <code>msgpack.unpackb</code> function.</p> <p>If you want to use the other msgpack package, you can subclass <code>MsgPackDeserializer</code> and implement your own logic.</p> Source code in <code>serde/msgpack.py</code> <pre><code>def from_msgpack(\n    c: Any,\n    s: bytes,\n    de: type[Deserializer[bytes]] = MsgPackDeserializer,\n    named: bool = True,\n    ext_dict: dict[int, type[Any]] | None = None,\n    skip_none: bool = False,\n    **opts: Any,\n) -&gt; Any:\n    \"\"\"\n    Deserialize from MsgPack into the object.\n\n    `c` is a class object and `s` is MsgPack binary. If `ext_dict` option is specified,\n    `c` is ignored and type is inferred from `msgpack.ExtType` If you supply other keyword\n    arguments, they will be passed in `msgpack.unpackb` function.\n\n    If you want to use the other msgpack package, you can subclass `MsgPackDeserializer`\n    and implement your own logic.\n    \"\"\"\n    if ext_dict is not None:\n        ext = de.deserialize(s, **opts)\n        ext_type = ext_dict.get(ext.code)\n        if ext_type is None:\n            raise SerdeError(f\"Could not find type for code {ext.code} in ext_dict\")\n        return from_msgpack(ext_type, ext.data, de, named, **opts)\n    else:\n        from_func = from_dict if named else from_tuple\n        return from_func(c, de.deserialize(s, **opts), reuse_instances=False)\n</code></pre>"},{"location":"api/#serde.msgpack.to_msgpack","title":"to_msgpack","text":"<pre><code>to_msgpack(\n    obj: Any,\n    cls: Any | None = None,\n    se: type[Serializer[bytes]] = MsgPackSerializer,\n    named: bool = True,\n    ext_dict: dict[type[Any], int] | None = None,\n    reuse_instances: bool = False,\n    convert_sets: bool = True,\n    **opts: Any\n) -&gt; bytes\n</code></pre> <p>Serialize the object into MsgPack.</p> <p>You can pass any serializable <code>obj</code>. If <code>ext_dict</code> option is specified, <code>obj</code> is encoded as a <code>msgpack.ExtType</code> If you supply other keyword arguments, they will be passed in <code>msgpack.packb</code> function.</p> <ul> <li> <p><code>named</code>: If <code>named</code> is True, field names are preserved, namely the object is encoded as <code>dict</code> then serialized into MsgPack.  If <code>named</code> is False, the object is encoded as <code>tuple</code> then serialized into MsgPack. <code>named=False</code> will produces compact binary.</p> </li> <li> <p><code>skip_none</code>: When set to True, any field in the class with a None value is excluded from the serialized output. Defaults to False.</p> </li> </ul> <p>If you want to use the other msgpack package, you can subclass <code>MsgPackSerializer</code> and implement your own logic.</p> Source code in <code>serde/msgpack.py</code> <pre><code>def to_msgpack(\n    obj: Any,\n    cls: Any | None = None,\n    se: type[Serializer[bytes]] = MsgPackSerializer,\n    named: bool = True,\n    ext_dict: dict[type[Any], int] | None = None,\n    reuse_instances: bool = False,\n    convert_sets: bool = True,\n    **opts: Any,\n) -&gt; bytes:\n    \"\"\"\n    Serialize the object into MsgPack.\n\n    You can pass any serializable `obj`. If `ext_dict` option is specified, `obj` is encoded\n    as a `msgpack.ExtType` If you supply other keyword arguments, they will be passed in\n    `msgpack.packb` function.\n\n    * `named`: If `named` is True, field names are preserved, namely the object is encoded as `dict`\n    then serialized into MsgPack.  If `named` is False, the object is encoded as `tuple` then\n    serialized into MsgPack. `named=False` will produces compact binary.\n\n    * `skip_none`: When set to True, any field in the class with a None value is excluded from the\n    serialized output. Defaults to False.\n\n    If you want to use the other msgpack package, you can subclass `MsgPackSerializer` and\n    implement your own logic.\n    \"\"\"\n    ext_type_code = None\n    if ext_dict is not None:\n        obj_type = type(obj)\n        ext_type_code = ext_dict.get(obj_type)\n        if ext_type_code is None:\n            raise SerdeError(f\"Could not find type code for {obj_type.__name__} in ext_dict\")\n\n    kwargs: Any = {\"c\": cls, \"reuse_instances\": reuse_instances, \"convert_sets\": convert_sets}\n    dict_or_tuple = to_dict(obj, **kwargs) if named else to_tuple(obj, **kwargs)\n    return se.serialize(\n        dict_or_tuple,\n        ext_type_code=ext_type_code,\n        **opts,\n    )\n</code></pre>"},{"location":"api/#serde.pickle","title":"pickle","text":"<p>Serialize and Deserialize in Pickle format.</p>"},{"location":"api/#serde.pickle.from_pickle","title":"from_pickle","text":"<pre><code>from_pickle(\n    c: type[T],\n    data: bytes,\n    de: type[Deserializer[bytes]] = PickleDeserializer,\n    **opts: Any\n) -&gt; T\n</code></pre><pre><code>from_pickle(\n    c: Any,\n    data: bytes,\n    de: type[Deserializer[bytes]] = PickleDeserializer,\n    **opts: Any\n) -&gt; Any\n</code></pre> <pre><code>from_pickle(\n    c: Any,\n    data: bytes,\n    de: type[Deserializer[bytes]] = PickleDeserializer,\n    **opts: Any\n) -&gt; Any\n</code></pre> Source code in <code>serde/pickle.py</code> <pre><code>def from_pickle(\n    c: Any, data: bytes, de: type[Deserializer[bytes]] = PickleDeserializer, **opts: Any\n) -&gt; Any:\n    return from_dict(c, de.deserialize(data, **opts), reuse_instances=False)\n</code></pre>"},{"location":"api/#serde.pickle.to_pickle","title":"to_pickle","text":"<pre><code>to_pickle(\n    obj: Any,\n    cls: Any | None = None,\n    se: type[Serializer[bytes]] = PickleSerializer,\n    reuse_instances: bool = False,\n    convert_sets: bool = True,\n    skip_none: bool = False,\n    **opts: Any\n) -&gt; bytes\n</code></pre> Source code in <code>serde/pickle.py</code> <pre><code>def to_pickle(\n    obj: Any,\n    cls: Any | None = None,\n    se: type[Serializer[bytes]] = PickleSerializer,\n    reuse_instances: bool = False,\n    convert_sets: bool = True,\n    skip_none: bool = False,\n    **opts: Any,\n) -&gt; bytes:\n    return se.serialize(\n        to_dict(obj, c=cls, reuse_instances=reuse_instances, convert_sets=convert_sets), **opts\n    )\n</code></pre>"},{"location":"","title":"Introduction","text":"<p><code>pyserde</code> is a simple yet powerful serialization library on top of dataclasses. It allows you to convert Python objects to and from JSON, YAML, and other formats easily and efficiently.</p> <p>pyserde focuses on dataclass-first workflows and keeps runtime overhead low by generating serializers when classes are loaded.</p> <p>Highlights</p> <ul> <li>Multiple formats (<code>dict</code>, <code>tuple</code>, JSON, YAML, TOML, MsgPack, Pickle)</li> <li>Rich type support (Optional, Union, Literals, enums, datetime, numpy, etc.)</li> <li>Runtime type checking and extensibility hooks</li> </ul> <p>Declare your class with <code>@serde</code> decorator and annotate fields using PEP484 as below.</p> <pre><code>from serde import serde\n\n@serde\nclass Foo:\n    i: int\n    s: str\n    f: float\n    b: bool\n</code></pre> <p>You can serialize <code>Foo</code> object into JSON.</p> <pre><code>&gt;&gt;&gt; from serde.json import to_json\n&gt;&gt;&gt; to_json(Foo(i=10, s='foo', f=100.0, b=True))\n'{\"i\":10,\"s\":\"foo\",\"f\":100.0,\"b\":true}'\n</code></pre> <p>You can deserialize JSON into <code>Foo</code> object. <pre><code>&gt;&gt;&gt; from serde.json import from_json\n&gt;&gt;&gt; from_json(Foo, '{\"i\": 10, \"s\": \"foo\", \"f\": 100.0, \"b\": true}')\nFoo(i=10, s='foo', f=100.0, b=True)\n</code></pre></p> <p>pyserde also provides in-memory formats like <code>dict</code> and <code>tuple</code>, plus YAML, TOML, MsgPack, and Pickle when their extras are installed.</p> <pre><code>&gt;&gt;&gt; from serde import to_dict, from_dict\n&gt;&gt;&gt; to_dict(Foo(i=10, s='foo', f=100.0, b=True))\n{\"i\": 10, \"s\": \"foo\", \"f\": 100.0, \"b\": True}\n&gt;&gt;&gt; from_dict(Foo, {\"i\": 10, \"s\": \"foo\", \"f\": 100.0, \"b\": True})\nFoo(i=10, s='foo', f=100.0, b=True)\n</code></pre>"},{"location":"class-attributes/","title":"Class Attributes","text":"<p>Class attributes can be specified as arguments in the <code>serialize</code>/<code>deserialize</code> decorators in order to customize the (de)serialization behaviour of the class entirely. If you want to customize a field, please consider using Field Attributes.</p> <p>Class attributes affect how every field is treated, so they are ideal for naming conventions, tagging, or behavior that must be consistent across the whole class.</p>"},{"location":"class-attributes/#attributes-offered-by-dataclasses","title":"Attributes offered by dataclasses","text":""},{"location":"class-attributes/#frozen","title":"<code>frozen</code>","text":"<p>dataclass <code>frozen</code> class attribute works as expected.</p>"},{"location":"class-attributes/#kw_only","title":"<code>kw_only</code>","text":"<p>New in v0.12.2. dataclass <code>kw_only</code> class attribute works as expected.</p> <pre><code>@serde\n@dataclass(kw_only=True)\nclass Foo:\n    i: int\n    s: str\n    f: float\n    b: bool\n</code></pre> <p>See examples/kw_only.py for the complete example.</p>"},{"location":"class-attributes/#attributes-offered-by-pyserde","title":"Attributes offered by pyserde","text":""},{"location":"class-attributes/#rename_all","title":"<code>rename_all</code>","text":"<p><code>rename_all</code> can converts field names into the specified string case. The following example converts camel case field names into snake case names. Case coversion depends on python-casefy. You can find the list of supported cases in the python-casefy's docs.</p> <pre><code>@serde(rename_all = 'camelcase')\nclass Foo:\n    int_field: int\n    str_field: str\n\nf = Foo(int_field=10, str_field='foo')\nprint(to_json(f))\n</code></pre> <p>\"int_field\" is converted to \"intField\" and \"str_field\" is converted to \"strField\".</p> <pre><code>{\"intField\": 10, \"strField\": \"foo\"}\n</code></pre> <p>Note</p> <p>If <code>rename_all</code> class attribute and <code>rename</code> field attribute are used at the same time, <code>rename</code> will be prioritized.</p> <p><pre><code>@serde(rename_all = 'camelcase')\nclass Foo:\n    int_field: int\n    str_field: str = field(rename='str-field')\n\nf = Foo(int_field=10, str_field='foo')\nprint(to_json(f))\n</code></pre> The above code prints <pre><code>{\"intField\": 10, \"str-field\": \"foo\"}\n</code></pre></p> <p>See examples/rename_all.py for the complete example.</p>"},{"location":"class-attributes/#tagging","title":"<code>tagging</code>","text":"<p>New in v0.7.0. See Union.</p>"},{"location":"class-attributes/#transparent","title":"<code>transparent</code>","text":"<p>When <code>transparent=True</code>, a wrapper class with a single field is (de)serialized as that field, like serde-rs <code>#[serde(transparent)]</code>.</p> <pre><code>@serde(transparent=True)\nclass UserId:\n    value: int\n\nassert to_json(UserId(1)) == \"1\"\nassert from_json(UserId, \"1\") == UserId(1)\n</code></pre> <p>Constraints: * The class must have exactly one <code>init=True</code> field that is not skipped. * Any other dataclass fields must be both <code>init=False</code> and <code>skip=True</code> (e.g. internal cache fields).</p>"},{"location":"class-attributes/#class_serializer-class_deserializer","title":"<code>class_serializer</code> / <code>class_deserializer</code>","text":"<p>If you want to use a custom (de)serializer at class level, you can pass your (de)serializer object in <code>class_serializer</code> and <code>class_deserializer</code> class attributes. Class custom (de)serializer depends on a python library plum which allows multiple method overloading like C++. With plum, you can write robust custom (de)serializer in a quite neat way.</p> <pre><code>class MySerializer:\n    @dispatch\n    def serialize(self, value: datetime) -&gt; str:\n        return value.strftime(\"%d/%m/%y\")\n\nclass MyDeserializer:\n    @dispatch\n    def deserialize(self, cls: Type[datetime], value: Any) -&gt; datetime:\n        return datetime.strptime(value, \"%d/%m/%y\")\n\n@serde(class_serializer=MySerializer(), class_deserializer=MyDeserializer())\nclass Foo:\n    v: datetime\n</code></pre> <p>One big difference from legacy <code>serializer</code> and <code>deserializer</code> is the fact that new <code>class_serializer</code> and <code>class_deserializer</code> are more deeply integrated at the pyserde's code generator level. You no longer need to handle Optional, List and Nested dataclass by yourself. Custom class (de)serializer will be used at all level of (de)serialization so you can extend pyserde to support third party types just like builtin types.</p> <p>Also, * If both field and class serializer specified, field serializer is prioritized * If both legacy and new class serializer specified, new class serializer is prioritized</p> <p>Tip</p> <p>If you implements multiple <code>serialize</code> methods, you will receive \"Redefinition of unused <code>serialize</code>\" warning from type checker. In such case, try using <code>plum.overload</code> and <code>plum.dispatch</code> to workaround it. See plum's documentation for more information.</p> <pre><code>from plum import dispatch, overload\n\nclass Serializer:\n   # use @overload\n   @overload\n   def serialize(self, value: int) -&gt; Any:\n       return str(value)\n\n   # use @overload\n   @overload\n   def serialize(self, value: float) -&gt; Any:\n       return int(value)\n\n   # Add method time and make sure to add @dispatch. Plum will do all the magic to erase warnings from type checker.\n   @dispatch\n   def serialize(self, value: Any) -&gt; Any:\n       ...\n</code></pre> <p>See examples/custom_class_serializer.py for complete example.</p> <p>New in v0.13.0.</p>"},{"location":"class-attributes/#serializer-deserializer","title":"<code>serializer</code> / <code>deserializer</code>","text":"<p>Deprecated</p> <p>Deprecated since v0.13.0. Consider using <code>class_serializer</code> and <code>class_deserializer</code>.</p> <p>If you want to use a custom (de)serializer at class level, you can pass your (de)serializer methods in <code>serializer</code> and <code>deserializer</code> class attributes.</p> <pre><code>def serializer(cls, o):\n    if cls is datetime:\n        return o.strftime('%d/%m/%y')\n    else:\n        raise SerdeSkip()\n\ndef deserializer(cls, o):\n    if cls is datetime:\n        return datetime.strptime(o, '%d/%m/%y')\n    else:\n        raise SerdeSkip()\n\n@serde(serializer=serializer, deserializer=deserializer)\nclass Foo:\n    a: datetime\n</code></pre> <p>See examples/custom_legacy_class_serializer.py for complete example.</p>"},{"location":"class-attributes/#type_check","title":"<code>type_check</code>","text":"<p>New in v0.9.0. See Type Check.</p>"},{"location":"class-attributes/#serialize_class_var","title":"<code>serialize_class_var</code>","text":"<p>New in v0.9.8. Since <code>dataclasses.fields</code> doesn't include a class variable <sup>1</sup>, pyserde doesn't serialize class variable as default. This option allows a field of <code>typing.ClassVar</code> to be serialized.</p> <pre><code>@serde(serialize_class_var=True)\nclass Foo:\n    a: ClassVar[int] = 10\n</code></pre> <p>See examples/class_var.py for complete example.</p>"},{"location":"class-attributes/#skip_if_default","title":"<code>skip_if_default</code>","text":"<p>New in v0.30.0. When <code>skip_if_default=True</code> is set on the class decorator, every field is skipped during (de)serialization if its value equals its default (or the result of its <code>default_factory</code>). Field-level <code>skip_if_default</code> still wins, so you can turn it off for specific fields by setting <code>skip_if_default=False</code> on that field.</p> <pre><code>@serde(skip_if_default=True)\nclass Settings:\n    theme: str = \"light\"\n    retries: int = 3\n    api_key: str | None = None\n    # this one is kept even though class-level skipping is on\n    note: str = field(default=\"keep me\", skip_if_default=False)\n</code></pre> <p>Nested dataclasses respect the class-level setting, and defaults created via <code>default_factory</code> are handled as well. See examples/skip_if_default_class.py for a runnable demo.</p>"},{"location":"class-attributes/#skip_if_none","title":"<code>skip_if_none</code>","text":"<p>New in v0.30.0. When <code>skip_if_none=True</code> is set on the class decorator, all fields whose value is <code>None</code> are skipped during (de)serialization. Field-level <code>skip_if_none</code> overrides the class setting (<code>False</code> keeps the field even when it is <code>None</code>).</p> <pre><code>@serde(skip_if_none=True)\nclass Profile:\n    nickname: str | None = None\n    bio: str | None = field(default=None, skip_if_none=False)  # keep even when None\n</code></pre> <p>Use this when you want compact payloads but need to keep specific <code>None</code> fields.</p>"},{"location":"class-attributes/#deny_unknown_fields","title":"<code>deny_unknown_fields</code>","text":"<p>New in v0.22.0, the <code>deny_unknown_fields</code> option in the pyserde decorator allows you to enforce strict field validation during deserialization. When this option is enabled, any fields in the input data that are not defined in the target class will cause deserialization to fail with a <code>SerdeError</code>.</p> <p>Consider the following example: <pre><code>@serde(deny_unknown_fields=True)\nclass Foo:\n    a: int\n    b: str\n</code></pre></p> <p>With <code>deny_unknown_fields=True</code>, attempting to deserialize data containing fields beyond those defined (a and b in this case) will raise an error. For instance: <pre><code>from_json(Foo, '{\"a\": 10, \"b\": \"foo\", \"c\": 100.0, \"d\": true}')\n</code></pre> This will raise a <code>SerdeError</code> since fields c and d are not recognized members of Foo.</p> <p>See examples/deny_unknown_fields.py for complete example.</p> <ol> <li> <p>dataclasses.fields \u21a9</p> </li> </ol>"},{"location":"data-formats/","title":"Data Formats","text":"<p>pyserde supports several data formats for serialization and deserialization, including <code>dict</code>, <code>tuple</code>, <code>JSON</code>, <code>YAML</code>, <code>TOML</code>, <code>MsgPack</code>, and <code>Pickle</code>. Each API can take additional keyword arguments, which are forwarded to the underlying packages used by pyserde.</p> <p>Use the format-specific modules (e.g. <code>serde.json</code>, <code>serde.yaml</code>) when you want to control serialization options. For example, if you want to preserve the field order in YAML, you can pass <code>sort_key=True</code> in <code>serde.yaml.to_yaml</code>.</p> <pre><code>serde.yaml.to_yaml(foo, sort_key=True)\n</code></pre> <p><code>sort_key=True</code> will be passed in the yaml.safedump</p> <p>Note</p> <p>JSON, YAML, TOML, and MsgPack formats require their matching extras. <code>dict</code>, <code>tuple</code>, and Pickle work without optional dependencies.</p>"},{"location":"data-formats/#dict","title":"dict","text":"<pre><code>&gt;&gt;&gt; from serde import to_dict, from_dict\n\n&gt;&gt;&gt; to_dict(Foo(i=10, s='foo', f=100.0, b=True))\n{\"i\": 10, \"s\": \"foo\", \"f\": 100.0, \"b\": True}\n\n&gt;&gt;&gt; from_dict(Foo, {\"i\": 10, \"s\": \"foo\", \"f\": 100.0, \"b\": True})\nFoo(i=10, s='foo', f=100.0, b=True)\n</code></pre> <p>See serde.to_dict / serde.from_dict for more information.</p>"},{"location":"data-formats/#tuple","title":"tuple","text":"<pre><code>&gt;&gt;&gt; from serde import to_tuple, from_tuple\n\n&gt;&gt;&gt; to_tuple(Foo(i=10, s='foo', f=100.0, b=True))\n(10, 'foo', 100.0, True)\n\n&gt;&gt;&gt; from_tuple(Foo, (10, 'foo', 100.0, True))\nFoo(i=10, s='foo', f=100.0, b=True)\n</code></pre> <p>See serde.to_tuple / serde.from_tuple for more information.</p>"},{"location":"data-formats/#json","title":"JSON","text":"<pre><code>&gt;&gt;&gt; from serde.json import to_json, from_json\n\n&gt;&gt;&gt; to_json(Foo(i=10, s='foo', f=100.0, b=True))\n'{\"i\":10,\"s\":\"foo\",\"f\":100.0,\"b\":true}'\n\n&gt;&gt;&gt; from_json(Foo, '{\"i\": 10, \"s\": \"foo\", \"f\": 100.0, \"b\": true}')\nFoo(i=10, s='foo', f=100.0, b=True)\n</code></pre> <p>If you enable the <code>orjson</code> extra, pyserde can use it under the hood for faster JSON encoding/decoding.</p> <p>See serde.json.to_json / serde.json.from_json for more information.</p>"},{"location":"data-formats/#yaml","title":"Yaml","text":"<pre><code>&gt;&gt;&gt; from serde.yaml import from_yaml, to_yaml\n\n&gt;&gt;&gt; to_yaml(Foo(i=10, s='foo', f=100.0, b=True))\nb: true\nf: 100.0\ni: 10\ns: foo\n\n&gt;&gt;&gt; from_yaml(Foo, 'b: true\\nf: 100.0\\ni: 10\\ns: foo')\nFoo(i=10, s='foo', f=100.0, b=True)\n</code></pre> <p>See serde.yaml.to_yaml / serde.yaml.from_yaml for more information.</p>"},{"location":"data-formats/#toml","title":"Toml","text":"<pre><code>&gt;&gt;&gt; from serde.toml import from_toml, to_toml\n\n&gt;&gt;&gt; to_toml(Foo(i=10, s='foo', f=100.0, b=True))\ni = 10\ns = \"foo\"\nf = 100.0\nb = true\n\n&gt;&gt;&gt; from_toml(Foo, 'i = 10\\ns = \"foo\"\\nf = 100.0\\nb = true')\nFoo(i=10, s='foo', f=100.0, b=True)\n</code></pre> <p>See serde.toml.to_toml / serde.toml.from_toml for more information.</p>"},{"location":"data-formats/#msgpack","title":"MsgPack","text":"<pre><code>&gt;&gt;&gt; from serde.msgpack import from_msgpack, to_msgpack\n\n&gt;&gt;&gt; to_msgpack(Foo(i=10, s='foo', f=100.0, b=True))\nb'\\x84\\xa1i\\n\\xa1s\\xa3foo\\xa1f\\xcb@Y\\x00\\x00\\x00\\x00\\x00\\x00\\xa1b\\xc3'\n\n&gt;&gt;&gt; from_msgpack(Foo, b'\\x84\\xa1i\\n\\xa1s\\xa3foo\\xa1f\\xcb@Y\\x00\\x00\\x00\\x00\\x00\\x00\\xa1b\\xc3')\nFoo(i=10, s='foo', f=100.0, b=True)\n</code></pre> <p>See serde.msgpack.to_msgpack / serde.msgpack.from_msgpack for more information.</p>"},{"location":"data-formats/#pickle","title":"Pickle","text":"<p>New in v0.9.6</p> <pre><code>&gt;&gt;&gt; from serde.pickle import from_pickle, to_pickle\n\n&gt;&gt;&gt; to_pickle(Foo(i=10, s='foo', f=100.0, b=True))\nb\"\\x80\\x04\\x95'\\x00\\x00\\x00\\x00\\x00\\x00\\x00}\\x94(\\x8c\\x01i\\x94K\\n\\x8c\\x01s\\x94\\x8c\\x03foo\\x94\\x8c\\x01f\\x94G@Y\\x00\\x00\\x00\\x00\\x00\\x00\\x8c\\x01b\\x94\\x88u.\"\n\n&gt;&gt;&gt; from_pickle(Foo, b\"\\x80\\x04\\x95'\\x00\\x00\\x00\\x00\\x00\\x00\\x00}\\x94(\\x8c\\x01i\\x94K\\n\\x8c\\x01s\\x94\\x8c\\x03foo\\x94\\x8c\\x01f\\x94G@Y\\x00\\x00\\x00\\x00\\x00\\x00\\x8c\\x01b\\x94\\x88u.\")\nFoo(i=10, s='foo', f=100.0, b=True)\n</code></pre> <p>See serde.pickle.to_pickle / serde.pickle.from_pickle for more information.</p>"},{"location":"data-formats/#needs-a-new-data-format-support","title":"Needs a new data format support?","text":"<p>We don't plan to support a data format such as XML to keep pyserde as simple as possible. If you need a new data format support, we recommend to create a separate python package. If the data format is interchangable to dict or tuple, implementing the serialize/deserialize API is not that difficult. See YAML's implementation to know how to implement.</p>"},{"location":"decorators/","title":"Decorators","text":""},{"location":"decorators/#serde","title":"<code>@serde</code>","text":"<p><code>@serde</code> is a wrapper of <code>@serialize</code> and <code>@deserialize</code> decorators.</p> <p>This code <pre><code>@serde\nclass Foo:\n    ...\n</code></pre></p> <p>is equivalent to the following code.</p> <pre><code>@deserialize\n@serialize\n@dataclass\nclass Foo:\n    ...\n</code></pre> <p><code>@serde</code> decorator does these for you: * Add <code>@serialize</code> and <code>@deserialize</code> decorators to a class * Add <code>@dataclass</code> decorator to a class if a class doesn't have <code>@dataclass</code> * You can pass both (de)serialize attributes to the decorator     * <code>serializer</code> attribute is ignored in <code>@deserialize</code> and <code>deserializer</code> attribute is ignored in <code>@serialize</code></p> <p>Use <code>@serde</code> for most classes unless you need separate serialization/deserialization configs.</p> <pre><code>@serde(serializer=serializer, deserializer=deserializer)\n@dataclass\nclass Foo:\n    ...\n</code></pre> <p>Note</p> <p><code>@serde</code> actually works without @dataclass decorator, because it detects and add @dataclass to the declared class automatically. However, mypy will produce <code>Too many arguments</code> or <code>Unexpected keyword argument</code> error. This is due to the mypy limitation.</p> <pre><code>@serde\nclass Foo:\n    ...\n</code></pre> <p>But if you use a PEP681 compliant type checker (e.g. pyright), you don't get the type error because pyserde supports PEP681 dataclass_transform</p>"},{"location":"decorators/#serializedeserialize","title":"<code>@serialize</code>/<code>@deserialize</code>","text":"<p><code>@serialize</code> and <code>@deserialize</code> are used by <code>@serde</code> under the hood. We recommend to use those two decorators in the following cases. Otherwise <code>@serde</code> is recommended. * You only need either serialization or deserialization functionality * You want to have different class attributes as below</p> <pre><code>@deserialize(rename_all = \"snakecase\")\n@serialize(rename_all = \"camelcase\")\nclass Foo:\n    ...\n</code></pre>"},{"location":"decorators/#deserializing-class-without-serde","title":"(de)serializing class without <code>@serde</code>","text":"<p>pyserde can (de)serialize dataclasses without <code>@serde</code> since v0.10.0. This feature is convenient when you want to use classes declared in external libraries or a type checker doesn't work with <code>@serde</code> decorator. See this example.</p> <p>How does it work? It's quite simple that pyserde add <code>@serde</code> decorator if a class doesn't has it. It may take for a while for the first API call, but the generated code will be cached internally. So it won't be a problem. See the following example to deserialize a class in a third party package.</p> <pre><code>@dataclass\nclass External:\n    ...\n\nto_dict(External()) # works without @serde\n</code></pre> <p>Note that you can't specify class attributes e.g. <code>rename_all</code> in this case. If you want to add a class attribute to an external dataclass, there is a technique to do that by extending dataclass. See this example.</p> <pre><code>@dataclass\nclass External:\n    some_value: int\n\n@serde(rename_all=\"kebabcase\")\n@dataclass\nclass Wrapper(External):\n    pass\n</code></pre>"},{"location":"decorators/#how-can-i-use-forward-references","title":"How can I use forward references?","text":"<p>pyserde supports forward references. If you replace a nested class name with with string, pyserde looks up and evaluate the decorator after nested class is defined.</p> <pre><code>from __future__ import annotations # make sure to import annotations\n\n@dataclass\nclass Foo:\n    i: int\n    s: str\n    bar: Bar  # Bar can be specified although it's declared afterward.\n\n@serde\n@dataclass\nclass Bar:\n    f: float\n    b: bool\n\n# Evaluate pyserde decorators after `Bar` is defined.\nserde(Foo)\n</code></pre>"},{"location":"decorators/#pep563-postponed-evaluation-of-annotations","title":"PEP563 Postponed Evaluation of Annotations","text":"<p>pyserde supports PEP563 Postponed evaluation of annotation.</p> <pre><code>from __future__ import annotations\nfrom serde import serde\n\n@serde\nclass Foo:\n    i: int\n    s: str\n    f: float\n    b: bool\n\n    def foo(self, cls: Foo):  # You can use \"Foo\" type before it's defined.\n        print('foo')\n</code></pre> <p>See examples/lazy_type_evaluation.py for complete example.</p>"},{"location":"extension/","title":"Extending pyserde","text":"<p>pyserde offers three ways to extend pyserde to support non builtin types.</p> <p>Choose field-level serializers for one-off fields, class serializers for reusable types, and global serializers to apply extensions project-wide.</p>"},{"location":"extension/#custom-field-deserializer","title":"Custom field (de)serializer","text":"<p>See custom field serializer.</p> <p>Tip</p> <p>Wrapping <code>serde.field</code> with your own field function makes it easy to configure field serializers:</p> <pre><code>import serde\n\ndef field(*args, **kwargs):\n    serde.field(*args, **kwargs, serializer=str)\n\n@serde\nclass Foo:\n    a: int = field(default=0)  # Configuring field serializer\n</code></pre>"},{"location":"extension/#custom-class-deserializer","title":"Custom class (de)serializer","text":"<p>See custom class serializer.</p>"},{"location":"extension/#custom-global-deserializer","title":"Custom global (de)serializer","text":"<p>You apply the custom (de)serialization for entire codebase by registering class (de)serializer by <code>add_serializer</code> and <code>add_deserializer</code>. Registered class (de)serializers are stacked in pyserde's global space and automatically used for all the pyserde classes.</p> <p>e.g. Implementing custom (de)serialization for <code>datetime.timedelta</code> using isodate package.</p> <p>Here is the code of registering class (de)serializer for <code>datetime.timedelta</code>. This package is actually published in PyPI as pyserde-timedelta.</p> <pre><code>from datetime import timedelta\nfrom plum import dispatch\nfrom typing import Type, Any\nimport isodate\nimport serde\n\nclass Serializer:\n    @dispatch\n    def serialize(self, value: timedelta) -&gt; Any:\n        return isodate.duration_isoformat(value)\n\nclass Deserializer:\n    @dispatch\n    def deserialize(self, cls: Type[timedelta], value: Any) -&gt; timedelta:\n        return isodate.parse_duration(value)\n\ndef init() -&gt; None:\n    serde.add_serializer(Serializer())\n    serde.add_deserializer(Deserializer())\n</code></pre> <p>Users of this package can reuse custom (de)serialization functionality for <code>datetime.timedelta</code> just by calling <code>serde_timedelta.init()</code>.</p> <p><pre><code>import serde_timedelta\nfrom serde import serde\nfrom serde.json import to_json, from_json\nfrom datetime import timedelta\n\nserde_timedelta.init()\n\n@serde\nclass Foo:\n    a: timedelta\n\nf = Foo(timedelta(hours=10))\njson = to_json(f)\nprint(json)\nprint(from_json(Foo, json))\n</code></pre> and you get <code>datetime.timedelta</code> to be serialized in ISO 8601 duration format! <pre><code>{\"a\":\"PT10H\"}\nFoo(a=datetime.timedelta(seconds=36000))\n</code></pre></p> <p>Tip</p> <p>You can register as many class (de)serializer as you want. This means you can use as many pyserde extensions as you want. Registered (de)serializers are stacked in the memory. A (de)serializer can be overridden by another (de)serializer.</p> <p>e.g. If you register 3 custom serializers in this order, the first serializer will completely overridden by the 3<sup>rd</sup> one. 2<sup>nd</sup> one works because it is implemented for a different type.</p> <ol> <li>Register Serializer for <code>int</code></li> <li>Register Serializer for <code>float</code></li> <li>Register Serializer for <code>int</code></li> </ol> <p>New in v0.13.0.</p>"},{"location":"faq/","title":"FAQ","text":""},{"location":"faq/#how-can-i-see-the-code-generated-by-pyserde","title":"How can I see the code generated by pyserde?","text":"<p>pyserde provides <code>inspect</code> submodule that works as commandline: <pre><code>python -m serde.inspect &lt;PATH_TO_FILE&gt; &lt;CLASS&gt;\n</code></pre></p> <p>This is useful when you want to understand generated code, debug custom serializers, or confirm how pyserde handles a specific type.</p> <p>e.g. in pyserde project</p> <pre><code>cd pyserde\nuv sync\nuv run python -m serde.inspect examples/simple.py Foo\n</code></pre> <p>Output <pre><code>Loading simple.Foo from examples.\n\n==================================================\n                       Foo\n==================================================\n\n--------------------------------------------------\n          Functions generated by pyserde\n--------------------------------------------------\ndef to_iter(obj, reuse_instances=True, convert_sets=False):\n    if reuse_instances is Ellipsis:\n        reuse_instances = True\n    if convert_sets is Ellipsis:\n        convert_sets = False\n    if not is_dataclass(obj):\n        return copy.deepcopy(obj)\n\n    Foo = serde_scope.types[\"Foo\"]\n    res = []\n    res.append(obj.i)\n    res.append(obj.s)\n    res.append(obj.f)\n    res.append(obj.b)\n    return tuple(res)\n...\n</code></pre></p>"},{"location":"field-attributes/","title":"Field Attributes","text":"<p>Field attributes are options to customize (de)serialization behaviour for a field of a dataclass. Use them when you want different wire formats, optional behavior, or custom logic for specific fields.</p>"},{"location":"field-attributes/#attributes-offered-by-dataclasses","title":"Attributes offered by dataclasses","text":""},{"location":"field-attributes/#default-default_factory","title":"<code>default</code> / <code>default_factory</code>","text":"<p><code>default</code> and <code>default_factory</code> work as expected. If a field has <code>default</code> or <code>default_factory</code> attribute, it behaves like an optional field. If the field is found in the data, the value is fetched from the data and set in the deserialized object. If the field is not found in the data, the specified default value is set in the deserialized object.</p> <pre><code>class Foo:\n    a: int = 10\n    b: int = field(default=10)  # same as field \"a\"\n    c: dict[str, int] = field(default_factory=dict)\n\nprint(from_dict(Foo, {}))  # prints Foo(a=10, b=10, c={})\n</code></pre> <p>See examples/default.py for the complete example.</p>"},{"location":"field-attributes/#classvar","title":"<code>ClassVar</code>","text":"<p><code>dataclasses.ClassVar</code> is a class variable for the dataclasses. Since dataclass treats ClassVar as pseudo-field and <code>dataclasses.field</code> doesn't pick ClassVar, pyserde doesn't (de)serialize ClassVar fields as a default behaviour. If you want to serialize ClassVar fields, consider using serialize_class_var class attribute.</p> <p>See examples/class_var.py for the complete example.</p>"},{"location":"field-attributes/#attributes-offered-by-pyserde","title":"Attributes offered by pyserde","text":"<p>Field attributes can be specified through <code>serde.field</code> or <code>dataclasses.field</code>. We recommend to use <code>serde.field</code> because it's shorter and type check works. Here is an example specifying <code>rename</code> attribute in both <code>serde.field</code> and <code>dataclasses.field</code>.</p> <pre><code>@serde.serde\nclass Foo:\n    a: str = serde.field(rename=\"A\")\n    b: str = dataclasses.field(metadata={\"serde_rename\": \"B\"})\n</code></pre>"},{"location":"field-attributes/#rename","title":"<code>rename</code>","text":"<p><code>rename</code> is used to rename field name during (de)serialization. This attribute is convenient when you want to use a python keyword in field name. For example, this code renames field name <code>id</code> to <code>ID</code>.</p> <pre><code>@serde\nclass Foo:\n    id: int = field(rename=\"ID\")\n</code></pre> <p>See examples/rename.py for the complete example.</p>"},{"location":"field-attributes/#skip","title":"<code>skip</code>","text":"<p><code>skip</code> is used to skip (de)serialization of the field with this attribute.</p> <pre><code>@serde\nclass Resource:\n    name: str\n    hash: str\n    metadata: dict[str, str] = field(default_factory=dict, skip=True)\n</code></pre> <p>See examples/skip.py and examples/skip_if_default_class.py for complete examples.</p>"},{"location":"field-attributes/#skip_serializing","title":"<code>skip_serializing</code>","text":"<p><code>skip_serializing</code> omits the field only when serializing. The field is still accepted on input.</p> <pre><code>@serde\nclass Credentials:\n    user: str\n    token: str = field(skip_serializing=True)\n</code></pre> <p>See examples/skip_serializing_deserializing.py for the complete example.</p>"},{"location":"field-attributes/#skip_deserializing","title":"<code>skip_deserializing</code>","text":"<p><code>skip_deserializing</code> ignores incoming data for the field and keeps its default/default_factory value. A default is required when the field participates in <code>__init__</code>.</p> <pre><code>@serde\nclass Profile:\n    username: str\n    session_id: str = field(default=\"generated\", skip_deserializing=True)\n</code></pre> <p>See examples/skip_serializing_deserializing.py for the complete example.</p>"},{"location":"field-attributes/#skip_if","title":"<code>skip_if</code>","text":"<p><code>skip_if</code> is used to skip (de)serialization of the field if the predicate function returns <code>True</code>.</p> <pre><code>@serde\nclass World:\n    buddy: str = field(default='', skip_if=lambda v: v == 'Pikachu')\n</code></pre> <p>See Class Attributes: skip_if_default for the class-level toggle, and examples/skip.py plus examples/skip_if_default_class.py for the complete examples.</p> <p>Note</p> <p><code>skip</code>, <code>skip_if</code>, <code>skip_if_false</code>, <code>skip_if_none</code>, and <code>skip_if_default</code> apply to both serialization and deserialization. Use <code>skip_serializing</code> / <code>skip_deserializing</code> to make direction-specific choices.</p>"},{"location":"field-attributes/#skip_if_false","title":"<code>skip_if_false</code>","text":"<p><code>skip</code> is used to skip (de)serialization of the field if the field evaluates to <code>False</code>. For example, this code skip (de)serializing if <code>enemies</code> is empty.</p> <pre><code>@serde\nclass World:\n    enemies: list[str] = field(default_factory=list, skip_if_false=True)\n</code></pre> <p>See examples/skip.py for the complete example.</p>"},{"location":"field-attributes/#skip_if_none","title":"<code>skip_if_none</code>","text":"<p><code>skip_if_none</code> skips (de)serialization of the field when its value is <code>None</code>.</p> <pre><code>@serde\nclass Profile:\n    nickname: str | None = field(default=None, skip_if_none=True)\n</code></pre> <p>You can also enable this for all fields in a class; see Class Attributes: skip_if_none. See examples/skip_if_none.py for a runnable example.</p>"},{"location":"field-attributes/#skip_if_default","title":"<code>skip_if_default</code>","text":"<p><code>skip_if_default</code> skips (de)serialization of the field when its value equals the default.</p> <pre><code>@serde\nclass World:\n    town: str = field(default='Masara Town', skip_if_default=True)\n</code></pre> <p>You can also enable it for every field in a class at once:</p> <pre><code>@serde(skip_if_default=True)\nclass Settings:\n    theme: str = \"light\"\n    retries: int = 3\n</code></pre> <p>Field-level values still override the class setting; set <code>skip_if_default=False</code> on a field to keep it even when class-level skipping is enabled.</p> <p>See examples/skip.py for the complete example.</p>"},{"location":"field-attributes/#alias","title":"<code>alias</code>","text":"<p>You can set aliases for field names. Alias only works for deserialization.</p> <pre><code>@serde\nclass Foo:\n    a: str = field(alias=[\"b\", \"c\"])\n</code></pre> <p><code>Foo</code> can be deserialized from either <code>{\"a\": \"...\"}</code>, <code>{\"b\": \"...\"}</code> or <code>{\"c\": \"...\"}</code>.</p> <p>See examples/alias.py for complete example.</p>"},{"location":"field-attributes/#serializerdeserializer","title":"<code>serializer</code>/<code>deserializer</code>","text":"<p>Sometimes you want to customize (de)serializer for a particular field, such as * You want to serialize datetime into a different format * You want to serialize a type in a third party package</p> <p>In the following example, field <code>a</code> is serialized into <code>\"2021-01-01T00:00:00\"</code> by the default serializer for <code>datetime</code>, whereas field <code>b</code> is serialized into <code>\"01/01/21\"</code> by the custom serializer.</p> <pre><code>@serde\nclass Foo:\n    a: datetime\n    b: datetime = field(serializer=lambda x: x.strftime('%d/%m/%y'), deserializer=lambda x: datetime.strptime(x, '%d/%m/%y'))\n</code></pre> <p>See examples/custom_field_serializer.py for the complete example.</p>"},{"location":"field-attributes/#flatten","title":"<code>flatten</code>","text":"<p>The <code>flatten</code> attribute can be used in two ways:</p>"},{"location":"field-attributes/#flatten-nested-dataclass","title":"Flatten nested dataclass","text":"<p>You can flatten the fields of the nested dataclass structure.</p> <pre><code>@serde\nclass Bar:\n    c: float\n    d: bool\n\n@serde\nclass Foo:\n    a: int\n    b: str\n    bar: Bar = field(flatten=True)\n</code></pre> <p>Bar's c, d fields are deserialized as if they are defined in Foo. So you will get <code>{\"a\":10,\"b\":\"foo\",\"c\":100.0,\"d\":true}</code> if you serialize <code>Foo</code> into JSON.</p> <p>See examples/flatten.py for complete example.</p>"},{"location":"field-attributes/#capture-additional-fields-with-dict","title":"Capture additional fields with dict","text":"<p>You can use <code>dict[str, Any]</code> or bare <code>dict</code> with <code>flatten=True</code> to capture all unknown/extra fields during deserialization, similar to Rust serde's <code>#[serde(flatten)]</code> on <code>HashMap&lt;String, Value&gt;</code>.</p> <pre><code>@serde\nclass User:\n    id: int\n    name: str\n    extra: dict[str, Any] = field(flatten=True, default_factory=dict)\n\n# Deserialization - extra fields captured\nuser = from_json(User, '{\"id\": 1, \"name\": \"Alice\", \"role\": \"admin\", \"active\": true}')\n# user.extra == {\"role\": \"admin\", \"active\": True}\n\n# Serialization - extra fields merged back\nuser2 = User(id=2, name=\"Bob\", extra={\"department\": \"Engineering\"})\nto_json(user2)  # '{\"id\": 2, \"name\": \"Bob\", \"department\": \"Engineering\"}'\n</code></pre> <p>Key features: - During deserialization, any fields not matching declared fields are captured in the dict - During serialization, the dict contents are merged into the output (declared fields take precedence) - Works with all data formats (JSON, YAML, TOML, MessagePack, etc.) - Can be combined with flattened dataclass fields</p> <p>See examples/flatten_dict.py for complete example.</p>"},{"location":"getting-started/","title":"Getting started","text":""},{"location":"getting-started/#installation","title":"Installation","text":"<p>Install pyserde from PyPI. pyserde requires Python&gt;=3.10.</p> <p>If you want faster JSON handling, you can also install <code>orjson</code> and use the <code>orjson</code> extra for optional acceleration.</p> <pre><code>pip install pyserde\n</code></pre> <p>If you're using uv, run this command. <pre><code>uv add pyserde\n</code></pre></p> <p>Additional data formats besides JSON and Pickle need additional dependencies installed. Install <code>msgpack</code>, <code>toml</code> or <code>yaml</code> extras to work with the appropriate data formats; you can skip formats that you don't plan to use. For example, if you want to use Toml and YAML:</p> <pre><code>pip install \"pyserde[toml,yaml]\"\n</code></pre> <p>With uv <pre><code>uv add pyserde --extra toml --extra yaml\n</code></pre></p> <p>Or all at once:</p> <pre><code>pip install \"pyserde[all]\"\n</code></pre> <p>With uv <pre><code>uv add pyserde --extra all\n</code></pre></p> <p>Here are the available extras:</p> <ul> <li><code>all</code>: Install <code>msgpack</code>, <code>toml</code>, <code>yaml</code>, <code>numpy</code>, <code>orjson</code>, and <code>sqlalchemy</code> extras</li> <li><code>msgpack</code>: Install msgpack</li> <li><code>toml</code>: Install tomli and tomli-w</li> <li><code>yaml</code>: Install pyyaml</li> <li><code>numpy</code>: Install numpy</li> <li><code>orjson</code>: Install orjson</li> <li><code>sqlalchemy</code>: Install sqlalchemy</li> </ul> <p>Note</p> <p>tomllib is used for python 3.11 onwards</p> <p>Note</p> <p>Extras enable additional formats and types, but you can mix them as needed. For example, install only <code>toml</code> and <code>yaml</code> if you do not need MsgPack or numpy.</p>"},{"location":"getting-started/#define-your-first-pyserde-class","title":"Define your first pyserde class","text":"<p>Define your class with pyserde's <code>@serde</code> decorators. Be careful that module name is <code>serde</code>, not <code>pyserde</code>. <code>pyserde</code> heavily depends on the standard library's <code>dataclasses</code> module. If you are new to dataclass, I would recommend to read dataclasses documentation first.</p> <pre><code>from serde import serde\n\n@serde\nclass Foo:\n    i: int\n    s: str\n    f: float\n    b: bool\n</code></pre> <p>pyserde generates methods necessary for (de)serialization by <code>@serde</code> when a class is loaded into python interpreter. The code generation occurs only once and there is no overhead when you use the class. Now your class is serializable and deserializable in all the data formats supported by pyserde.</p> <p>Note</p> <p>If you need only either serialization or deserialization functionality, you can use <code>@serialize</code> or <code>@deserialize</code> instead of <code>@serde</code> decorator.</p> <p>e.g. If you do only serialization, you can use <code>@serialize</code> decorator. But calling deserialize API e.g. <code>from_json</code> for <code>Foo</code> will raise an error. <pre><code>from serde import serialize\n\n@serialize\nclass Foo:\n    i: int\n    s: str\n    f: float\n    b: bool\n</code></pre></p>"},{"location":"getting-started/#pep585-and-pep604","title":"PEP585 and PEP604","text":"<p>PEP585 style annotations and the PEP604 union operator are supported for python&gt;=3.10. With PEP585 and PEP604, you can write a pyserde class pretty neatly. <pre><code>@serde\nclass Foo:\n    a: int\n    b: list[str]\n    c: tuple[int, float, str, bool]\n    d: dict[str, list[tuple[str, int]]]\n    e: str | None\n</code></pre></p>"},{"location":"getting-started/#use-pyserde-class","title":"Use pyserde class","text":"<p>Next, import pyserde (de)serialize APIs. For JSON:</p> <pre><code>from serde.json import from_json, to_json\n</code></pre> <p>Use <code>to_json</code> to serialize the object into JSON. <pre><code>f = Foo(i=10, s='foo', f=100.0, b=True)\nprint(to_json(f))\n</code></pre></p> <p>Pass <code>Foo</code> class and JSON string in <code>from_json</code> to deserialize JSON into the object. <pre><code>s = '{\"i\": 10, \"s\": \"foo\", \"f\": 100.0, \"b\": true}'\nprint(from_json(Foo, s))\n</code></pre></p> <p>You can also serialize to a Python <code>dict</code> when you need to manipulate data before writing it to a file or sending it over the network.</p> <pre><code>from serde import to_dict, from_dict\n\npayload = to_dict(f)\n# e.g. add a field before sending\npayload[\"source\"] = \"cli\"\nprint(from_dict(Foo, payload))\n</code></pre> <p>That's it! pyserde offers many more features. If you're interested, please read the rest of the documentation.</p> <p>Note</p> <p>If you plan to use YAML, TOML, or MsgPack, remember to install the matching extras listed above.</p> <p>Which type checker should I use?</p> <p>pyserde depends on PEP681 dataclass_transform. mypy does not fully support dataclass_transform as of Jan. 2024. My personal recommendation is pyright.</p>"},{"location":"type-check/","title":"Type Checking","text":"<p>pyserde offers runtime type checking since v0.9. It was completely reworked at v0.14 using beartype and it became more sophisticated and reliable. It is highly recommended to enable type checking always as it helps writing type-safe and robust programs.</p> <p>If you need to accept untrusted input, prefer <code>strict</code> or <code>coerce</code> so invalid data fails early.</p>"},{"location":"type-check/#strict","title":"<code>strict</code>","text":"<p>Strict type checking is to check every field value against the declared type during (de)serialization and object construction. This is the default type check mode since v0.14. What will happen with this mode is if you declare a class with <code>@serde</code> decorator without any class attributes, <code>@serde(type_check=strict)</code> is assumed and strict type checking is enabled.</p> <pre><code>@serde\nclass Foo:\n    s: str\n</code></pre> <p>If you call <code>Foo</code> with wrong type of object, <pre><code>foo = Foo(10)\n</code></pre></p> <p>you get an error <pre><code>beartype.roar.BeartypeCallHintParamViolation: Method __main__.Foo.__init__() parameter s=10 violates type hint &lt;class 'str'&gt;, as int 10 not instance of str.\n</code></pre></p> <p>Note</p> <p>beartype exception instead of SerdeError is raised from constructor because beartype does not provide post validation hook as of Feb. 2024.</p> <p>similarly, if you call (de)serialize APIs with wrong type of object,</p> <pre><code>print(to_json(foo))\n</code></pre> <p>again you get an error</p> <pre><code>serde.compat.SerdeError: Method __main__.Foo.__init__() parameter s=10 violates type hint &lt;class 'str'&gt;, as int 10 not instance of str.\n</code></pre> <p>Caveats regarding type checks by beartype</p> <ol> <li> <p>beartype can not validate on mutated properties</p> <p>The following code mutates the property \"s\" at the bottom. beartype can not detect this case. <pre><code>@serde\nclass Foo:\n    s: str\n\nf = Foo(\"foo\")\nf.s = 100\n</code></pre></p> </li> <li> <p>beartype can not validate every one of elements in containers. This is not a bug. This is desgin principle of beartype. See Does beartype actually do anything?.</p> </li> </ol>"},{"location":"type-check/#coerce","title":"<code>coerce</code>","text":"<p>Type coercing automatically converts a value into the declared type during (de)serialization. If the value is incompatible e.g. value is \"foo\" and type is int, pyserde raises an <code>SerdeError</code>.</p> <pre><code>@serde(type_check=coerce)\nclass Foo:\n    s: str\n\nfoo = Foo(10)\n# pyserde automatically coerce the int value 10 into \"10\".\n# {\"s\": \"10\"} will be printed.\nprint(to_json(foo))\n</code></pre>"},{"location":"type-check/#disabled","title":"<code>disabled</code>","text":"<p>This is the default behavior until pyserde v0.8.3 and v0.9.x. No type coercion or checks are run. Even if a user puts a wrong value, pyserde doesn't complain anything.</p> <pre><code>@serde\nclass Foo:\n    s: str\n\nfoo = Foo(10)\n# pyserde doesn't complain anything. {\"s\": 10} will be printed.\nprint(to_json(foo))\n</code></pre>"},{"location":"types/","title":"Types","text":"<p>Here is the list of the supported types. See the simple example for each type in the footnotes.</p> <p>Tip</p> <p>Most standard-library containers and datetime types just work, but you can always add custom serializers for third-party types.</p> <ul> <li>Primitives (int, float, str, bool) <sup>1</sup></li> <li>Containers<ul> <li><code>list</code>, <code>collections.abc.Sequence</code>, <code>collections.abc.MutableSequence</code>, <code>tuple</code> <sup>2</sup></li> <li><code>set</code>, <code>collections.abc.Set</code>, <code>collections.abc.MutableSet</code> <sup>2</sup></li> <li><code>dict</code>, <code>collections.abc.Mapping</code>, <code>collections.abc.MutableMapping</code> <sup>2</sup></li> <li><code>frozenset</code>, <sup>3</sup></li> <li><code>defaultdict</code> <sup>4</sup></li> <li><code>deque</code> <sup>25</sup></li> <li><code>Counter</code> <sup>26</sup></li> </ul> </li> <li><code>typing.Optional</code> <sup>5</sup></li> <li><code>typing.Union</code> <sup>6</sup> <sup>7</sup> <sup>8</sup></li> <li>User defined class with <code>@dataclass</code> <sup>9</sup> <sup>10</sup></li> <li><code>typing.NewType</code> for primitive types <sup>11</sup></li> <li><code>typing.Any</code> <sup>12</sup></li> <li><code>typing.Literal</code> <sup>13</sup></li> <li><code>typing.Generic</code> <sup>14</sup></li> <li><code>typing.ClassVar</code> <sup>15</sup></li> <li><code>typing.InitVar</code> <sup>16</sup></li> <li><code>Enum</code> and <code>IntEnum</code> <sup>17</sup></li> <li>Standard library<ul> <li><code>pathlib.Path</code> <sup>18</sup></li> <li><code>decimal.Decimal</code> <sup>19</sup></li> <li><code>uuid.UUID</code> <sup>20</sup></li> <li><code>datetime.date</code>, <code>datetime.time</code>, <code>datetime.datetime</code> <sup>21</sup></li> <li><code>ipaddress</code> <sup>22</sup></li> </ul> </li> <li>PyPI library<ul> <li><code>numpy</code> types <sup>23</sup></li> <li><code>SQLAlchemy</code> Declarative Dataclass Mapping (experimental) <sup>24</sup></li> </ul> </li> </ul> <p>You can write pretty complex class like this: <pre><code>@serde\nclass Bar:\n    i: int\n\n@serde\nclass Foo:\n    a: int\n    b: list[str]\n    c: tuple[int, float, str, bool]\n    d: dict[str, list[tuple[str, int]]]\n    e: str | None\n    f: Bar\n</code></pre></p>"},{"location":"types/#numpy","title":"Numpy","text":"<p>All of the above (de)serialization methods can transparently handle most numpy types with the \"numpy\" extras package.</p> <pre><code>import numpy as np\nimport numpy.typing as npt\n\n@serde\nclass NPFoo:\n    i: np.int32\n    j: np.int64\n    f: np.float32\n    g: np.float64\n    h: np.bool_\n    u: np.ndarray\n    v: npt.NDArray\n    w: npt.NDArray[np.int32]\n    x: npt.NDArray[np.int64]\n    y: npt.NDArray[np.float32]\n    z: npt.NDArray[np.float64]\n\nnpfoo = NPFoo(\n    np.int32(1),\n    np.int64(2),\n    np.float32(3.0),\n    np.float64(4.0),\n    np.bool_(False),\n    np.array([1, 2]),\n    np.array([3, 4]),\n    np.array([np.int32(i) for i in [1, 2]]),\n    np.array([np.int64(i) for i in [3, 4]]),\n    np.array([np.float32(i) for i in [5.0, 6.0]]),\n    np.array([np.float64(i) for i in [7.0, 8.0]]),\n)\n</code></pre> <pre><code>&gt;&gt;&gt; from serde.json import to_json, from_json\n\n&gt;&gt;&gt; to_json(npfoo)\n'{\"i\": 1, \"j\": 2, \"f\": 3.0, \"g\": 4.0, \"h\": false, \"u\": [1, 2], \"v\": [3, 4], \"w\": [1, 2], \"x\": [3, 4], \"y\": [5.0, 6.0], \"z\": [7.0, 8.0]}'\n\n&gt;&gt;&gt; from_json(NPFoo, to_json(npfoo))\nNPFoo(i=1, j=2, f=3.0, g=4.0, h=False, u=array([1, 2]), v=array([3, 4]), w=array([1, 2], dtype=int32), x=array([3, 4]), y=array([5., 6.], dtype=float32), z=array([7., 8.]))\n</code></pre>"},{"location":"types/#sqlalchemy-declarative-dataclass-mapping-experimental","title":"SQLAlchemy Declarative Dataclass Mapping (experimental)","text":"<p>While experimental support for SQLAlchemy Declarative Dataclass Mapping integration has been added, certain features such as <code>@serde(type_check=strict)</code> and <code>serde.field()</code> are not currently supported.</p> <p>It's recommended to exercise caution when relying on experimental features in production environments. It's also advisable to thoroughly test your code and be aware of potential limitations or unexpected behavior.</p>"},{"location":"types/#needs-a-new-type-support","title":"Needs a new type support?","text":"<p>If you need to use a type which is currently not supported in the standard library, please create a Github issue to request. For types in third party python packages, unless it's popular like numpy, we don't plan to support it to keep pyserde as simple as possible. We recommend to use custom class or field serializer.</p> <ol> <li> <p>See examples/simple.py \u21a9</p> </li> <li> <p>See examples/collection.py \u21a9\u21a9\u21a9</p> </li> <li> <p>See examples/frozen_set.py \u21a9</p> </li> <li> <p>See examples/default_dict.py \u21a9</p> </li> <li> <p>See examples/union.py \u21a9</p> </li> <li> <p>See examples/union.py \u21a9</p> </li> <li> <p>See examples/union_operator.py \u21a9</p> </li> <li> <p>See examples/union_tagging.py \u21a9</p> </li> <li> <p>See examples/simple.py \u21a9</p> </li> <li> <p>See examples/nested.py \u21a9</p> </li> <li> <p>See examples/newtype.py \u21a9</p> </li> <li> <p>See examples/any.py \u21a9</p> </li> <li> <p>See examples/literal.py \u21a9</p> </li> <li> <p>See examples/generics.py \u21a9</p> </li> <li> <p>See examples/class_var.py \u21a9</p> </li> <li> <p>See examples/init_var.py \u21a9</p> </li> <li> <p>See examples/enum34.py \u21a9</p> </li> <li> <p>See examples/type_pathlib.py \u21a9</p> </li> <li> <p>See examples/type_decimal.py \u21a9</p> </li> <li> <p>See examples/type_uuid.py \u21a9</p> </li> <li> <p>See examples/type_datetime.py \u21a9</p> </li> <li> <p>See examples/type_ipaddress.py \u21a9</p> </li> <li> <p>See examples/type_numpy.py \u21a9</p> </li> <li> <p>See examples/type_sqlalchemy.py \u21a9</p> </li> <li> <p>See examples/deque.py \u21a9</p> </li> <li> <p>See examples/counter.py \u21a9</p> </li> </ol>"},{"location":"union/","title":"Union Representation","text":"<p><code>pyserde</code>&gt;=0.7 offers attributes to control how Union is (de)serialized. This concept is the very same as the one in serde-rs. Note these representations only apply to the dataclass; non dataclass objects are (de)serialized with <code>Untagged</code> always.</p> <p>Use tagged unions whenever your Union members can be ambiguous (same field names/types), otherwise deserialization may choose the wrong type.</p>"},{"location":"union/#untagged","title":"<code>Untagged</code>","text":"<p>This is the default Union representation for pyserde&lt;0.7. Given these dataclasses,</p> <pre><code>@serde\nclass Bar:\n    b: int\n\n@serde\nclass Baz:\n    b: int\n\n@serde(tagging=Untagged)\nclass Foo:\n    a: Union[Bar, Baz]\n</code></pre> <p>Note that <code>Bar</code> and <code>Baz</code> have the same field name and type. If you serialize <code>Foo(Baz(10))</code> into dict, you get <code>{\"a\": {\"b\": 10}}</code>. But if you deserialize <code>{\"a\": {\"b\": 10}}</code>, you get <code>Foo(Bar(10))</code> instead of <code>Foo(Baz(10))</code>. This means pyserde can't correctly (de)serialize dataclasses of Union with <code>Untagged</code>. This is why pyserde offers other kinds of union representation options.</p>"},{"location":"union/#externaltagging","title":"<code>ExternalTagging</code>","text":"<p>This is the default Union representation since 0.7. A class declaration with <code>ExternalTagging</code> looks like below. If you serialize <code>Foo(Baz(10))</code> into dict, you get <code>{\"a\": {\"Baz\": {\"b\": 10}}}</code> and you can deserialize it back to <code>Foo(Baz(10))</code>. </p> <pre><code>@serde(tagging=ExternalTagging)\nclass Foo:\n    a: Union[Bar, Baz]\n</code></pre> <p>Note</p> <p>Non dataclass objects are alreays (de)serialized with <code>Untagged</code> regardless of <code>tagging</code> attribute because there is no information which can be used for tag. The drawback of <code>Untagged</code> is pyserde can't correctly deserialize certain types. For example, <code>Foo({1, 2, 3})</code> of below class is serialized into <code>{\"a\": [1, 2, 3]}</code>, but you get <code>Foo([1, 2, 3])</code> by deserializing.</p> <pre><code>@serde(tagging=ExternalTagging)\nclass Foo:\n   a: Union[list[int], set[int]]\n</code></pre>"},{"location":"union/#internaltagging","title":"<code>InternalTagging</code>","text":"<p>A class declaration with <code>InternalTagging</code> looks like below. If you serialize <code>Foo(Baz(10))</code> into dict, you will get <code>{\"a\": {\"type\": \"Baz\", \"b\": 10}}</code> and you can deserialize it back to <code>Foo(Baz(10))</code>. <code>type</code> tag is encoded inside the <code>Baz</code>'s dictionary.</p> <pre><code>@serde(tagging=InternalTagging(\"type\"))\nclass Foo:\n    a: Union[Bar, Baz]\n</code></pre>"},{"location":"union/#adjacenttagging","title":"<code>AdjacentTagging</code>","text":"<p>A class declaration with <code>AdjacentTagging</code> looks like below. If you serialize <code>Foo(Baz(10))</code> into dict, you will get <code>{\"a\": {\"type\": \"Baz\", \"content\": {\"b\": 10}}}</code> and you can deserialize it back to <code>Foo(Baz(10))</code>. <code>type</code> tag is encoded inside <code>Baz</code>'s dictionary and <code>Baz</code>s fields are encoded inside <code>content</code>.</p> <pre><code>@serde(tagging=AdjacentTagging(\"type\", \"content\"))\nclass Foo:\n    a: Union[Bar, Baz]\n</code></pre>"},{"location":"union/#deserializing-union-types-directly","title":"(de)serializing Union types directly","text":"<p>New in v0.12.0.</p> <p>Passing Union types directly in (de)serialize APIs (e.g. to_json, from_json) was partially supported prior to v0.12, but the union type was always treated as untagged. Users had no way to change the union tagging. The following example code wasn't able to correctly deserialize into <code>Bar</code> due to untagged.</p> <pre><code>@serde\nclass Foo:\n    a: int\n\n@serde\nclass Bar:\n    a: int\n\nbar = Bar(10)\ns = to_json(bar)\nprint(s)\n# prints {\"a\": 10}\nprint(from_json(Union[Foo, Bar], s))\n# prints Foo(10)\n</code></pre> <p>Since v0.12.0, pyserde can handle union that's passed in (de)serialize APIs a bit nicely. The union type is treated as externally tagged as that is the default tagging in pyserde. So the above example can correctly (de)serialize as <code>Bar</code>.</p> <pre><code>@serde\nclass Foo:\n    a: int\n\n@serde\nclass Bar:\n    a: int\n\nbar = Bar(10)\ns = to_json(bar, cls=Union[Foo, Bar])\nprint(s)\n# prints {\"Bar\" {\"a\": 10}}\nprint(from_json(Union[Foo, Bar], s))\n# prints Bar(10)\n</code></pre> <p>Also you can change the tagging using <code>serde.InternalTagging</code>, <code>serde.AdjacentTagging</code> and <code>serde.Untagged</code>.</p> <p>Now try to change the tagging for the above example. You need to pass a new argument <code>cls</code> in <code>to_json</code>. Also union class must be wrapped in either <code>InternalTagging</code>, <code>AdjacentTaging</code> or <code>Untagged</code> with required parameters.</p> <ul> <li>InternalTagging     <pre><code>from serde import InternalTagging\n\ns = to_json(bar, cls=InternalTagging(\"type\", Union[Foo, Bar]))\nprint(s)\n# prints {\"type\": \"Bar\", \"a\": 10}\nprint(from_json(InternalTagging(\"type\", Union[Foo, Bar]), s))\n# prints Bar(10)\n</code></pre></li> <li>AdjacentTagging     <pre><code>from serde import AdjacentTagging\n\ns = to_json(bar, cls=AdjacentTagging(\"type\", \"content\", Union[Foo, Bar]))\nprint(s)\n# prints {\"type\": \"Bar\", \"content\": {\"a\": 10}}\nprint(from_json(AdjacentTagging(\"type\", \"content\", Union[Foo, Bar]), s))\n# prints Bar(10)\n</code></pre></li> <li>Untagged     <pre><code>from serde import Untagged\n\ns = to_json(bar, cls=Untagged(Union[Foo, Bar]))\nprint(s)\n# prints {\"a\": 10}\nprint(from_json(Untagged(Union[Foo, Bar]), s))\n# prints Foo(10)\n</code></pre></li> </ul>"},{"location":"ja/","title":"Introduction","text":"<p><code>pyserde</code>\u306fdataclasses\u30d9\u30fc\u30b9\u306e\u30b7\u30f3\u30d7\u30eb\u3067\u5f37\u529b\u306a\u30b7\u30ea\u30a2\u30e9\u30a4\u30bc\u30fc\u30b7\u30e7\u30f3\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u3001\u30af\u30e9\u30b9\u3092JSON\u3084YAML\u7b49\u306e\u69d8\u3005\u306a\u30c7\u30fc\u30bf\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u7c21\u5358\u306b\u52b9\u7387\u7684\u306b\u5909\u63db\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002</p> <p>pyserde\u306fdataclass\u4e2d\u5fc3\u306e\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u3092\u60f3\u5b9a\u3057\u3001\u30af\u30e9\u30b9\u8aad\u307f\u8fbc\u307f\u6642\u306b\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u3092\u751f\u6210\u3059\u308b\u3053\u3068\u3067\u5b9f\u884c\u6642\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9\u3092\u6291\u3048\u307e\u3059\u3002</p> <p>\u4e3b\u306a\u7279\u5fb4</p> <ul> <li>\u8907\u6570\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u5bfe\u5fdc\uff08<code>dict</code>\u3001<code>tuple</code>\u3001JSON\u3001YAML\u3001TOML\u3001MsgPack\u3001Pickle\uff09</li> <li>\u30ea\u30c3\u30c1\u306a\u578b\u30b5\u30dd\u30fc\u30c8\uff08Optional\u3001Union\u3001Literal\u3001enum\u3001datetime\u3001numpy \u306a\u3069\uff09</li> <li>\u30e9\u30f3\u30bf\u30a4\u30e0\u578b\u30c1\u30a7\u30c3\u30af\u3068\u62e1\u5f35\u30d5\u30c3\u30af</li> </ul> <p>\u30af\u30e9\u30b9\u306b<code>@serde</code>\u30c7\u30b3\u30ec\u30fc\u30bf\u3092\u4ed8\u3051\u3001PEP484\u5f62\u5f0f\u3067\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u578b\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u307e\u3059\u3002</p> <pre><code>from serde import serde\n\n@serde\nclass Foo:\n    i: int\n    s: str\n    f: float\n    b: bool\n</code></pre> <p>\u3059\u308b\u3068\u3001<code>Foo</code>\u30af\u30e9\u30b9\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306bJSON\u306b\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u51fa\u6765\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p> <pre><code>&gt;&gt;&gt; from serde.json import to_json\n&gt;&gt;&gt; to_json(Foo(i=10, s='foo', f=100.0, b=True))\n'{\"i\":10,\"s\":\"foo\",\"f\":100.0,\"b\":true}'\n</code></pre> <p>\u307e\u305f\u3001JSON\u304b\u3089<code>Foo</code>\u30af\u30e9\u30b9\u306b\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3082\u51fa\u6765\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002 <pre><code>&gt;&gt;&gt; from serde.json import from_json\n&gt;&gt;&gt; from_json(Foo, '{\"i\": 10, \"s\": \"foo\", \"f\": 100.0, \"b\": true}')\nFoo(i=10, s='foo', f=100.0, b=True)\n</code></pre></p> <p>pyserde\u306f\u30e1\u30e2\u30ea\u5185\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e<code>dict</code>\u3084<code>tuple</code>\u306b\u52a0\u3048\u3066\u3001\u8ffd\u52a0\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5165\u308c\u308b\u3053\u3068\u3067YAML\u3001TOML\u3001MsgPack\u3001Pickle\u3082\u6271\u3048\u307e\u3059\u3002</p> <pre><code>&gt;&gt;&gt; from serde import to_dict, from_dict\n&gt;&gt;&gt; to_dict(Foo(i=10, s='foo', f=100.0, b=True))\n{\"i\": 10, \"s\": \"foo\", \"f\": 100.0, \"b\": True}\n&gt;&gt;&gt; from_dict(Foo, {\"i\": 10, \"s\": \"foo\", \"f\": 100.0, \"b\": True})\nFoo(i=10, s='foo', f=100.0, b=True)\n</code></pre>"},{"location":"ja/class-attributes/","title":"Class Attributes","text":"<p>\u30af\u30e9\u30b9\u5c5e\u6027\u306f\u3001\u30af\u30e9\u30b9\u306e\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u306e\u52d5\u4f5c\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3059\u308b\u305f\u3081\u306b <code>serialize</code> / <code>deserialize</code> \u30c7\u30b3\u30ec\u30fc\u30bf\u306e\u5f15\u6570\u3068\u3057\u3066\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002 \u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u30d5\u30a3\u30fc\u30eb\u30c9\u5c5e\u6027\u306e\u4f7f\u7528\u3092\u691c\u8a0e\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>\u30af\u30e9\u30b9\u5c5e\u6027\u306f\u5168\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u5f71\u97ff\u3059\u308b\u305f\u3081\u3001\u547d\u540d\u898f\u5247\u3084\u30bf\u30b0\u4ed8\u3051\u306a\u3069\u30af\u30e9\u30b9\u5168\u4f53\u306b\u5171\u901a\u3059\u308b\u6319\u52d5\u306b\u5411\u3044\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"ja/class-attributes/#dataclasses","title":"dataclasses\u306e\u5c5e\u6027","text":""},{"location":"ja/class-attributes/#frozen","title":"<code>frozen</code>","text":"<p>dataclass\u306e <code>frozen</code> \u30af\u30e9\u30b9\u5c5e\u6027\u306f\u671f\u5f85\u901a\u308a\u306b\u6a5f\u80fd\u3057\u307e\u3059\u3002</p>"},{"location":"ja/class-attributes/#kw_only","title":"<code>kw_only</code>","text":"<p>\u30d0\u30fc\u30b8\u30e7\u30f30.12.2\u3067\u65b0\u898f\u8ffd\u52a0\u3002dataclass\u306e <code>kw_only</code> \u30af\u30e9\u30b9\u5c5e\u6027\u306f\u671f\u5f85\u901a\u308a\u306b\u6a5f\u80fd\u3057\u307e\u3059\u3002</p> <pre><code>@serde\n@dataclass(kw_only=True)\nclass Foo:\n    i: int\n    s: str\n    f: float\n    b: bool\n</code></pre> <p>\u5b8c\u5168\u306a\u4f8b\u306b\u3064\u3044\u3066\u306f\u3001examples/kw_only.py\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/class-attributes/#pyserde","title":"pyserde\u306e\u5c5e\u6027","text":""},{"location":"ja/class-attributes/#rename_all","title":"<code>rename_all</code>","text":"<p><code>rename_all</code> \u3092\u4f7f\u3046\u3068\u3001\u30d5\u30a3\u30fc\u30eb\u30c9\u540d\u3092\u6307\u5b9a\u3055\u308c\u305f\u30b1\u30fc\u30b9\u30b9\u30bf\u30a4\u30eb\u306b\u5909\u63db\u3067\u304d\u307e\u3059\u3002 \u4ee5\u4e0b\u306e\u4f8b\u3067\u306f\u3001\u30ad\u30e3\u30e1\u30eb\u30b1\u30fc\u30b9\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u540d\u3092\u30b9\u30cd\u30fc\u30af\u30b1\u30fc\u30b9\u306b\u5909\u63db\u3057\u3066\u3044\u307e\u3059\u3002 \u30b1\u30fc\u30b9\u30b9\u30bf\u30a4\u30eb\u306e\u5909\u63db\u51e6\u7406\u306f python-casefy \u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u4f9d\u5b58\u3057\u3066\u3044\u307e\u3059\u3002 \u30b5\u30dd\u30fc\u30c8\u3055\u308c\u308b\u30b1\u30fc\u30b9\u30b9\u30bf\u30a4\u30eb\u306e\u4e00\u89a7\u306f python-casefy \u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <pre><code>@serde(rename_all = 'camelcase')\nclass Foo:\n    int_field: int\n    str_field: str\n\nf = Foo(int_field=10, str_field='foo')\nprint(to_json(f))\n</code></pre> <p>\u4e0a\u8a18\u306e\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001<code>int_field</code> \u306f <code>intField</code> \u306b\u3001<code>str_field</code> \u306f <code>strField</code> \u306b\u5909\u63db\u3055\u308c\u307e\u3059\u3002</p> <pre><code>{\"intField\": 10, \"strField\": \"foo\"}\n</code></pre> <p>Note</p> <p><code>rename_all</code> \u30af\u30e9\u30b9\u5c5e\u6027\u3068 <code>rename</code> \u30d5\u30a3\u30fc\u30eb\u30c9\u5c5e\u6027\u304c\u540c\u6642\u306b\u4f7f\u7528\u3055\u308c\u308b\u5834\u5408\u3001<code>rename</code> \u304c\u512a\u5148\u3055\u308c\u307e\u3059\u3002</p> <p><pre><code>@serde(rename_all = 'camelcase')\nclass Foo:\n    int_field: int\n    str_field: str = field(rename='str-field')\n\nf = Foo(int_field=10, str_field='foo')\nprint(to_json(f))\n</code></pre> \u4e0a\u8a18\u306e\u30b3\u30fc\u30c9\u306f\u4ee5\u4e0b\u3092\u51fa\u529b\u3057\u307e\u3059\u3002 <pre><code>{\"intField\": 10, \"str-field\": \"foo\"}\n</code></pre></p> <p>\u5b8c\u5168\u306a\u4f8b\u306b\u3064\u3044\u3066\u306f\u3001examples/rename_all.py\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/class-attributes/#tagging","title":"<code>tagging</code>","text":"<p>\u30d0\u30fc\u30b8\u30e7\u30f30.7.0\u3067\u65b0\u898f\u8ffd\u52a0\u3002\u8a73\u7d30\u306f Union \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/class-attributes/#transparent","title":"<code>transparent</code>","text":"<p><code>transparent=True</code> \u3092\u6307\u5b9a\u3059\u308b\u3068\u3001\u5358\u4e00\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u30e9\u30c3\u30d1\u30fc\u30af\u30e9\u30b9\u306f\u305d\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3068\u3057\u3066(\u30c7)\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3055\u308c\u307e\u3059\uff08serde-rs \u306e <code>#[serde(transparent)]</code> \u3068\u540c\u69d8\uff09\u3002</p> <pre><code>@serde(transparent=True)\nclass UserId:\n    value: int\n\nassert to_json(UserId(1)) == \"1\"\nassert from_json(UserId, \"1\") == UserId(1)\n</code></pre> <p>\u5236\u7d04: * <code>init=True</code> \u304b\u3064 <code>skip=False</code> \u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u3061\u3087\u3046\u30691\u3064\u5fc5\u8981\u3067\u3059\u3002 * \u305d\u308c\u4ee5\u5916\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306f <code>init=False</code> \u304b\u3064 <code>skip=True</code> \u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff08\u5185\u90e8\u30ad\u30e3\u30c3\u30b7\u30e5\u7528\u9014\u306a\u3069\uff09\u3002</p>"},{"location":"ja/class-attributes/#class_serializer-class_deserializer","title":"<code>class_serializer</code> \u3068 <code>class_deserializer</code>","text":"<p>\u30d0\u30fc\u30b8\u30e7\u30f30.13.0\u3067\u65b0\u898f\u8ffd\u52a0\u3002  </p> <p>\u30af\u30e9\u30b9\u30ec\u30d9\u30eb\u3067\u30ab\u30b9\u30bf\u30e0(\u30c7)\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u3092\u4f7f\u7528\u3057\u305f\u3044\u5834\u5408\u3001<code>class_serializer</code> \u304a\u3088\u3073 <code>class_deserializer</code> \u5c5e\u6027\u306b(\u30c7)\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u30ab\u30b9\u30bf\u30e0(\u30c7)\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u306f\u3001C++\u306e\u3088\u3046\u306b\u8907\u6570\u306e\u30e1\u30bd\u30c3\u30c9\u306e\u30aa\u30fc\u30d0\u30fc\u30ed\u30fc\u30c9\u3092\u53ef\u80fd\u306b\u3059\u308bPython\u30e9\u30a4\u30d6\u30e9\u30ea plum \u306b\u4f9d\u5b58\u3057\u3066\u3044\u307e\u3059\u3002 plum\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001\u5805\u7262\u306a\u30ab\u30b9\u30bf\u30e0(\u30c7)\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u3092\u7c21\u5358\u306b\u66f8\u304f\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>class MySerializer:\n    @dispatch\n    def serialize(self, value: datetime) -&gt; str:\n        return value.strftime(\"%d/%m/%y\")\n\nclass MyDeserializer:\n    @dispatch\n    def deserialize(self, cls: Type[datetime], value:\n\n Any) -&gt; datetime:\n        return datetime.strptime(value, \"%d/%m/%y\")\n\n@serde(class_serializer=MySerializer(), class_deserializer=MyDeserializer())\nclass Foo:\n    v: datetime\n</code></pre> <p>\u65e7\u6765\u306e <code>serializer</code> \u3068 <code>deserializer</code> \u3068\u306e\u5927\u304d\u306a\u9055\u3044\u306f\u3001 \u65b0\u3057\u3044<code>class_serializer</code> \u3068 <code>class_deserializer</code> \u304c pyserde \u306e\u30b3\u30fc\u30c9\u751f\u6210\u30ec\u30d9\u30eb\u3067\u3088\u308a\u6df1\u304f\u7d71\u5408\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3067\u3059\u3002 \u3053\u308c\u306b\u3088\u308a Optional \u3084 List\u3001\u30cd\u30b9\u30c8\u3055\u308c\u305f dataclass \u3092\u81ea\u5206\u3067\u51e6\u7406\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002  </p> <p>\u30ab\u30b9\u30bf\u30e0\u30af\u30e9\u30b9\u306e(\u30c7)\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u306f\u3059\u3079\u3066\u306e(\u30c7)\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u306e\u30ec\u30d9\u30eb\uff08\u5358\u7d14\u306a\u30c7\u30fc\u30bf\u578b\u304b\u3089\u8907\u96d1\u306a\u30cd\u30b9\u30c8\u3055\u308c\u305f\u30c7\u30fc\u30bf\u69cb\u9020\u307e\u3067\u3001\u3042\u3089\u3086\u308b\u7a2e\u985e\u306e(\u30c7)\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u51e6\u7406\uff09\u3067\u4f7f\u7528\u3055\u308c\u308b\u305f\u3081\u3001\u30b5\u30fc\u30c9\u30d1\u30fc\u30c6\u30a3\u88fd\u306e\u578b\u3082\u30d3\u30eb\u30c8\u30a4\u30f3\u578b\u306e\u3088\u3046\u306b\u6271\u3046\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002</p> <p>\u307e\u305f\u3001 * \u30d5\u30a3\u30fc\u30eb\u30c9\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u3068\u30af\u30e9\u30b9\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u306e\u4e21\u65b9\u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u30d5\u30a3\u30fc\u30eb\u30c9\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u304c\u512a\u5148\u3055\u308c\u307e\u3059\u3002 * \u65e7\u3068\u65b0\u306e\u30af\u30e9\u30b9\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u306e\u4e21\u65b9\u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u65b0\u3057\u3044\u30af\u30e9\u30b9\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u304c\u512a\u5148\u3055\u308c\u307e\u3059\u3002</p> <p>Tip</p> <p>\u8907\u6570\u306e <code>serialize</code> \u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u88c5\u3059\u308b\u5834\u5408\u3001\u578b\u30c1\u30a7\u30c3\u30ab\u30fc\u304b\u3089\u3001<code>Redefinition of unused serialize</code>\u3068\u3044\u3046\u8b66\u544a\u304c\u51fa\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002 \u305d\u306e\u5834\u5408\u306f\u3001<code>plum.overload</code> \u3068 <code>plum.dispatch</code> \u3092\u4f7f\u7528\u3057\u3066\u56de\u907f\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u8a73\u7d30\u306f plum\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <pre><code>from plum import dispatch, overload\n\nclass Serializer:\n   # @overload \u3092\u4f7f\u7528\n   @overload\n   def serialize(self, value: int) -&gt; Any:\n       return str(value)\n\n   # @overload \u3092\u4f7f\u7528\n   @overload\n   def serialize(self, value: float) -&gt; Any:\n       return int(value)\n\n   # \u30e1\u30bd\u30c3\u30c9\u8ffd\u52a0\u6642\u306f\u5fc5\u305a @dispatch \u3092\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002Plum\u304c\u578b\u30c1\u30a7\u30c3\u30ab\u30fc\u304b\u3089\u306e\u8b66\u544a\u3092\u6d88\u3057\u3066\u304f\u308c\u307e\u3059\n   @dispatch\n   def serialize(self, value: Any) -&gt; Any:\n       ...\n</code></pre> <p>\u5b8c\u5168\u306a\u4f8b\u306b\u3064\u3044\u3066\u306f\u3001examples/custom_class_serializer.py\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/class-attributes/#serializer-deserializer","title":"<code>serializer</code> \u3068 <code>deserializer</code>","text":"<p>\u975e\u63a8\u5968</p> <p><code>serializer</code> \u3068 <code>deserializer</code> \u306f\u3001\u30d0\u30fc\u30b8\u30e7\u30f30.13.0\u4ee5\u964d\u3001\u975e\u63a8\u5968\u3068\u306a\u308a\u307e\u3057\u305f\u3002 <code>class_serializer</code> \u304a\u3088\u3073 <code>class_deserializer</code> \u306e\u4f7f\u7528\u3092\u691c\u8a0e\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>\u30af\u30e9\u30b9\u30ec\u30d9\u30eb\u3067\u30ab\u30b9\u30bf\u30e0\u306e(\u30c7)\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u3092\u4f7f\u7528\u3057\u305f\u3044\u5834\u5408\u3001<code>serializer</code> \u304a\u3088\u3073 <code>deserializer</code> \u5c5e\u6027\u306b(\u30c7)\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u30e1\u30bd\u30c3\u30c9\u3092\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>def serializer(cls, o):\n    if cls is datetime:\n        return o.strftime('%d/%m/%y')\n    else:\n        raise SerdeSkip()\n\ndef deserializer(cls, o):\n    if cls is datetime:\n        return datetime.strptime(o, '%d/%m/%y')\n    else:\n        raise SerdeSkip()\n\n@serde(serializer=serializer, deserializer=deserializer)\nclass Foo:\n    a: datetime\n</code></pre> <p>\u5b8c\u5168\u306a\u4f8b\u306b\u3064\u3044\u3066\u306f\u3001examples/custom_legacy_class_serializer.py \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/class-attributes/#type_check","title":"<code>type_check</code>","text":"<p>\u30d0\u30fc\u30b8\u30e7\u30f30.9.0\u3067\u65b0\u898f\u8ffd\u52a0\u3002\u8a73\u7d30\u306f Type Check \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/class-attributes/#serialize_class_var","title":"<code>serialize_class_var</code>","text":"<p>\u30d0\u30fc\u30b8\u30e7\u30f30.9.8\u3067\u65b0\u898f\u8ffd\u52a0\u3002  </p> <p><code>dataclasses.fields</code> \u306f\u30af\u30e9\u30b9\u5909\u6570\u3092\u542b\u307e\u306a\u3044\u305f\u3081<sup>1</sup>\u3001pyserde\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u30af\u30e9\u30b9\u5909\u6570\u3092\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3057\u307e\u305b\u3093\u3002 <code>serialize_class_var</code> \u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067 <code>typing.ClassVar</code> \u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>@serde(serialize_class_var=True)\nclass Foo:\n    a: ClassVar[int] = 10\n</code></pre> <p>\u5b8c\u5168\u306a\u4f8b\u306b\u3064\u3044\u3066\u306f\u3001examples/class_var.py\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/class-attributes/#skip_if_default","title":"<code>skip_if_default</code>","text":"<p>\u30d0\u30fc\u30b8\u30e7\u30f30.30.0\u3067\u65b0\u898f\u8ffd\u52a0\u3002\u30af\u30e9\u30b9\u30c7\u30b3\u30ec\u30fc\u30bf\u306b <code>skip_if_default=True</code> \u3092\u6307\u5b9a\u3059\u308b\u3068\u3001\u305d\u306e\u30af\u30e9\u30b9\u5185\u306e\u5168\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u3064\u3044\u3066\u5024\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\uff08\u307e\u305f\u306f <code>default_factory</code> \u306e\u7d50\u679c\uff09\u3068\u7b49\u3057\u3044\u5834\u5408\u306b\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3092\u30b9\u30ad\u30c3\u30d7\u3057\u307e\u3059\u3002\u30d5\u30a3\u30fc\u30eb\u30c9\u5074\u3067 <code>skip_if_default</code> \u3092\u6307\u5b9a\u3059\u308c\u3070\u305d\u3061\u3089\u304c\u512a\u5148\u3055\u308c\u3001\u7279\u5b9a\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3060\u3051\u6b8b\u3059/\u5916\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>@serde(skip_if_default=True)\nclass Settings:\n    theme: str = \"light\"\n    retries: int = 3\n    api_key: str | None = None\n    note: str = field(default=\"keep\", skip_if_default=False)  # \u3053\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306f\u4fdd\u6301\u3059\u308b\n</code></pre> <p>\u30cd\u30b9\u30c8\u3057\u305fdataclass\u3084 <code>default_factory</code> \u3092\u4f7f\u3063\u305f\u30c7\u30d5\u30a9\u30eb\u30c8\u3082\u5bfe\u8c61\u306b\u306a\u308a\u307e\u3059\u3002\u52d5\u4f5c\u4f8b\u306f examples/skip_if_default_class.py \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/class-attributes/#skip_if_none","title":"<code>skip_if_none</code>","text":"<p>\u30d0\u30fc\u30b8\u30e7\u30f30.30.0\u3067\u65b0\u898f\u8ffd\u52a0\u3002\u30af\u30e9\u30b9\u30c7\u30b3\u30ec\u30fc\u30bf\u306b <code>skip_if_none=True</code> \u3092\u6307\u5b9a\u3059\u308b\u3068\u3001\u305d\u306e\u30af\u30e9\u30b9\u5185\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u304c <code>None</code> \u306e\u5834\u5408\u306b\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3092\u30b9\u30ad\u30c3\u30d7\u3057\u307e\u3059\u3002\u30d5\u30a3\u30fc\u30eb\u30c9\u5074\u3067 <code>skip_if_none</code> \u3092\u6307\u5b9a\u3059\u308c\u3070\u305d\u3061\u3089\u304c\u512a\u5148\u3055\u308c\u308b\u305f\u3081\u3001\u7279\u5b9a\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3060\u3051\u6b8b\u3059/\u5916\u3059\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002</p> <pre><code>@serde(skip_if_none=True)\nclass Profile:\n    nickname: str | None = None\n    bio: str | None = field(default=None, skip_if_none=False)  # None \u3067\u3082\u6b8b\u3059\n</code></pre> <p><code>None</code> \u3092\u5927\u91cf\u306b\u542b\u3080\u30da\u30a4\u30ed\u30fc\u30c9\u3092\u30b3\u30f3\u30d1\u30af\u30c8\u306b\u3057\u305f\u3044\u5834\u5408\u306b\u4fbf\u5229\u3067\u3059\u3002</p>"},{"location":"ja/class-attributes/#deny_unknown_fields","title":"<code>deny_unknown_fields</code>","text":"<p>\u30d0\u30fc\u30b8\u30e7\u30f30.22.0\u3067\u65b0\u898f\u8ffd\u52a0\u3002 pyserde\u30c7\u30b3\u30ec\u30fc\u30bf\u306e<code>deny_unknown_fields</code>\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u6642\u306e\u3088\u308a\u53b3\u683c\u306a\u30d5\u30a3\u30fc\u30eb\u30c9\u30c1\u30a7\u30c3\u30af\u3092\u5236\u5fa1\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3092True\u306b\u3059\u308b\u3068\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u6642\u306b\u5ba3\u8a00\u3055\u308c\u3066\u3044\u306a\u3044\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u898b\u3064\u304b\u308b\u3068<code>SerdeError</code>\u3092\u6295\u3052\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u4ee5\u4e0b\u306e\u4f8b\u3092\u8003\u3048\u3066\u304f\u3060\u3055\u3044\u3002 <pre><code>@serde(deny_unknown_fields=True)\nclass Foo:\n    a: int\n    b: str\n</code></pre></p> <p><code>deny_unknown_fields=True</code>\u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b\u3068\u3001 \u5ba3\u8a00\u3055\u308c\u3066\u3044\u308b\u30d5\u30a3\u30fc\u30eb\u30c9(\u3053\u306e\u5834\u5408a\u3068b)\u4ee5\u5916\u304c\u30a4\u30f3\u30d7\u30c3\u30c8\u306b\u3042\u308b\u3068\u4f8b\u5916\u3092\u6295\u3052\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001 <pre><code>from_json(Foo, '{\"a\": 10, \"b\": \"foo\", \"c\": 100.0, \"d\": true}')\n</code></pre> \u4e0a\u8a18\u306e\u30b3\u30fc\u30c9\u306f\u30d5\u30a3\u30fc\u30eb\u30c9c\u3068d\u3068\u3044\u3046\u5ba3\u8a00\u3055\u308c\u3066\u3044\u306a\u3044\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u3042\u308b\u305f\u3081\u30a8\u30e9\u30fc\u3068\u306a\u308a\u307e\u3059\u3002</p> <p>\u5b8c\u5168\u306a\u4f8b\u306b\u3064\u3044\u3066\u306f\u3001examples/deny_unknown_fields.py\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <ol> <li> <p>dataclasses.fields \u21a9</p> </li> </ol>"},{"location":"ja/data-formats/","title":"Data Formats","text":"<p>pyserde\u306f\u3001<code>dict</code>\u3001<code>tuple</code>\u3001<code>JSON</code>\u3001<code>YAML</code>\u3001<code>TOML</code>\u3001<code>MsgPack</code>\u3001<code>Pickle</code> \u306a\u3069\u306e\u3055\u307e\u3056\u307e\u306a\u30c7\u30fc\u30bf\u5f62\u5f0f\u3092\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u304a\u3088\u3073\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3067\u304d\u307e\u3059\u3002 \u5404API\u306f\u8ffd\u52a0\u306e\u30ad\u30fc\u30ef\u30fc\u30c9\u5f15\u6570\u3092\u53d6\u308b\u3053\u3068\u304c\u3067\u304d\u3001\u3053\u308c\u3089\u306e\u5f15\u6570\u306fpyserde\u3067\u4f7f\u7528\u3055\u308c\u308b\u30d9\u30fc\u30b9\u30d1\u30c3\u30b1\u30fc\u30b8\u3078\u3068\u6e21\u3055\u308c\u307e\u3059\u3002</p> <p>\u5f62\u5f0f\u3054\u3068\u306e\u8a2d\u5b9a\u3092\u3057\u305f\u3044\u5834\u5408\u306f\u3001<code>serde.json</code> \u3084 <code>serde.yaml</code> \u306a\u3069\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f7f\u3063\u3066\u304f\u3060\u3055\u3044\u3002\u4f8b\u3048\u3070\u3001YAML\u3067\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u9806\u5e8f\u3092\u4fdd\u6301\u3057\u305f\u3044\u5834\u5408\u3001<code>serde.yaml.to_yaml</code>\u306b<code>sort_key=True</code>\u3092\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>serde.yaml.to_yaml(foo, sort_key=True)\n</code></pre> <p><code>sort_key=True</code>\u306fyaml.safedump\u306b\u6e21\u3055\u308c\u307e\u3059\u3002</p> <p>Note</p> <p>JSON/YAML/TOML/MsgPack\u306f\u5bfe\u5fdc\u3059\u308b\u30a8\u30af\u30b9\u30c8\u30e9\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u5fc5\u8981\u3067\u3059\u3002<code>dict</code>\u3001<code>tuple</code>\u3001Pickle\u306f\u8ffd\u52a0\u4f9d\u5b58\u306a\u3057\u3067\u5229\u7528\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"ja/data-formats/#dict","title":"dict","text":"<pre><code>&gt;&gt;&gt; from serde import to_dict, from_dict\n\n&gt;&gt;&gt; to_dict(Foo(i=10, s='foo', f=100.0, b=True))\n{\"i\": 10, \"s\": \"foo\", \"f\": 100.0, \"b\": True}\n\n&gt;&gt;&gt; from_dict(Foo, {\"i\": 10, \"s\": \"foo\", \"f\": 100.0, \"b\": True})\nFoo(i=10, s='foo', f=100.0, b=True)\n</code></pre> <p>\u8a73\u7d30\u306fserde.to_dict / serde.from_dict\u3092\u3054\u89a7\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/data-formats/#tuple","title":"tuple","text":"<pre><code>&gt;&gt;&gt; from serde import to_tuple, from_tuple\n\n&gt;&gt;&gt; to_tuple(Foo(i=10, s='foo', f=100.0, b=True))\n(10, 'foo', 100.0, True)\n\n&gt;&gt;&gt; from_tuple(Foo, (10, 'foo', 100.0, True))\nFoo(i=10, s='foo', f=100.0, b=True)\n</code></pre> <p>\u8a73\u7d30\u306fserde.to_tuple / serde.from_tuple\u3092\u3054\u89a7\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/data-formats/#json","title":"JSON","text":"<pre><code>&gt;&gt;&gt; from serde.json import to_json, from_json\n\n&gt;&gt;&gt; to_json(Foo(i=10, s='foo', f=100.0, b=True))\n'{\"i\":10,\"s\":\"foo\",\"f\":100.0,\"b\":true}'\n\n&gt;&gt;&gt; from_json(Foo, '{\"i\": 10, \"s\": \"foo\", \"f\": 100.0, \"b\": true}')\nFoo(i=10, s='foo', f=100.0, b=True)\n</code></pre> <p><code>orjson</code> \u30a8\u30af\u30b9\u30c8\u30e9\u3092\u6709\u52b9\u306b\u3059\u308b\u3068\u3001pyserde\u306f\u5185\u90e8\u7684\u306b\u9ad8\u901f\u306aJSON\u30a8\u30f3\u30b3\u30fc\u30c9/\u30c7\u30b3\u30fc\u30c9\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002</p> <p>\u8a73\u7d30\u306fserde.json.to_json / serde.json.from_json\u3092\u3054\u89a7\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/data-formats/#yaml","title":"Yaml","text":"<pre><code>&gt;&gt;&gt; from serde.yaml import from_yaml, to_yaml\n\n&gt;&gt;&gt; to_yaml(Foo(i=10, s='foo', f=100.0, b=True))\nb: true\nf: 100.0\ni: 10\ns: foo\n\n&gt;&gt;&gt; from_yaml(Foo, 'b: true\\nf: 100.0\\ni: 10\\ns: foo')\nFoo(i=10, s='foo', f=100.0, b=True)\n</code></pre> <p>\u8a73\u7d30\u306fserde.yaml.to_yaml / serde.yaml.from_yaml\u3092\u3054\u89a7\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/data-formats/#toml","title":"Toml","text":"<pre><code>&gt;&gt;&gt; from serde.toml import from_toml, to_toml\n\n&gt;&gt;&gt; to_toml(Foo(i=10, s='foo', f=100.0, b=True))\ni = 10\ns = \"foo\"\nf = 100.0\nb = true\n\n&gt;&gt;&gt; from_toml(Foo, 'i = 10\\ns = \"foo\"\\nf = 100.0\\nb = true')\nFoo(i=10, s='foo', f=100.0, b=True)\n</code></pre> <p>\u8a73\u7d30\u306fserde.toml.to_toml / serde.toml.from_toml\u3092\u3054\u89a7\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/data-formats/#msgpack","title":"MsgPack","text":"<pre><code>&gt;&gt;&gt; from serde.msgpack import from_msgpack, to_msgpack\n\n&gt;&gt;&gt; to_msgpack(Foo(i=10, s='foo', f=100.0, b=True))\nb'\\x84\\xa1i\\n\\xa1s\\xa3foo\\xa1f\\xcb@Y\\x00\\x00\\x00\\x00\\x00\\x00\\xa1b\\xc3'\n\n&gt;&gt;&gt; from_msgpack(Foo, b'\\x84\\xa1i\\n\\xa1s\\xa3foo\\xa1f\\xcb@Y\\x00\\x00\\x00\\x00\\x00\\x00\\xa1b\\xc3')\nFoo(i=10, s='foo', f=100.0, b=True)\n</code></pre> <p>\u8a73\u7d30\u306fserde.msgpack.to_msgpack / serde.msgpack.from_msgpack\u3092\u3054\u89a7\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/data-formats/#pickle","title":"Pickle","text":"<p>v0.9.6\u3067\u65b0\u3057\u304f\u8ffd\u52a0\u3055\u308c\u307e\u3057\u305f</p> <pre><code>&gt;&gt;&gt; from serde.pickle import from_pickle, to_pickle\n\n&gt;&gt;&gt; to_pickle(Foo(i=10, s='foo', f=100.0, b=True))\nb\"\\x80\\x04\\x95'\\x00\\x00\\x00\\x00\\x00\\x00\\x00}\\x94(\\x8c\\x01i\\x94K\\n\\x8c\\x01s\\x94\\x8c\\x03foo\\x94\\x8c\\x01f\\x94G@Y\\x00\\x00\\x00\\x00\\x00\\x00\\x8c\\x01b\\x94\\x88u.\"\n\n&gt;&gt;&gt; from_pickle(Foo, b\"\\x80\\x04\\x95'\\x00\\x00\\x00\\x00\\x00\\x00\\x00}\\x94(\\x8c\\x01i\\x94K\\n\\x8c\\x01s\\x94\\x8c\\x03foo\\x94\\x8c\\x01f\\x94G@Y\\x00\\x00\\x00\\x00\\x00\\x00\\x8c\\x01b\\x94\\x88u.\")\nFoo(i=10, s='foo', f=100.0, b=True)\n</code></pre> <p>\u8a73\u7d30\u306fserde.pickle.to_pickle / serde.pickle.from_pickle\u3092\u3054\u89a7\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/data-formats/#_1","title":"\u65b0\u3057\u3044\u30c7\u30fc\u30bf\u5f62\u5f0f\u306e\u30b5\u30dd\u30fc\u30c8\u304c\u5fc5\u8981\u3067\u3059\u304b\uff1f","text":"<p>pyserde \u3092\u3067\u304d\u308b\u3060\u3051\u30b7\u30f3\u30d7\u30eb\u306b\u4fdd\u3064\u305f\u3081\u3001XML \u306e\u3088\u3046\u306a\u30c7\u30fc\u30bf\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u4e88\u5b9a\u306f\u3042\u308a\u307e\u305b\u3093\u3002 \u65b0\u3057\u3044\u30c7\u30fc\u30bf\u5f62\u5f0f\u306e\u30b5\u30dd\u30fc\u30c8\u304c\u5fc5\u8981\u306a\u5834\u5408\u306f\u3001\u5225\u306ePython\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u3092\u304a\u52e7\u3081\u3057\u307e\u3059\u3002 \u30c7\u30fc\u30bf\u5f62\u5f0f\u304cdict\u3084tuple\u306b\u5909\u63db\u53ef\u80fd\u3067\u3042\u308c\u3070\u3001\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba/\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30baAPI\u306e\u5b9f\u88c5\u306f\u305d\u308c\u307b\u3069\u96e3\u3057\u304f\u3042\u308a\u307e\u305b\u3093\u3002 \u5b9f\u88c5\u65b9\u6cd5\u3092\u77e5\u308a\u305f\u3044\u5834\u5408\u306f\u3001YAML\u306e\u5b9f\u88c5\u3092\u3054\u89a7\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/decorators/#serde","title":"<code>@serde</code>","text":"<p><code>@serde</code> \u306f <code>@serialize</code> \u3068 <code>@deserialize</code> \u30c7\u30b3\u30ec\u30fc\u30bf\u306e\u30e9\u30c3\u30d1\u30fc\u3067\u3059\u3002</p> <p>\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u304c\u3042\u308b\u3068\u3057\u307e\u3059\u3002 <pre><code>@serde\nclass Foo:\n    ...\n</code></pre></p> <p>\u4e0a\u8a18\u306e\u30b3\u30fc\u30c9\u306f\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3068\u540c\u7b49\u3067\u3059\u3002</p> <pre><code>@deserialize\n@serialize\n@dataclass\nclass Foo:\n    ...\n</code></pre> <p><code>@serde</code> \u30c7\u30b3\u30ec\u30fc\u30bf\u306f\u4ee5\u4e0b\u3092\u884c\u3044\u307e\u3059\u3002 * \u30af\u30e9\u30b9\u306b <code>@serialize</code> \u3068 <code>@deserialize</code> \u30c7\u30b3\u30ec\u30fc\u30bf\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002 * \u30af\u30e9\u30b9\u304c <code>@dataclass</code> \u3092\u6301\u3063\u3066\u3044\u306a\u3044\u5834\u5408\u3001<code>@dataclass</code> \u30c7\u30b3\u30ec\u30fc\u30bf\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002 * \u4e21\u65b9\u306e\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u5c5e\u6027\u3092\u30c7\u30b3\u30ec\u30fc\u30bf\u306b\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002     * <code>serializer</code> \u5c5e\u6027\u306f <code>@deserialize</code> \u3067\u7121\u8996\u3055\u308c\u3001<code>deserializer</code> \u5c5e\u6027\u306f <code>@serialize</code> \u3067\u7121\u8996\u3055\u308c\u307e\u3059\u3002</p> <p>\u901a\u5e38\u306f <code>@serde</code> \u3092\u4f7f\u3044\u3001\u5fc5\u8981\u306b\u5fdc\u3058\u3066 <code>@serialize</code> / <code>@deserialize</code> \u3092\u4f7f\u3044\u5206\u3051\u307e\u3059\u3002</p> <pre><code>@serde(serializer=serializer, deserializer=deserializer)\n@dataclass\nclass Foo:\n    ...\n</code></pre> <p>Note</p> <p><code>@serde</code> \u306f <code>@dataclass</code> \u30c7\u30b3\u30ec\u30fc\u30bf\u306a\u3057\u3067\u52d5\u4f5c\u3057\u307e\u3059\u3002 \u3053\u308c\u306fserde\u304c <code>@dataclass</code> \u3092\u81ea\u52d5\u7684\u306b\u691c\u51fa\u3057\u3001\u5ba3\u8a00\u3055\u308c\u305f\u30af\u30e9\u30b9\u306b\u8ffd\u52a0\u3059\u308b\u304b\u3089\u3067\u3059\u3002 \u3057\u304b\u3057 <code>@dataclass</code> \u3092\u5b9a\u7fa9\u3057\u306a\u3044\u5834\u5408\u3001mypy \u3067\u306f <code>Too many arguments</code> \u307e\u305f\u306f <code>Unexpected keyword argument</code> \u3068\u3044\u3046\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3059\u3002\u3053\u308c\u306f mypy \u306e\u5236\u9650\u306b\u3088\u308b\u3082\u306e\u3067\u3059\u3002</p> <pre><code>@serde\nclass Foo:\n    ...\n</code></pre> <p>\u3057\u304b\u3057\u3001PEP681\u306b\u6e96\u62e0\u3057\u305f\u578b\u30c1\u30a7\u30c3\u30ab\u30fc\uff08\u4f8b\uff1apyright\uff09\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001pyserde\u304c PEP681 dataclass_transform \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u578b\u30a8\u30e9\u30fc\u306f\u767a\u751f\u3057\u307e\u305b\u3093\u3002</p>"},{"location":"ja/decorators/#serialize-deserialize","title":"<code>@serialize</code> \u3068 <code>@deserialize</code>","text":"<p><code>@serialize</code> \u304a\u3088\u3073 <code>@deserialize</code> \u306f\u5185\u90e8\u7684\u306b <code>@serde</code> \u306b\u3088\u3063\u3066\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002 \u4ee5\u4e0b\u306b\u8a72\u5f53\u3059\u308b\u5834\u5408\u3001\u3053\u308c\u30892\u3064\u306e\u30c7\u30b3\u30ec\u30fc\u30bf\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3092\u63a8\u5968\u3057\u307e\u3059\u3002 * \u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u307e\u305f\u306f\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u306e\u6a5f\u80fd\u306e\u307f\u304c\u5fc5\u8981\u306a\u5834\u5408 * \u4ee5\u4e0b\u306e\u3088\u3046\u306b\u7570\u306a\u308b\u30af\u30e9\u30b9\u5c5e\u6027\u3092\u6301\u3064\u3053\u3068\u3092\u671b\u3080\u5834\u5408</p> <p><pre><code>@deserialize(rename_all = \"snakecase\")\n@serialize(rename_all = \"camelcase\")\nclass Foo:\n    ...\n</code></pre> \u4e0a\u8a18\u306b\u5f53\u3066\u306f\u307e\u3089\u306a\u3044\u5834\u5408\u306f <code>@serde</code> \u306e\u4f7f\u7528\u3092\u63a8\u5968\u3057\u307e\u3059\u3002</p>"},{"location":"ja/decorators/#serde_1","title":"<code>@serde</code> \u306a\u3057\u3067\u30af\u30e9\u30b9\u3092\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3059\u308b","text":"<p>pyserde\u306f v0.10.0 \u4ee5\u964d\u3001<code>@serde</code> \u306a\u3057\u3067\u30c7\u30fc\u30bf\u30af\u30e9\u30b9\u3092\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3067\u304d\u307e\u3059\u3002 \u3053\u306e\u6a5f\u80fd\u306f\u3001\u5916\u90e8\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u5ba3\u8a00\u3055\u308c\u305f\u30af\u30e9\u30b9\u3092\u4f7f\u7528\u3057\u305f\u3044\u5834\u5408\u3084\u3001<code>@serde</code> \u30c7\u30b3\u30ec\u30fc\u30bf\u304c\u578b\u30c1\u30a7\u30c3\u30ab\u30fc\u3067\u6a5f\u80fd\u3057\u306a\u3044\u5834\u5408\u306b\u4fbf\u5229\u3067\u3059\u3002\u3053\u306e\u4f8b\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>\u3069\u306e\u3088\u3046\u306b\u52d5\u4f5c\u3059\u308b\u306e\u3067\u3057\u3087\u3046\u304b\uff1f \u305d\u308c\u306f\u975e\u5e38\u306b\u5358\u7d14\u3067\u3001\u30af\u30e9\u30b9\u304c<code>@serde</code>\u30c7\u30b3\u30ec\u30fc\u30bf\u3092\u6301\u3063\u3066\u3044\u306a\u3044\u5834\u5408\u3001pyserde\u306f <code>@serde</code> \u30c7\u30b3\u30ec\u30fc\u30bf\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002 \u6700\u521d\u306eAPI\u547c\u3073\u51fa\u3057\u306b\u306f\u6642\u9593\u304c\u304b\u304b\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001\u751f\u6210\u3055\u308c\u305f\u30b3\u30fc\u30c9\u306f\u5185\u90e8\u7684\u306b\u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u308c\u308b\u305f\u3081\u554f\u984c\u306b\u306f\u306a\u308a\u307e\u305b\u3093\u3002  </p> <p>\u4ee5\u4e0b\u306b\u30b5\u30fc\u30c9\u30d1\u30fc\u30c6\u30a3\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30af\u30e9\u30b9\u3092\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3059\u308b\u4f8b\u3092\u793a\u3057\u307e\u3059\u3002</p> <pre><code>@dataclass\nclass External:\n    ...\n\nto_dict(External()) # \"@serde\" \u306a\u3057\u3067\u52d5\u4f5c\u3057\u307e\u3059\n</code></pre> <p>\u3053\u306e\u5834\u5408\u3001<code>rename_all</code> \u306a\u3069\u306e\u30af\u30e9\u30b9\u5c5e\u6027\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002 \u5916\u90e8\u306e\u30c7\u30fc\u30bf\u30af\u30e9\u30b9\u306b\u30af\u30e9\u30b9\u5c5e\u6027\u3092\u8ffd\u52a0\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u30c7\u30fc\u30bf\u30af\u30e9\u30b9\u3092\u62e1\u5f35\u3059\u308b\u3053\u3068\u3067\u305d\u308c\u3092\u884c\u3046\u65b9\u6cd5\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u4f8b\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <pre><code>@dataclass\nclass External:\n    some_value: int\n\n@serde(rename_all=\"kebabcase\")\n@dataclass\nclass Wrapper(External):\n    pass\n</code></pre>"},{"location":"ja/decorators/#_1","title":"\u524d\u65b9\u53c2\u7167\u3092\u3069\u306e\u3088\u3046\u306b\u4f7f\u7528\u3059\u308b\u304b\uff1f","text":"<p>pyserde\u306f\u524d\u65b9\u53c2\u7167\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002 \u30cd\u30b9\u30c8\u3055\u308c\u305f\u30af\u30e9\u30b9\u540d\u3092\u6587\u5b57\u5217\u3067\u7f6e\u304d\u63db\u3048\u308b\u3068\u3001pyserde\u306f\u30cd\u30b9\u30c8\u3055\u308c\u305f\u30af\u30e9\u30b9\u304c\u5b9a\u7fa9\u3055\u308c\u305f\u5f8c\u306b\u30c7\u30b3\u30ec\u30fc\u30bf\u3092\u63a2\u3057\u3066\u8a55\u4fa1\u3057\u307e\u3059\u3002</p> <pre><code>from __future__ import annotations # annotations\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\n\n@dataclass\nclass Foo:\n    i: int\n    s: str\n    bar: Bar  # \"Bar\" \u306f\u5f8c\u3067\u5ba3\u8a00\u3055\u308c\u3066\u3044\u3066\u3082\u6307\u5b9a\u3067\u304d\u307e\u3059\n\n@serde\n@dataclass\nclass Bar:\n    f: float\n    b: bool\n\n# \"Bar\" \u304c\u5b9a\u7fa9\u3055\u308c\u305f\u5f8c\u306b pyserde \u30c7\u30b3\u30ec\u30fc\u30bf\u3092\u8a55\u4fa1\u3057\u307e\u3059\nserde(Foo)\n</code></pre>"},{"location":"ja/decorators/#pep563-annotations","title":"PEP563 Annotations\u306b\u3088\u308b\u9045\u5ef6\u8a55\u4fa1","text":"<p>pyserde\u306f PEP563 Annotations\u306b\u3088\u308b\u9045\u5ef6\u8a55\u4fa1\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002</p> <pre><code>from __future__ import annotations\nfrom serde import serde\n\n@serde\nclass Foo:\n    i: int\n    s: str\n    f: float\n    b: bool\n\n    def foo(self, cls: Foo):  # \u5b9a\u7fa9\u3055\u308c\u308b\u524d\u306b \"Foo\" \u578b\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\n        print('foo')\n</code></pre> <p>\u5b8c\u5168\u306a\u4f8b\u306b\u3064\u3044\u3066\u306f examples/lazy_type_evaluation.py \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/extension/","title":"Extending pyserde","text":"<p>pyserde \u306f\u30d3\u30eb\u30c8\u30a4\u30f3\u578b\u4ee5\u5916\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u305f\u3081\u306b pyserde \u3092\u62e1\u5f35\u3059\u308b 3 \u3064\u306e\u65b9\u6cd5\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002</p> <p>\u4f7f\u3044\u5206\u3051\u306e\u76ee\u5b89\u3068\u3057\u3066\u3001\u5358\u767a\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306f\u30d5\u30a3\u30fc\u30eb\u30c9\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u3001\u518d\u5229\u7528\u3057\u305f\u3044\u578b\u306f\u30af\u30e9\u30b9\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u5168\u4f53\u306b\u9069\u7528\u3057\u305f\u3044\u5834\u5408\u306f\u30b0\u30ed\u30fc\u30d0\u30eb\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u304c\u5411\u3044\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"ja/extension/#_1","title":"\u30ab\u30b9\u30bf\u30e0\u30d5\u30a3\u30fc\u30eb\u30c9\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6","text":"<p>\u8a73\u7d30\u306f\u30ab\u30b9\u30bf\u30e0\u30d5\u30a3\u30fc\u30eb\u30c9\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>Tip</p> <p><code>serde.field</code> \u3092\u72ec\u81ea\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u95a2\u6570\u3067\u30e9\u30c3\u30d7\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p> <pre><code>import serde\n\ndef field(*args, **kwargs):\n    serde.field(*args, **kwargs, serializer=str)\n\n@serde\nclass Foo:\n    a: int = field(default=0)  # \u30d5\u30a3\u30fc\u30eb\u30c9\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u306e\u8a2d\u5b9a\n</code></pre>"},{"location":"ja/extension/#_2","title":"\u30ab\u30b9\u30bf\u30e0\u30af\u30e9\u30b9\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6","text":"<p>\u8a73\u7d30\u306f\u30ab\u30b9\u30bf\u30e0\u30af\u30e9\u30b9\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/extension/#_3","title":"\u30ab\u30b9\u30bf\u30e0\u30b0\u30ed\u30fc\u30d0\u30eb\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6","text":"<p><code>add_serializer</code> \u3068 <code>add_deserializer</code> \u3092\u4f7f\u3063\u3066\u30af\u30e9\u30b9\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u3092\u767b\u9332\u3059\u308b\u3053\u3068\u3067\u3001\u30b3\u30fc\u30c9\u30d9\u30fc\u30b9\u5168\u4f53\u3067\u30ab\u30b9\u30bf\u30e0\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u3092\u9069\u7528\u3067\u304d\u307e\u3059\u3002</p> <p>\u767b\u9332\u3055\u308c\u305f\u30af\u30e9\u30b9\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u306f pyserde \u306e\u30b0\u30ed\u30fc\u30d0\u30eb\u7a7a\u9593\u306b\u30b9\u30bf\u30c3\u30af\u3055\u308c\u3001\u3059\u3079\u3066\u306e pyserde \u30af\u30e9\u30b9\u3067\u81ea\u52d5\u7684\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002</p> <p>\u4f8b\uff1aisodate\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u4f7f\u7528\u3057\u3066 <code>datetime.timedelta</code> \u306e\u30ab\u30b9\u30bf\u30e0\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u3092\u5b9f\u88c5\u3059\u308b\u3002</p> <p>\u4ee5\u4e0b\u306f\u3001<code>datetime.timedelta</code> \u306e\u305f\u3081\u306e\u30af\u30e9\u30b9\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u3092\u767b\u9332\u3059\u308b\u30b3\u30fc\u30c9\u3067\u3059\u3002 \u3053\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u306f\u5b9f\u969b\u306b PyPI \u3067 pyserde-timedelta \u3068\u3057\u3066\u516c\u958b\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p> <pre><code>from datetime import timedelta\nfrom plum import dispatch\nfrom typing import Type, Any\nimport isodate\nimport serde\n\nclass Serializer:\n    @dispatch\n    def serialize(self, value: timedelta) -&gt; Any:\n        return isodate.duration_isoformat(value)\n\nclass Deserializer:\n    @dispatch\n    def deserialize(self, cls: Type[timedelta], value: Any) -&gt; timedelta:\n        return isodate.parse_duration(value)\n\ndef init() -&gt; None:\n    serde.add_serializer(Serializer())\n    serde.add_deserializer(Deserializer())\n</code></pre> <p>\u3053\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u5229\u7528\u8005\u306f\u3001 <code>serde_timedelta.init()</code> \u3092\u547c\u3073\u51fa\u3059\u3060\u3051\u3067 <code>datetime.timedelta</code> \u306e\u30ab\u30b9\u30bf\u30e0\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u306e\u6a5f\u80fd\u3092\u518d\u5229\u7528\u3067\u304d\u307e\u3059\u3002</p> <pre><code>import serde_timedelta\nfrom serde import serde\nfrom serde.json import to_json, from_json\nfrom datetime import timedelta\n\nserde_timedelta.init()\n\n@serde\nclass Foo:\n    a: timedelta\n\nf = Foo(timedelta(hours=10))\njson = to_json(f)\nprint(json)\nprint(from_json(Foo, json))\n</code></pre> <p>\u4ee5\u4e0b\u306e\u3088\u3046\u306b <code>datetime.timedelta</code> \u304cISO 8601 \u5f62\u5f0f\u3067\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3055\u308c\u307e\u3059\uff01</p> <pre><code>{\"a\":\"PT10H\"}\nFoo(a=datetime.timedelta(seconds=36000))\n</code></pre> <p>Tip</p> <p>\u30af\u30e9\u30b9\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u306f\u3044\u304f\u3064\u3067\u3082\u767b\u9332\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u597d\u304d\u306a\u3060\u3051pyserde\u62e1\u5f35\u3092\u4f7f\u7528\u3067\u304d\u308b\u3053\u3068\u3092\u610f\u5473\u3057\u307e\u3059\u3002 \u767b\u9332\u3055\u308c\u305f\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u306f\u30e1\u30e2\u30ea\u306b\u30b9\u30bf\u30c3\u30af\u3055\u308c\u307e\u3059\u3002</p> <p>\u306a\u304a\u30011\u3064\u306e\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u306f\u4ed6\u306e\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u306b\u3088\u3063\u3066\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3055\u308c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>\u4f8b\uff1a\u6b21\u306e\u9806\u5e8f\u30673\u3064\u306e\u30ab\u30b9\u30bf\u30e0\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u3092\u767b\u9332\u3059\u308b\u3068\u3001\u6700\u521d\u306e\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u306f3\u756a\u76ee\u306b\u3088\u3063\u3066\u5b8c\u5168\u306b\u4e0a\u66f8\u304d\u3055\u308c\u307e\u3059\u30022\u756a\u76ee\u306f\u7570\u306a\u308b\u578b\u7528\u306b\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u6a5f\u80fd\u3057\u307e\u3059\u3002</p> <ol> <li><code>int</code> \u7528\u306e\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u3092\u767b\u9332</li> <li><code>float</code> \u7528\u306e\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u3092\u767b\u9332</li> <li><code>int</code> \u7528\u306e\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u3092\u767b\u9332</li> </ol> <p>\u3053\u3061\u3089\u306f\u3001v0.13.0 \u3067\u65b0\u3057\u304f\u8ffd\u52a0\u3055\u308c\u307e\u3057\u305f\u3002</p>"},{"location":"ja/faq/#pyserde","title":"pyserde\u306b\u3088\u3063\u3066\u751f\u6210\u3055\u308c\u305f\u30b3\u30fc\u30c9\u3092\u3069\u306e\u3088\u3046\u306b\u78ba\u8a8d\u3067\u304d\u307e\u3059\u304b\uff1f","text":"<p>pyserde\u306f\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3068\u3057\u3066\u52d5\u4f5c\u3059\u308b <code>inspect</code> \u30b5\u30d6\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002 <pre><code>python -m serde.inspect &lt;PATH_TO_FILE&gt; &lt;CLASS&gt;\n</code></pre></p> <p>\u751f\u6210\u30b3\u30fc\u30c9\u306e\u78ba\u8a8d\u3001\u30ab\u30b9\u30bf\u30e0\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u306e\u30c7\u30d0\u30c3\u30b0\u3001\u7279\u5b9a\u306e\u578b\u306e\u6271\u3044\u3092\u628a\u63e1\u3057\u305f\u3044\u3068\u304d\u306b\u4fbf\u5229\u3067\u3059\u3002</p> <p>\u4f8b\uff1apyserde\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u5185\u3067\u4ee5\u4e0b\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p> <pre><code>cd pyserde\nuv sync\nuv run python -m serde.inspect examples/simple.py Foo\n</code></pre> <p>\u51fa\u529b <pre><code>Loading simple.Foo from examples.\n\n==================================================\n                       Foo\n==================================================\n\n--------------------------------------------------\n          Functions generated by pyserde\n--------------------------------------------------\ndef to_iter(obj, reuse_instances=True, convert_sets=False):\n    if reuse_instances is Ellipsis:\n        reuse_instances = True\n    if convert_sets is Ellipsis:\n        convert_sets = False\n    if not is_dataclass(obj):\n        return copy.deepcopy(obj)\n\n    Foo = serde_scope.types[\"Foo\"]\n    res = []\n    res.append(obj.i)\n    res.append(obj.s)\n    res.append(obj.f)\n    res.append(obj.b)\n    return tuple(res)\n...\n</code></pre></p>"},{"location":"ja/field-attributes/","title":"Field Attributes","text":"<p>\u30d5\u30a3\u30fc\u30eb\u30c9\u5c5e\u6027\u306f\u3001\u30c7\u30fc\u30bf\u30af\u30e9\u30b9\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u52d5\u4f5c\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3059\u308b\u305f\u3081\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u3059\u3002\u30ef\u30a4\u30e4\u5f62\u5f0f\u306e\u8abf\u6574\u3084\u3001\u7279\u5b9a\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3060\u3051\u7279\u5225\u6271\u3044\u3057\u305f\u3044\u5834\u5408\u306b\u4f7f\u3044\u307e\u3059\u3002</p>"},{"location":"ja/field-attributes/#dataclasses","title":"dataclasses\u306b\u3088\u3063\u3066\u63d0\u4f9b\u3055\u308c\u308b\u5c5e\u6027","text":""},{"location":"ja/field-attributes/#default-default_factory","title":"<code>default</code> \u3068 <code>default_factory</code>","text":"<p>dataclasses\u306e <code>default</code> \u3068 <code>default_factory</code> \u306f\u671f\u5f85\u901a\u308a\u306b\u52d5\u4f5c\u3057\u307e\u3059\u3002 \u30d5\u30a3\u30fc\u30eb\u30c9\u304c <code>default</code> \u307e\u305f\u306f <code>default_factory</code> \u5c5e\u6027\u3092\u6301\u3064\u5834\u5408\u3001\u305d\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306f\u30aa\u30d7\u30b7\u30e7\u30ca\u30eb\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u3088\u3046\u306b\u632f\u308b\u821e\u3044\u307e\u3059\u3002 \u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u30c7\u30fc\u30bf\u5185\u306b\u5b58\u5728\u3059\u308b\u5834\u5408\u3001\u5f53\u8a72\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u5024\u304c\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3055\u308c\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u8a2d\u5b9a\u3055\u308c\u307e\u3059\u3002 \u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u30c7\u30fc\u30bf\u5185\u306b\u5b58\u5728\u3057\u306a\u3044\u5834\u5408\u3001\u6307\u5b9a\u3055\u308c\u305f\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u304c\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3055\u308c\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u8a2d\u5b9a\u3055\u308c\u307e\u3059\u3002</p> <pre><code>class Foo:\n    a: int = 10\n    b: int = field(default=10)  # field \"a\"\u3068\u540c\u3058\n    c: dict[str, int] = field(default_factory=dict)\n\nprint(from_dict(Foo, {}))  # Foo(a=10, b=10, c={}) \u3092\u51fa\u529b\n</code></pre> <p>\u5b8c\u5168\u306a\u4f8b\u306b\u3064\u3044\u3066\u306f\u3001examples/default.py\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/field-attributes/#classvar","title":"<code>ClassVar</code>","text":"<p><code>dataclasses.ClassVar</code> \u306f\u30c7\u30fc\u30bf\u30af\u30e9\u30b9\u306e\u30af\u30e9\u30b9\u5909\u6570\u3067\u3042\u308a\u3001dataclass\u306fClassVar\u3092\u64ec\u4f3c\u7684\u306a\u30d5\u30a3\u30fc\u30eb\u30c9\u3068\u3057\u3066\u6271\u3044\u307e\u3059\u3002 <code>dataclasses.field</code> \u306f\u30af\u30e9\u30b9\u5909\u6570\u3092\u542b\u307e\u306a\u3044\u305f\u3081\u3001pyserde\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u52d5\u4f5c\u3068\u3057\u3066 <code>ClassVar</code> \u30d5\u30a3\u30fc\u30eb\u30c9\u3092\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3057\u307e\u305b\u3093\u3002 ClassVar\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3059\u308b\u5834\u5408\u306f\u3001serialize_class_var\u30af\u30e9\u30b9\u5c5e\u6027\u306e\u4f7f\u7528\u3092\u691c\u8a0e\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>\u5b8c\u5168\u306a\u4f8b\u306b\u3064\u3044\u3066\u306f\u3001examples/class_var.py\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/field-attributes/#pyserde","title":"pyserde\u306b\u3088\u3063\u3066\u63d0\u4f9b\u3055\u308c\u308b\u5c5e\u6027","text":"<p>\u30d5\u30a3\u30fc\u30eb\u30c9\u5c5e\u6027\u306f <code>serde.field</code> \u307e\u305f\u306f <code>dataclasses.field</code> \u3092\u901a\u3058\u3066\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u578b\u30c1\u30a7\u30c3\u30af\u304c\u6a5f\u80fd\u3059\u308b\u305f\u3081\u3001 <code>serde.field</code> \u306e\u4f7f\u7528\u3092\u63a8\u5968\u3057\u307e\u3059\u3002</p> <p>\u4ee5\u4e0b\u306f\u3001<code>rename</code> \u5c5e\u6027\u3092 <code>serde.field</code> \u3068 <code>dataclasses.field</code> \u306e\u4e21\u65b9\u3067\u6307\u5b9a\u3059\u308b\u4f8b\u3067\u3059\u3002</p> <pre><code>@serde.serde\nclass Foo:\n    a: str = serde.field(rename=\"A\")\n    b: str = dataclasses.field(metadata={\"serde_rename\": \"B\"})\n</code></pre>"},{"location":"ja/field-attributes/#rename","title":"<code>rename</code>","text":"<p><code>rename</code> \u306f\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u4e2d\u306b\u30d5\u30a3\u30fc\u30eb\u30c9\u540d\u3092\u5909\u66f4\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002 \u3053\u306e\u5c5e\u6027\u306f\u3001\u30d5\u30a3\u30fc\u30eb\u30c9\u540d\u306bPython\u306e\u30ad\u30fc\u30ef\u30fc\u30c9\uff08\u4e88\u7d04\u8a9e\uff09\u3092\u4f7f\u7528\u3057\u305f\u3044\u5834\u5408\u306b\u4fbf\u5229\u3067\u3059\u3002</p> <p>\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u306f\u30d5\u30a3\u30fc\u30eb\u30c9\u540d <code>id</code> \u3092 <code>ID</code> \u306b\u5909\u66f4\u3059\u308b\u4f8b\u3067\u3059\u3002</p> <pre><code>@serde\nclass Foo:\n    id: int = field(rename=\"ID\")\n</code></pre> <p>\u5b8c\u5168\u306a\u4f8b\u306b\u3064\u3044\u3066\u306f\u3001examples/rename.py\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/field-attributes/#skip","title":"<code>skip</code>","text":"<p><code>skip</code> \u306f\u3053\u306e\u5c5e\u6027\u3092\u6301\u3064\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3092\u30b9\u30ad\u30c3\u30d7\u3057\u307e\u3059\u3002</p> <pre><code>@serde\nclass Resource:\n    name: str\n    hash: str\n    metadata: dict[str, str] = field(default_factory=dict, skip=True)\n</code></pre> <p>\u5b8c\u5168\u306a\u4f8b\u306b\u3064\u3044\u3066\u306f\u3001examples/skip.py\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/field-attributes/#skip_serializing","title":"<code>skip_serializing</code>","text":"<p><code>skip_serializing</code> \u306f\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u6642\u306e\u307f\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u7701\u304d\u307e\u3059\u3002\u5165\u529b\u3067\u306f\u901a\u5e38\u901a\u308a\u53d7\u3051\u53d6\u308a\u307e\u3059\u3002</p> <pre><code>@serde\nclass Credentials:\n    user: str\n    token: str = field(skip_serializing=True)\n</code></pre> <p>\u5b8c\u5168\u306a\u4f8b\u306b\u3064\u3044\u3066\u306f\u3001examples/skip_serializing_deserializing.py\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/field-attributes/#skip_deserializing","title":"<code>skip_deserializing</code>","text":"<p><code>skip_deserializing</code> \u306f\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u6642\u306b\u5165\u529b\u5024\u3092\u7121\u8996\u3057\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\uff08\u307e\u305f\u306f default_factory\uff09\u306e\u5024\u3092\u4fdd\u6301\u3057\u307e\u3059\u3002<code>__init__</code> \u306b\u542b\u307e\u308c\u308b\u30d5\u30a3\u30fc\u30eb\u30c9\u3067\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u304c\u5fc5\u9808\u3067\u3059\u3002</p> <pre><code>@serde\nclass Profile:\n    username: str\n    session_id: str = field(default=\"generated\", skip_deserializing=True)\n</code></pre> <p>\u5b8c\u5168\u306a\u4f8b\u306b\u3064\u3044\u3066\u306f\u3001examples/skip_serializing_deserializing.py\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/field-attributes/#skip_if","title":"<code>skip_if</code>","text":"<p><code>skip_if</code> \u306f\u6761\u4ef6\u95a2\u6570\u304c <code>True</code> \u3092\u8fd4\u3059\u5834\u5408\u306b\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3092\u30b9\u30ad\u30c3\u30d7\u3057\u307e\u3059\u3002</p> <pre><code>@serde\nclass World:\n    buddy: str = field(default='', skip_if=lambda v: v == 'Pikachu')\n</code></pre> <p>\u5b8c\u5168\u306a\u4f8b\u306b\u3064\u3044\u3066\u306f\u3001examples/skip.py\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>Note</p> <p><code>skip</code>\u3001<code>skip_if</code>\u3001<code>skip_if_false</code>\u3001<code>skip_if_none</code>\u3001<code>skip_if_default</code> \u306f\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba/\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u306e\u4e21\u65b9\u306b\u9069\u7528\u3055\u308c\u307e\u3059\u3002\u65b9\u5411\u3054\u3068\u306b\u5236\u5fa1\u3057\u305f\u3044\u5834\u5408\u306f <code>skip_serializing</code> / <code>skip_deserializing</code> \u3092\u4f7f\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/field-attributes/#skip_if_false","title":"<code>skip_if_false</code>","text":"<p><code>skip_if_false</code> \u306f\u30d5\u30a3\u30fc\u30eb\u30c9\u304c <code>False</code> \u3068\u8a55\u4fa1\u3055\u308c\u308b\u5834\u5408\u306b\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3092\u30b9\u30ad\u30c3\u30d7\u3057\u307e\u3059\u3002</p> <p>\u4f8b\u3048\u3070\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u306f <code>enemies</code> \u304c\u7a7a\u3067\u3042\u308c\u3070\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3092\u30b9\u30ad\u30c3\u30d7\u3057\u307e\u3059\u3002</p> <pre><code>@serde\nclass World:\n    enemies: list[str] = field(default_factory=list, skip_if_false=True)\n</code></pre> <p>\u5b8c\u5168\u306a\u4f8b\u306b\u3064\u3044\u3066\u306f\u3001examples/skip.py\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/field-attributes/#skip_if_none","title":"<code>skip_if_none</code>","text":"<p><code>skip_if_none</code> \u306f\u5024\u304c <code>None</code> \u306e\u3068\u304d\u306b\u305d\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3092\u30b9\u30ad\u30c3\u30d7\u3057\u307e\u3059\u3002</p> <pre><code>@serde\nclass Profile:\n    nickname: str | None = field(default=None, skip_if_none=True)\n</code></pre> <p>\u30af\u30e9\u30b9\u5168\u4f53\u306b\u9069\u7528\u3059\u308b\u65b9\u6cd5\u306f \u30af\u30e9\u30b9\u5c5e\u6027: skip_if_none \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u5b9f\u884c\u4f8b\u306f examples/skip_if_none.py \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/field-attributes/#skip_if_default","title":"<code>skip_if_default</code>","text":"<p><code>skip_if_default</code> \u306f\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3068\u30a4\u30b3\u30fc\u30eb\u3067\u3042\u308b\u5834\u5408\u306b\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3092\u30b9\u30ad\u30c3\u30d7\u3057\u307e\u3059\u3002</p> <p>\u4f8b\u3048\u3070\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u306f <code>town</code> \u304c <code>Masara Town</code> \u3067\u3042\u308c\u3070\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3092\u30b9\u30ad\u30c3\u30d7\u3057\u307e\u3059\u3002</p> <pre><code>@serde\nclass World:\n    town: str = field(default='Masara Town', skip_if_default=True)\n</code></pre> <p>\u30af\u30e9\u30b9\u5168\u4f53\u306b\u4e00\u62ec\u3067\u9069\u7528\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002</p> <pre><code>@serde(skip_if_default=True)\nclass Settings:\n    theme: str = \\\"light\\\"\n    retries: int = 3\n</code></pre> <p>\u30af\u30e9\u30b9\u3067\u6709\u52b9\u306b\u3057\u3066\u3082\u3001\u30d5\u30a3\u30fc\u30eb\u30c9\u5074\u3067 <code>skip_if_default=False</code> \u3068\u8a2d\u5b9a\u3059\u308c\u3070\u305d\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306f\u4fdd\u6301\u3055\u308c\u307e\u3059\u3002</p> <p>\u30af\u30e9\u30b9\u5168\u4f53\u306b\u9069\u7528\u3059\u308b\u8a2d\u5b9a\u306b\u3064\u3044\u3066\u306f \u30af\u30e9\u30b9\u5c5e\u6027: skip_if_default \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u5b8c\u5168\u306a\u4f8b\u306f examples/skip.py \u3068 examples/skip_if_default_class.py \u306b\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"ja/field-attributes/#alias","title":"<code>alias</code>","text":"<p>\u30d5\u30a3\u30fc\u30eb\u30c9\u540d\u306b\u5225\u540d\u3092\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002\u30a8\u30a4\u30ea\u30a2\u30b9\u306f\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u6642\u306b\u306e\u307f\u6a5f\u80fd\u3057\u307e\u3059\u3002</p> <pre><code>@serde\nclass Foo:\n    a: str = field(alias=[\"b\", \"c\"])\n</code></pre> <p>\u4e0a\u8a18\u306e\u4f8b\u3067\u306f\u3001 <code>Foo</code> \u306f <code>{\"a\": \"...\"}</code> , <code>{\"b\": \"...\"}</code> \u3001\u307e\u305f\u306f <code>{\"c\": \"...\"}</code> \u306e\u3044\u305a\u308c\u304b\u304b\u3089\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3067\u304d\u307e\u3059\u3002</p> <p>\u5b8c\u5168\u306a\u4f8b\u306b\u3064\u3044\u3066\u306f\u3001examples/alias.py\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/field-attributes/#serializer-deserializer","title":"<code>serializer</code> \u3068 <code>deserializer</code>","text":"<p>\u7279\u5b9a\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u5bfe\u3057\u3066\u30ab\u30b9\u30bf\u30e0\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u3092\u4f7f\u7528\u3057\u305f\u3044\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>\u4f8b\u3048\u3070\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30b1\u30fc\u30b9\u3067\u3059\u3002 * datetime\u3092\u7570\u306a\u308b\u5f62\u5f0f\u3067\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3057\u305f\u3044\u3002 * \u30b5\u30fc\u30c9\u30d1\u30fc\u30c6\u30a3\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u578b\u3092\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3057\u305f\u3044\u3002</p> <p>\u4ee5\u4e0b\u306e\u4f8b\u3067\u306f\u3001\u30d5\u30a3\u30fc\u30eb\u30c9 <code>a</code> \u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u3067 <code>\"2021-01-01T00:00:00\"</code> \u306b\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3055\u308c\u307e\u3059\u304c\u3001\u30d5\u30a3\u30fc\u30eb\u30c9 <code>b</code> \u306f\u30ab\u30b9\u30bf\u30e0\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u3067 <code>\"01/01/21\"</code> \u306b\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3055\u308c\u307e\u3059\u3002</p> <pre><code>@serde\nclass Foo:\n    a: datetime\n    b: datetime = field(serializer=lambda x: x.strftime('%d/%m/%y'), deserializer=lambda x: datetime.strptime(x, '%d/%m/%y'))\n</code></pre> <p>\u5b8c\u5168\u306a\u4f8b\u306b\u3064\u3044\u3066\u306f\u3001examples/custom_field_serializer.py\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/field-attributes/#flatten","title":"<code>flatten</code>","text":"<p><code>flatten</code> \u5c5e\u6027\u306f2\u3064\u306e\u65b9\u6cd5\u3067\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"ja/field-attributes/#dataclass","title":"\u30cd\u30b9\u30c8\u3055\u308c\u305fdataclass\u306e\u30d5\u30e9\u30c3\u30c8\u5316","text":"<p>\u30cd\u30b9\u30c8\u3055\u308c\u305fdataclass\u69cb\u9020\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u30d5\u30e9\u30c3\u30c8\u306b\u3067\u304d\u307e\u3059\u3002</p> <pre><code>@serde\nclass Bar:\n    c: float\n    d: bool\n\n@serde\nclass Foo:\n    a: int\n    b: str\n    bar: Bar = field(flatten=True)\n</code></pre> <p>\u4e0a\u8a18\u306e\u4f8b\u3067\u306f\u3001<code>Bar</code> \u306e <code>c</code> \u304a\u3088\u3073 <code>d</code> \u30d5\u30a3\u30fc\u30eb\u30c9\u304c <code>Foo</code> \u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u304b\u306e\u3088\u3046\u306b\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3055\u308c\u307e\u3059\u3002 <code>Foo</code> \u3092JSON\u5f62\u5f0f\u306b\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3059\u308b\u3068 <code>{\"a\":10,\"b\":\"foo\",\"c\":100.0,\"d\":true}</code> \u3092\u53d6\u5f97\u3057\u307e\u3059\u3002</p> <p>\u5b8c\u5168\u306a\u4f8b\u306b\u3064\u3044\u3066\u306f\u3001examples/flatten.py\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/field-attributes/#dict","title":"dict\u3067\u8ffd\u52a0\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u30ad\u30e3\u30d7\u30c1\u30e3","text":"<p><code>dict[str, Any]</code> \u307e\u305f\u306f <code>dict</code> \u3068 <code>flatten=True</code> \u3092\u4f7f\u7528\u3057\u3066\u3001\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u6642\u306b\u3059\u3079\u3066\u306e\u672a\u77e5/\u8ffd\u52a0\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u30ad\u30e3\u30d7\u30c1\u30e3\u3067\u304d\u307e\u3059\u3002Rust serde\u306e <code>HashMap&lt;String, Value&gt;</code> \u306b\u5bfe\u3059\u308b <code>#[serde(flatten)]</code> \u3068\u540c\u69d8\u306e\u6a5f\u80fd\u3067\u3059\u3002</p> <pre><code>@serde\nclass User:\n    id: int\n    name: str\n    extra: dict[str, Any] = field(flatten=True, default_factory=dict)\n\n# \u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba - \u8ffd\u52a0\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u30ad\u30e3\u30d7\u30c1\u30e3\u3055\u308c\u308b\nuser = from_json(User, '{\"id\": 1, \"name\": \"Alice\", \"role\": \"admin\", \"active\": true}')\n# user.extra == {\"role\": \"admin\", \"active\": True}\n\n# \u30b7\u30ea\u30a2\u30e9\u30a4\u30ba - \u8ffd\u52a0\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u30de\u30fc\u30b8\u3055\u308c\u308b\nuser2 = User(id=2, name=\"Bob\", extra={\"department\": \"Engineering\"})\nto_json(user2)  # '{\"id\": 2, \"name\": \"Bob\", \"department\": \"Engineering\"}'\n</code></pre> <p>\u4e3b\u306a\u6a5f\u80fd: - \u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u6642\u3001\u5ba3\u8a00\u3055\u308c\u305f\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u4e00\u81f4\u3057\u306a\u3044\u30d5\u30a3\u30fc\u30eb\u30c9\u304cdict\u306b\u30ad\u30e3\u30d7\u30c1\u30e3\u3055\u308c\u307e\u3059 - \u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u6642\u3001dict\u306e\u5185\u5bb9\u304c\u51fa\u529b\u306b\u30de\u30fc\u30b8\u3055\u308c\u307e\u3059\uff08\u5ba3\u8a00\u3055\u308c\u305f\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u512a\u5148\u3055\u308c\u307e\u3059\uff09 - \u3059\u3079\u3066\u306e\u30c7\u30fc\u30bf\u5f62\u5f0f\uff08JSON\u3001YAML\u3001TOML\u3001MessagePack\u306a\u3069\uff09\u3067\u52d5\u4f5c\u3057\u307e\u3059 - \u30d5\u30e9\u30c3\u30c8\u5316\u3055\u308c\u305fdataclass\u30d5\u30a3\u30fc\u30eb\u30c9\u3068\u7d44\u307f\u5408\u308f\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059</p> <p>\u5b8c\u5168\u306a\u4f8b\u306b\u3064\u3044\u3066\u306f\u3001examples/flatten_dict.py\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/getting-started/","title":"Getting Started","text":""},{"location":"ja/getting-started/#_1","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<p>PyPI\u304b\u3089pyserde\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3002pyserde\u306b\u306fPython&gt;=3.10\u304c\u5fc5\u8981\u3067\u3059\u3002</p> <p>\u3088\u308a\u9ad8\u901f\u306aJSON\u51e6\u7406\u304c\u5fc5\u8981\u306a\u5834\u5408\u306f\u3001<code>orjson</code> \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066 <code>orjson</code> \u30a8\u30af\u30b9\u30c8\u30e9\u3092\u5229\u7528\u3067\u304d\u307e\u3059\u3002</p> <pre><code>pip install pyserde\n</code></pre> <p>uv\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002 <pre><code>uv add pyserde\n</code></pre></p> <p>JSON\u3068Pickle\u4ee5\u5916\u306e\u30c7\u30fc\u30bf\u5f62\u5f0f\u3092\u6271\u3046\u5834\u5408\u306f\u3001\u8ffd\u52a0\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u9069\u5207\u306a\u30c7\u30fc\u30bf\u5f62\u5f0f\u3067\u52d5\u4f5c\u3059\u308b\u306b\u306f\u3001<code>msgpack</code>\u3001<code>toml</code>\u3001<code>yaml</code> \u306e\u8ffd\u52a0\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u4f7f\u7528\u3057\u306a\u3044\u5834\u5408\u306f\u30b9\u30ad\u30c3\u30d7\u3057\u3066\u69cb\u3044\u307e\u305b\u3093\u3002 \u4f8b\u3048\u3070\u3001Toml\u3068YAML\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002</p> <pre><code>pip install \"pyserde[toml,yaml]\"\n</code></pre> <p>uv\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u5834\u5408 <pre><code>uv add pyserde --extra toml --extra yaml\n</code></pre></p> <p>\u4e00\u5ea6\u306b\u3059\u3079\u3066\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5834\u5408</p> <pre><code>pip install \"pyserde[all]\"\n</code></pre> <p>uv\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u5834\u5408 <pre><code>uv add pyserde --extra all\n</code></pre></p> <p>\u5229\u7528\u53ef\u80fd\u306a\u8ffd\u52a0\u30d1\u30c3\u30b1\u30fc\u30b8:</p> <ul> <li><code>all</code>\uff1a<code>msgpack</code>\u3001<code>toml</code>\u3001<code>yaml</code>\u3001<code>numpy</code>\u3001<code>orjson</code>\u3001<code>sqlalchemy</code> \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb</li> <li><code>msgpack</code>\uff1amsgpack \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb</li> <li><code>toml</code>\uff1atomli \u3068 tomli-w \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb</li> <li><code>yaml</code>\uff1apyyaml \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb</li> <li><code>numpy</code>\uff1anumpy \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb</li> <li><code>orjson</code>\uff1aorjson \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb</li> <li><code>sqlalchemy</code>\uff1asqlalchemy \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb</li> </ul> <p>Note</p> <p>python 3.11\u4ee5\u964d\u306f tomllib \u3092\u4f7f\u7528</p> <p>Note</p> <p>\u30a8\u30af\u30b9\u30c8\u30e9\u306f\u8ffd\u52a0\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3084\u8ffd\u52a0\u578b\u306e\u30b5\u30dd\u30fc\u30c8\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002\u5fc5\u8981\u306a\u3082\u306e\u3060\u3051\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"ja/getting-started/#pyserde","title":"\u6700\u521d\u306epyserde\u30af\u30e9\u30b9\u3092\u5b9a\u7fa9","text":"<p>pyserde\u306e<code>@serde</code>\u30c7\u30b3\u30ec\u30fc\u30bf\u3092\u4f7f\u7528\u3057\u3066\u30af\u30e9\u30b9\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002 \u30e2\u30b8\u30e5\u30fc\u30eb\u540d\u304c <code>pyserde</code> \u3067\u306f\u306a\u304f <code>serde</code> \u3067\u3042\u308b\u3053\u3068\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002 <code>pyserde</code>\u306f\u6a19\u6e96\u30e9\u30a4\u30d6\u30e9\u30ea\u306e<code>dataclasses</code>\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u5927\u304d\u304f\u4f9d\u5b58\u3057\u3066\u3044\u307e\u3059\u3002 \u305d\u306e\u305f\u3081\u3001dataclass\u306b\u6163\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u307e\u305adataclasses\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u8aad\u3080\u3053\u3068\u3092\u304a\u3059\u3059\u3081\u3057\u307e\u3059\u3002</p> <pre><code>from serde import serde\n\n@serde\nclass Foo:\n    i: int\n    s: str\n    f: float\n    b: bool\n</code></pre> <p>\u30af\u30e9\u30b9\u304cPython\u30a4\u30f3\u30bf\u30d7\u30ea\u30bf\u306b\u30ed\u30fc\u30c9\u3055\u308c\u308b\u3068\u3001pyserde\u306f<code>@serde</code>\u306b\u3088\u3063\u3066\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u306b\u5fc5\u8981\u306a\u30e1\u30bd\u30c3\u30c9\u3092\u751f\u6210\u3057\u307e\u3059\u3002 \u30b3\u30fc\u30c9\u751f\u6210\u306f\u4e00\u5ea6\u3060\u3051\u884c\u308f\u308c\u3001\u30af\u30e9\u30b9\u3092\u4f7f\u7528\u3059\u308b\u969b\u306b\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9\u306f\u3042\u308a\u307e\u305b\u3093\u3002 \u3053\u308c\u306b\u3088\u308a\u3001\u30af\u30e9\u30b9\u306fpyserde\u304c\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u3059\u3079\u3066\u306e\u30c7\u30fc\u30bf\u5f62\u5f0f\u3067\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u304a\u3088\u3073\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002</p> <p>Note</p> <p>\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u307e\u305f\u306f\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u306e\u6a5f\u80fd\u306e\u307f\u304c\u5fc5\u8981\u306a\u5834\u5408\u3001<code>@serde</code>\u30c7\u30b3\u30ec\u30fc\u30bf\u306e\u4ee3\u308f\u308a\u306b<code>@serialize</code>\u3084<code>@deserialize</code>\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002</p> <p>\u4f8b\uff1a\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u306e\u307f\u3092\u884c\u3046\u5834\u5408\u3001<code>@serialize</code>\u30c7\u30b3\u30ec\u30fc\u30bf\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002\u3057\u304b\u3057\u3001<code>Foo</code>\u306e\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30baAPI\uff08\u4f8b\uff1a<code>from_json</code>\uff09\u3092\u547c\u3073\u51fa\u3059\u3068\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3059\u3002 <pre><code>from serde import serialize\n\n@serialize\nclass Foo:\n    i: int\n    s: str\n    f: float\n    b: bool\n</code></pre></p>"},{"location":"ja/getting-started/#pep585pep604","title":"PEP585\u3068PEP604","text":"<p>python&gt;=3.10\u7528\u306ePEP585\u30b9\u30bf\u30a4\u30eb\u306e\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3068\u3001PEP604 Union\u30aa\u30da\u30ec\u30fc\u30bf\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u3059\u3002 PEP585\u3068PEP604\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001pyserde\u30af\u30e9\u30b9\u3092\u304d\u308c\u3044\u306b\u66f8\u304f\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 <pre><code>@serde\nclass Foo:\n    a: int\n    b: list[str]\n    c: tuple[int, float, str, bool]\n    d: dict[str, list[tuple[str, int]]]\n    e: str | None\n</code></pre></p>"},{"location":"ja/getting-started/#pyserde_1","title":"pyserde\u30af\u30e9\u30b9\u306e\u4f7f\u7528","text":"<p>\u6b21\u306b\u3001pyserde\u306e\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30baAPI\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002 JSON\u306e\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002</p> <pre><code>from serde.json import from_json, to_json\n</code></pre> <p><code>to_json</code>\u3092\u4f7f\u7528\u3057\u3066\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092JSON\u306b\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3057\u307e\u3059\u3002 <pre><code>f = Foo(i=10, s='foo', f=100.0, b=True)\nprint(to_json(f))\n</code></pre></p> <p><code>from_json</code>\u306b<code>Foo</code>\u30af\u30e9\u30b9\u3068JSON\u6587\u5b57\u5217\u3092\u6e21\u3057\u3066\u3001JSON\u3092\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3057\u307e\u3059\u3002 <pre><code>s = '{\"i\": 10, \"s\": \"foo\", \"f\": 100.0, \"b\": true}'\nprint(from_json(Foo, s))\n</code></pre></p> <p>\u30d5\u30a1\u30a4\u30eb\u3084\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u9001\u4fe1\u524d\u306b\u30c7\u30fc\u30bf\u3092\u52a0\u5de5\u3057\u305f\u3044\u5834\u5408\u3001Python\u306e<code>dict</code>\u3068\u3057\u3066\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002</p> <pre><code>from serde import to_dict, from_dict\n\npayload = to_dict(f)\n# \u4f8b: \u9001\u4fe1\u524d\u306b\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u8ffd\u52a0\u3059\u308b\npayload[\"source\"] = \"cli\"\nprint(from_dict(Foo, payload))\n</code></pre> <p>\u4ee5\u4e0a\u3067\u3059\uff01 pyserde\u306b\u306f\u4ed6\u306b\u3082\u591a\u304f\u306e\u6a5f\u80fd\u304c\u3042\u308a\u307e\u3059\u3002\u8208\u5473\u304c\u3042\u308c\u3070\u3001\u6b8b\u308a\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u304a\u8aad\u307f\u304f\u3060\u3055\u3044\u3002</p> <p>Note</p> <p>YAML/TOML/MsgPack\u3092\u4f7f\u3046\u5834\u5408\u306f\u3001\u4e0a\u8a18\u306e\u8a72\u5f53\u30a8\u30af\u30b9\u30c8\u30e9\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>\u3069\u306e\u30bf\u30a4\u30d7\u30c1\u30a7\u30c3\u30ab\u30fc\u3092\u4f7f\u7528\u3059\u3079\u304d\u304b\uff1f</p> <p>pyserde\u306fPEP681 dataclass_transform\u306b\u4f9d\u5b58\u3057\u3066\u3044\u307e\u3059\u3002 2024\u5e741\u6708\u73fe\u5728\u3001mypy\u306fdataclass_transform\u3092\u5b8c\u5168\u306b\u306f\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u305b\u3093\u3002 \u79c1\u306e\u500b\u4eba\u7684\u306a\u304a\u3059\u3059\u3081\u306fpyright\u3067\u3059\u3002</p>"},{"location":"ja/type-check/","title":"Type Checking","text":"<p>pyserde\u306fv0.9\u304b\u3089\u30e9\u30f3\u30bf\u30a4\u30e0\u578b\u30c1\u30a7\u30c3\u30af\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002 v0.14\u3067\u5b8c\u5168\u306b\u4f5c\u308a\u76f4\u3055\u308c\u3001beartype\u3092\u4f7f\u7528\u3057\u3066\u3088\u308a\u6d17\u7df4\u3055\u308c\u4fe1\u983c\u6027\u306e\u9ad8\u3044\u3082\u306e\u3068\u306a\u308a\u307e\u3057\u305f\u3002 \u578b\u5b89\u5168\u3067\u5805\u7262\u306a\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u66f8\u304f\u305f\u3081\u306b\u306f\u3001\u578b\u30c1\u30a7\u30c3\u30af\u3092\u5e38\u306b\u6709\u52b9\u306b\u3059\u308b\u3053\u3068\u3092\u5f37\u304f\u63a8\u5968\u3057\u307e\u3059\u3002</p> <p>\u5916\u90e8\u5165\u529b\u3092\u53d7\u3051\u53d6\u308b\u5834\u5408\u306f\u3001<code>strict</code>\u307e\u305f\u306f<code>coerce</code>\u3092\u63a8\u5968\u3057\u307e\u3059\u3002\u7121\u52b9\u306a\u30c7\u30fc\u30bf\u3092\u65e9\u3081\u306b\u691c\u51fa\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"ja/type-check/#strict","title":"<code>strict</code>","text":"<p>\u53b3\u683c\u306a\u578b\u30c1\u30a7\u30c3\u30af <code>strict</code> \u306f\u3001\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3068\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u69cb\u7bc9\u306e\u969b\u306b\u3059\u3079\u3066\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u5024\u3092\u5ba3\u8a00\u3055\u308c\u305f\u578b\u3068\u7167\u5408\u3057\u307e\u3059\u3002 \u3053\u308c\u306fv0.14\u4ee5\u964d\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u578b\u30c1\u30a7\u30c3\u30af\u30e2\u30fc\u30c9\u3067\u3059\u3002</p> <p>\u3053\u306e\u30e2\u30fc\u30c9\u3067\u306f\u3001\u30af\u30e9\u30b9\u5c5e\u6027\u3092\u6307\u5b9a\u305b\u305a\u306b <code>@serde</code> \u30c7\u30b3\u30ec\u30fc\u30bf\u3092\u4f7f\u7528\u3057\u3066\u30af\u30e9\u30b9\u3092\u5ba3\u8a00\u3057\u305f\u5834\u5408\u3001<code>@serde(type_check=strict)</code> \u3068\u898b\u306a\u3055\u308c\u3001\u53b3\u683c\u306a\u578b\u30c1\u30a7\u30c3\u30af\u304c\u6709\u52b9\u306b\u306a\u308a\u307e\u3059\u3002</p> <pre><code>@serde\nclass Foo:\n    s: str\n</code></pre> <p>\u4f8b\u3048\u3070\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u9593\u9055\u3063\u305f\u578b\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067<code>Foo</code>\u3092\u547c\u3073\u51fa\u3059\u3068\u3001 <pre><code>foo = Foo(10)\n</code></pre></p> <p>\u4ee5\u4e0b\u306e\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3059\u3002 <pre><code>beartype.roar.BeartypeCallHintParamViolation: Method __main__.Foo.__init__() parameter s=10 violates type hint &lt;class 'str'&gt;, as int 10 not instance of str.\n</code></pre></p> <p>Note</p> <p>2024\u5e742\u6708\u6642\u70b9\u3067beartype\u306f\u691c\u8a3c\u30d5\u30c3\u30af\u3092\u63d0\u4f9b\u3057\u3066\u3044\u306a\u3044\u305f\u3081\u3001\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u30fc\u304b\u3089\u306fSerdeError\u3067\u306f\u306a\u304fbeartype\u306e\u4f8b\u5916\u304c\u767a\u751f\u3057\u307e\u3059\u3002</p> <p>\u540c\u69d8\u306b\u3001\u9593\u9055\u3063\u305f\u578b\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30baAPI\u3092\u547c\u3073\u51fa\u3059\u3068\u3001</p> <pre><code>print(to_json(foo))\n</code></pre> <p>\u518d\u3073\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>serde.compat.SerdeError: Method __main__.Foo.__init__() parameter s=10 violates type hint &lt;class 'str'&gt;, as int 10 not instance of str.\n</code></pre> <p>beartype\u306b\u3088\u308b\u578b\u30c1\u30a7\u30c3\u30af\u306e\u6ce8\u610f\u70b9</p> <ol> <li> <p>beartype\u306f\u5909\u66f4\u3055\u308c\u305f\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u691c\u8a3c\u3067\u304d\u307e\u305b\u3093\u3002</p> <p>\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u30d7\u30ed\u30d1\u30c6\u30a3 <code>s</code> \u304c\u6700\u5f8c\u306b\u5909\u66f4\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001beartype\u306f\u3053\u306e\u30b1\u30fc\u30b9\u3092\u691c\u51fa\u3067\u304d\u307e\u305b\u3093\u3002 <pre><code>@serde\nclass Foo:\n    s: str\n\nf = Foo(\"foo\")\nf.s = 100\n</code></pre></p> </li> <li> <p>beartype\u306f\u30b3\u30f3\u30c6\u30ca\u5185\u306e\u5404\u8981\u7d20\u3092\u691c\u8a3c\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002\u3053\u308c\u306f\u30d0\u30b0\u3067\u306f\u306a\u304f\u3001beartype\u306e\u8a2d\u8a08\u539f\u5247\u3067\u3059\u3002Does beartype actually do anything?\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> </li> </ol>"},{"location":"ja/type-check/#coerce","title":"<code>coerce</code>","text":"<p>\u578b\u5f37\u5236 <code>coerce</code> \u306f\u3001\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u4e2d\u306b\u5024\u3092\u5ba3\u8a00\u3055\u308c\u305f\u578b\u306b\u81ea\u52d5\u7684\u306b\u5909\u63db\u3057\u307e\u3059\u3002</p> <pre><code>@serde(type_check=coerce)\nclass Foo:\n    s: str\n\nfoo = Foo(10)\n# pyserde\u306f\u81ea\u52d5\u7684\u306b int \u5024\u306e 10 \u3092 str \u306e \"10\" \u306b\u5909\u63db\u3057\u307e\u3059\n# {\"s\": \"10\"}\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\nprint(to_json(foo))\n</code></pre> <p>\u3057\u304b\u3057\u3001\u5024\u304c\u5ba3\u8a00\u3055\u308c\u305f\u578b\u306b\u5909\u63db\u3067\u304d\u306a\u3044\u5834\u5408\uff08\u4f8b\u3048\u3070\u3001\u5024\u304c <code>foo</code> \u3067\u578b\u304c <code>int</code> \u306e\u5834\u5408\uff09\u3001pyserde \u306f<code>SerdeError</code> \u3092\u767a\u751f\u3055\u305b\u307e\u3059\u3002</p>"},{"location":"ja/type-check/#disabled","title":"<code>disabled</code>","text":"<p>\u3053\u308c\u306fpyserde v0.8.3\u304a\u3088\u3073v0.9.x\u307e\u3067\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u6319\u52d5\u3067\u3059\u3002 \u578b\u5f37\u5236\u307e\u305f\u306f\u30c1\u30a7\u30c3\u30af\u306f\u5b9f\u884c\u3055\u308c\u307e\u305b\u3093\u3002</p> <p>\u5229\u7528\u8005\u304c\u9593\u9055\u3063\u305f\u5024\u3092\u5165\u529b\u3057\u3066\u3082\u3001pyserde\u306f\u578b\u306e\u4e0d\u6574\u5408\u3092\u7121\u8996\u3057\u3066\u51e6\u7406\u3092\u7d9a\u884c\u3057\u307e\u3059\u3002</p> <pre><code>@serde\nclass Foo:\n    s: str\n\nfoo = Foo(10)\n# pyserde\u306f\u578b\u306e\u6574\u5408\u6027\u3092\u78ba\u8a8d\u3057\u306a\u3044\u305f\u3081\u3001{\"s\": 10} \u304c\u51fa\u529b\u3055\u308c\u307e\u3059\nprint(to_json(foo))\n</code></pre>"},{"location":"ja/types/","title":"Types","text":"<p>\u4ee5\u4e0b\u306f\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u578b\u306e\u30ea\u30b9\u30c8\u3067\u3059\u3002\u5404\u578b\u306e\u7c21\u5358\u306a\u4f8b\u306f\u811a\u6ce8\u306b\u3042\u308a\u307e\u3059\u3002</p> <p>Tip</p> <p>\u6a19\u6e96\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30b3\u30f3\u30c6\u30ca\u3084datetime\u7cfb\u306f\u305d\u306e\u307e\u307e\u4f7f\u3048\u307e\u3059\u3002\u30b5\u30fc\u30c9\u30d1\u30fc\u30c6\u30a3\u578b\u306f\u30ab\u30b9\u30bf\u30e0\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u3067\u62e1\u5f35\u3067\u304d\u307e\u3059\u3002</p> <ul> <li>\u30d7\u30ea\u30df\u30c6\u30a3\u30d6\uff08<code>int</code>, <code>float</code>, <code>str</code>, <code>bool</code>\uff09<sup>1</sup></li> <li>\u30b3\u30f3\u30c6\u30ca<ul> <li><code>list</code>, <code>collections.abc.Sequence</code>, <code>collections.abc.MutableSequence</code>, <code>tuple</code> <sup>2</sup></li> <li><code>set</code>, <code>collections.abc.Set</code>, <code>collections.abc.MutableSet</code> <sup>2</sup></li> <li><code>dict</code>, <code>collections.abc.Mapping</code>, <code>collections.abc.MutableMapping</code> <sup>2</sup></li> <li><code>frozenset</code> <sup>3</sup></li> <li><code>defaultdict</code> <sup>4</sup></li> <li><code>deque</code> <sup>25</sup></li> <li><code>Counter</code> <sup>26</sup></li> </ul> </li> <li><code>typing.Optional</code><sup>5</sup></li> <li><code>typing.Union</code> <sup>6</sup> <sup>7</sup> <sup>8</sup></li> <li><code>@dataclass</code> \u3092\u7528\u3044\u305f\u30e6\u30fc\u30b6\u5b9a\u7fa9\u30af\u30e9\u30b9 <sup>9</sup> <sup>10</sup></li> <li><code>typing.NewType</code> \u3092\u7528\u3044\u305f\u30d7\u30ea\u30df\u30c6\u30a3\u30d6\u578b <sup>11</sup></li> <li><code>typing.Any</code> <sup>12</sup></li> <li><code>typing.Literal</code> <sup>13</sup></li> <li><code>typing.Generic</code> <sup>14</sup></li> <li><code>typing.ClassVar</code> <sup>15</sup></li> <li><code>typing.InitVar</code> <sup>16</sup></li> <li><code>Enum</code> \u304a\u3088\u3073 <code>IntEnum</code> <sup>17</sup></li> <li>\u6a19\u6e96\u30e9\u30a4\u30d6\u30e9\u30ea<ul> <li><code>pathlib.Path</code> <sup>18</sup></li> <li><code>decimal.Decimal</code> <sup>19</sup></li> <li><code>uuid.UUID</code> <sup>20</sup></li> <li><code>datetime.date</code>\u3001<code>datetime.time</code>\u3001<code>datetime.datetime</code> <sup>21</sup></li> <li><code>ipaddress</code> <sup>22</sup></li> </ul> </li> <li>PyPI\u30e9\u30a4\u30d6\u30e9\u30ea<ul> <li><code>numpy</code> \u30c7\u30fc\u30bf\u578b <sup>23</sup></li> <li>\u5ba3\u8a00\u7684\u30c7\u30fc\u30bf\u30af\u30e9\u30b9\u30de\u30c3\u30d4\u30f3\u30b0\u3092\u7528\u3044\u305f <code>SQLAlchemy</code>\uff08\u5b9f\u9a13\u7684\uff09<sup>24</sup></li> </ul> </li> </ul> <p>\u3053\u306e\u3088\u3046\u306b\u8907\u96d1\u306a\u30af\u30e9\u30b9\u3092\u8a18\u8ff0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 <pre><code>@serde\nclass Bar:\n    i: int\n\n@serde\nclass Foo:\n    a: int\n    b: list[str]\n    c: tuple[int, float, str, bool]\n    d: dict[str, list[tuple[str, int]]]\n    e: str | None\n    f: Bar\n</code></pre></p>"},{"location":"ja/types/#numpy","title":"Numpy","text":"<p>\u4e0a\u8a18\u306e\u3059\u3079\u3066\u306e\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u65b9\u6cd5\u306f\u3001<code>numpy</code>\u8ffd\u52a0\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u307b\u3068\u3093\u3069\u306enumpy\u30c7\u30fc\u30bf\u578b\u3092\u900f\u904e\u7684\u306b\u6271\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>import numpy as np\nimport numpy.typing as npt\n\n@serde\nclass NPFoo:\n    i: np.int32\n    j: np.int64\n    f: np.float32\n    g: np.float64\n    h: np.bool_\n    u: np.ndarray\n    v: npt.NDArray\n    w: npt.NDArray[np.int32]\n    x: npt.NDArray[np.int64]\n    y: npt.NDArray[np.float32]\n    z: npt.NDArray[np.float64]\n\nnpfoo = NPFoo(\n    np.int32(1),\n    np.int64(2),\n    np.float32(3.0),\n    np.float64(4.0),\n    np.bool_(False),\n\n\n np.array([1, 2]),\n    np.array([3, 4]),\n    np.array([np.int32(i) for i in [1, 2]]),\n    np.array([np.int64(i) for i in [3, 4]]),\n    np.array([np.float32(i) for i in [5.0, 6.0]]),\n    np.array([np.float64(i) for i in [7.0, 8.0]]),\n)\n</code></pre> <pre><code>&gt;&gt;&gt; from serde.json import to_json, from_json\n\n&gt;&gt;&gt; to_json(npfoo)\n'{\"i\": 1, \"j\": 2, \"f\": 3.0, \"g\": 4.0, \"h\": false, \"u\": [1, 2], \"v\": [3, 4], \"w\": [1, 2], \"x\": [3, 4], \"y\": [5.0, 6.0], \"z\": [7.0, 8.0]}'\n\n&gt;&gt;&gt; from_json(NPFoo, to_json(npfoo))\nNPFoo(i=1, j=2, f=3.0, g=4.0, h=False, u=array([1, 2]), v=array([3, 4]), w=array([1, 2], dtype=int32), x=array([3, 4]), y=array([5., 6.], dtype=float32), z=array([7., 8.]))\n</code></pre>"},{"location":"ja/types/#sqlalchemy","title":"SQLAlchemy\u5ba3\u8a00\u7684\u30c7\u30fc\u30bf\u30af\u30e9\u30b9\u30de\u30c3\u30d4\u30f3\u30b0\uff08\u5b9f\u9a13\u7684\uff09","text":"<p>SQLAlchemy\u5ba3\u8a00\u7684\u30c7\u30fc\u30bf\u30af\u30e9\u30b9\u30de\u30c3\u30d4\u30f3\u30b0\u7d71\u5408\u306e\u5b9f\u9a13\u7684\u30b5\u30dd\u30fc\u30c8\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3057\u305f\u304c\u3001<code>@serde(type_check=strict)</code>\u3084<code>serde.field()</code>\u306a\u3069\u306e\u7279\u5b9a\u306e\u6a5f\u80fd\u306f\u73fe\u5728\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002</p> <p>\u5b9f\u9a13\u7684\u306a\u6a5f\u80fd\u306b\u4f9d\u5b58\u3059\u308b\u5834\u5408\u3001\u672c\u756a\u74b0\u5883\u3067\u306e\u4f7f\u7528\u306b\u306f\u6ce8\u610f\u304c\u5fc5\u8981\u3067\u3059\u3002 \u30b3\u30fc\u30c9\u3092\u5fb9\u5e95\u7684\u306b\u30c6\u30b9\u30c8\u3057\u3001\u6f5c\u5728\u7684\u306a\u5236\u9650\u3084\u4e88\u671f\u305b\u306c\u52d5\u4f5c\u306b\u6ce8\u610f\u3059\u308b\u3053\u3068\u3092\u63a8\u5968\u3057\u307e\u3059\u3002</p>"},{"location":"ja/types/#_1","title":"\u65b0\u3057\u3044\u578b\u306e\u30b5\u30dd\u30fc\u30c8\u304c\u5fc5\u8981\u3067\u3059\u304b\uff1f","text":"<p>\u6a19\u6e96\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u73fe\u5728\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u306a\u3044\u578b\u3092\u4f7f\u7528\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u5834\u5408\u306f\u3001Github\u3067issue\u3092\u4f5c\u6210\u3057\u3066\u30ea\u30af\u30a8\u30b9\u30c8\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u306a\u304a\u3001\u30b5\u30fc\u30c9\u30d1\u30fc\u30c6\u30a3\u306ePython\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u578b\u306b\u3064\u3044\u3066\u306f\u3001numpy\u306e\u3088\u3046\u306a\u4eba\u6c17\u306e\u3042\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u578b\u3092\u9664\u304d\u3001pyserde\u3092\u3067\u304d\u308b\u3060\u3051\u30b7\u30f3\u30d7\u30eb\u306b\u4fdd\u3064\u305f\u3081\u306b\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u4e88\u5b9a\u306f\u3042\u308a\u307e\u305b\u3093\u3002 \u30ab\u30b9\u30bf\u30e0\u30af\u30e9\u30b9\u3084\u30d5\u30a3\u30fc\u30eb\u30c9\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u306e\u4f7f\u7528\u3092\u63a8\u5968\u3057\u307e\u3059\u3002</p> <ol> <li> <p>examples/simple.py \u3092\u53c2\u7167\u00a0\u21a9</p> </li> <li> <p>examples/collection.py \u3092\u53c2\u7167\u00a0\u21a9\u21a9\u21a9</p> </li> <li> <p>examples/frozen_set.py \u3092\u53c2\u7167\u00a0\u21a9</p> </li> <li> <p>examples/default_dict.py \u3092\u53c2\u7167\u00a0\u21a9</p> </li> <li> <p>examples/union.py \u3092\u53c2\u7167\u00a0\u21a9</p> </li> <li> <p>examples/union.py \u3092\u53c2\u7167\u00a0\u21a9</p> </li> <li> <p>examples/union_operator.py \u3092\u53c2\u7167\u00a0\u21a9</p> </li> <li> <p>examples/union_tagging.py \u3092\u53c2\u7167\u00a0\u21a9</p> </li> <li> <p>examples/simple.py \u3092\u53c2\u7167\u00a0\u21a9</p> </li> <li> <p>examples/nested.py \u3092\u53c2\u7167\u00a0\u21a9</p> </li> <li> <p>examples/newtype.py \u3092\u53c2\u7167\u00a0\u21a9</p> </li> <li> <p>examples/any.py \u3092\u53c2\u7167\u00a0\u21a9</p> </li> <li> <p>examples/literal.py \u3092\u53c2\u7167\u00a0\u21a9</p> </li> <li> <p>examples/generics.py \u3092\u53c2\u7167\u00a0\u21a9</p> </li> <li> <p>examples/class_var.py \u3092\u53c2\u7167\u00a0\u21a9</p> </li> <li> <p>examples/init_var.py \u3092\u53c2\u7167\u00a0\u21a9</p> </li> <li> <p>examples/enum34.py \u3092\u53c2\u7167\u00a0\u21a9</p> </li> <li> <p>examples/type_pathlib.py \u3092\u53c2\u7167\u00a0\u21a9</p> </li> <li> <p>examples/type_decimal.py \u3092\u53c2\u7167\u00a0\u21a9</p> </li> <li> <p>examples/type_uuid.py \u3092\u53c2\u7167\u00a0\u21a9</p> </li> <li> <p>examples/type_datetime.py \u3092\u53c2\u7167\u00a0\u21a9</p> </li> <li> <p>examples/type_ipaddress.py \u3092\u53c2\u7167\u00a0\u21a9</p> </li> <li> <p>examples/type_numpy.py \u3092\u53c2\u7167\u00a0\u21a9</p> </li> <li> <p>examples/type_sqlalchemy.py \u3092\u53c2\u7167\u00a0\u21a9</p> </li> <li> <p>examples/deque.py \u3092\u53c2\u7167\u00a0\u21a9</p> </li> <li> <p>examples/counter.py \u3092\u53c2\u7167\u00a0\u21a9</p> </li> </ol>"},{"location":"ja/union/","title":"Union Representation","text":"<p><code>pyserde&gt;=0.7</code> \u3067\u306f\u3001Union \u304c\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3055\u308c\u308b\u65b9\u6cd5\u3092\u5236\u5fa1\u3059\u308b\u305f\u3081\u306e\u5c5e\u6027\u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u6982\u5ff5\u306f serde-rs \u306b\u3042\u308b\u3082\u306e\u3068\u540c\u3058\u3067\u3059\u3002</p> <p>\u3053\u308c\u3089\u306e\u8868\u73fe\u306f dataclass \u306b\u306e\u307f\u9069\u7528\u3055\u308c\u3001dataclass\u3067\u306f\u306a\u3044\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u5e38\u306b <code>Untagged</code> \u3067\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3055\u308c\u307e\u3059\u3002</p> <p>Union\u5185\u306e\u578b\u304c\u66d6\u6627\u306b\u306a\u308a\u5f97\u308b\u5834\u5408\uff08\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u4f3c\u3066\u3044\u308b\u5834\u5408\u306a\u3069\uff09\u306f\u3001\u30bf\u30b0\u4ed8\u304d\u8868\u73fe\u3092\u4f7f\u3046\u3068\u5b89\u5168\u3067\u3059\u3002</p>"},{"location":"ja/union/#untagged","title":"<code>Untagged</code>","text":"<p>\u4ee5\u4e0b\u306f\u3001 <code>pyserde&lt;0.7</code> \u306b\u304a\u3051\u308b\u30c7\u30d5\u30a9\u30eb\u30c8\u306e Union \u8868\u73fe\u3067\u3059\u3002dataclass \u304c\u4e0e\u3048\u3089\u308c\u305f\u5834\u5408\u3092\u4f8b\u306b\u4e0a\u3052\u307e\u3059\u3002</p> <pre><code>@serde\nclass Bar:\n    b: int\n\n@serde\nclass Baz:\n    b: int\n\n@serde(tagging=Untagged)\nclass Foo:\n    a: Union[Bar, Baz]\n</code></pre> <p>\u6ce8\u610f\u70b9\u3068\u3057\u3066\u3001<code>Bar</code> \u3068 <code>Baz</code> \u306f\u540c\u3058\u30d5\u30a3\u30fc\u30eb\u30c9\u540d\u3068\u578b\u3092\u6301\u3063\u3066\u3044\u307e\u3059\u3002 <code>Foo(Baz(10))</code> \u3092\u8f9e\u66f8\u306b\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3059\u308b\u3068\u3001<code>{\"a\": {\"b\": 10}}</code> \u304c\u5f97\u3089\u308c\u307e\u3059\u3002</p> <p>\u3057\u304b\u3057\u3001<code>{\"a\": {\"b\": 10}}</code> \u3092\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3059\u308b\u3068\u3001 <code>Foo(Baz(10))</code> \u3067\u306f\u306a\u304f <code>Foo(Bar(10))</code> \u304c\u5f97\u3089\u308c\u307e\u3059\u3002 \u3053\u308c\u306f\u3001pyserde \u304c <code>Untagged</code> \u3092\u4f7f\u3063\u305f Union \u306e dataclass \u3092\u6b63\u3057\u304f\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba**\u3067\u304d\u306a\u3044**\u3053\u3068\u3092\u610f\u5473\u3057\u307e\u3059\u3002</p> <p>\u3053\u306e\u305f\u3081\u3001pyserde \u306f\u4ed6\u306e Union \u8868\u73fe\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"ja/union/#externaltagging","title":"<code>ExternalTagging</code>","text":"<p>\u3053\u308c\u306f 0.7 \u4ee5\u964d\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u306e Union \u8868\u73fe\u3067\u3059\u3002<code>ExternalTagging</code> \u3092\u4f7f\u7528\u3057\u305f\u30af\u30e9\u30b9\u5ba3\u8a00\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p> <p><pre><code>@serde(tagging=ExternalTagging)\nclass Foo:\n    a: Union[Bar, Baz]\n</code></pre> <code>Foo(Baz(10))</code> \u3092\u8f9e\u66f8\u306b\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3059\u308b\u3068\u3001 <code>{\"a\": {\"Baz\": {\"b\": 10}}}</code> \u304c\u5f97\u3089\u308c\u3001\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3059\u308b\u3068 <code>Foo(Baz(10))</code> \u306b\u306a\u308a\u307e\u3059\u3002</p> <p>Note</p> <p>dataclass \u3067\u306a\u3044\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u3001<code>tagging</code> \u5c5e\u6027\u306b\u95a2\u308f\u3089\u305a\u5e38\u306b <code>Untagged</code> \u3067\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3055\u308c\u307e\u3059\u3002 \u3053\u308c\u306f\u30bf\u30b0\u306b\u4f7f\u7528\u3067\u304d\u308b\u60c5\u5831\u304c\u306a\u3044\u305f\u3081\u3067\u3059\u3002<code>Untagged</code> \u306e\u6b20\u70b9\u306f\u3001\u7279\u5b9a\u306e\u30bf\u30a4\u30d7\u3092\u6b63\u3057\u304f\u975e\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3067\u304d\u306a\u3044\u3053\u3068\u3067\u3059\u3002</p> <p>\u4f8b\u3048\u3070\u3001\u4ee5\u4e0b\u306e\u30af\u30e9\u30b9\u306e <code>Foo({1, 2, 3})</code> \u306f <code>{\"a\": [1, 2, 3]}</code> \u306b\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3055\u308c\u307e\u3059\u304c\u3001\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3059\u308b\u3068 <code>Foo([1, 2, 3])</code> \u306b\u306a\u308a\u307e\u3059\u3002</p> <pre><code>@serde(tagging=ExternalTagging)\nclass Foo:\n   a: Union[list[int], set[int]]\n</code></pre>"},{"location":"ja/union/#internaltagging","title":"<code>InternalTagging</code>","text":"<p><code>InternalTagging</code> \u3092\u4f7f\u7528\u3057\u305f\u30af\u30e9\u30b9\u5ba3\u8a00\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p> <pre><code>@serde(tagging=InternalTagging(\"type\"))\nclass Foo:\n    a: Union[Bar, Baz]\n</code></pre> <p><code>Foo(Baz(10))</code> \u3092\u8f9e\u66f8\u306b\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3059\u308b\u3068\u3001<code>{\"a\": {\"type\": \"Baz\", \"b\": 10}}</code> \u304c\u5f97\u3089\u308c\u3001\u305d\u308c\u3092 <code>Foo(Baz(10))</code> \u306b\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3067\u304d\u307e\u3059\u3002 <code>type</code> \u30bf\u30b0\u306f <code>Baz</code> \u306e\u8f9e\u66f8\u5185\u306b\u30a8\u30f3\u30b3\u30fc\u30c9\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"ja/union/#adjacenttagging","title":"<code>AdjacentTagging</code>","text":"<p><code>AdjacentTagging</code> \u3092\u4f7f\u7528\u3057\u305f\u30af\u30e9\u30b9\u5ba3\u8a00\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p> <pre><code>@serde(tagging=AdjacentTagging(\"type\", \"content\"))\nclass Foo:\n    a: Union[Bar, Baz]\n</code></pre> <p><code>Foo(Baz(10))</code> \u3092\u8f9e\u66f8\u306b\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3059\u308b\u3068\u3001<code>{\"a\": {\"type\": \"Baz\", \"content\": {\"b\": 10}}}</code> \u304c\u5f97\u3089\u308c\u3001\u305d\u308c\u3092 <code>Foo(Baz(10))</code> \u306b\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3067\u304d\u307e\u3059\u3002<code>type</code> \u30bf\u30b0\u306f <code>Baz</code> \u306e\u8f9e\u66f8\u5185\u306b\u30a8\u30f3\u30b3\u30fc\u30c9\u3055\u308c\u3001<code>Baz</code> \u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306f <code>content</code> \u5185\u306b\u30a8\u30f3\u30b3\u30fc\u30c9\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"ja/union/#union","title":"Union \u578b\u306e\u76f4\u63a5\u7684\u306a\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba","text":"<p>v0.12.0 \u3067\u65b0\u3057\u304f\u8ffd\u52a0\u3055\u308c\u307e\u3057\u305f\u3002</p> <p>v0.12 \u4ee5\u524d\u306b\u304a\u3044\u3066\u3001\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba API\uff08\u4f8b\uff1a <code>to_json</code>, <code>from_json</code>\uff09\u306b\u76f4\u63a5 Union \u578b\u306e\u30c7\u30fc\u30bf\u3092\u6e21\u3059\u3053\u3068\u306f\u90e8\u5206\u7684\u306b\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u3057\u305f\u304c\u3001Union \u578b\u306f\u5e38\u306b\u30bf\u30b0\u7121\u3057\u3068\u3057\u3066\u6271\u308f\u308c\u307e\u3057\u305f\u3002 \u3053\u308c\u306f\u3001\u5229\u7528\u8005\u5074\u3067 Union \u30bf\u30b0\u3092\u5909\u66f4\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u306a\u304b\u3063\u305f\u3053\u3068\u3092\u610f\u5473\u3057\u307e\u3059\u3002</p> <p>\u4ee5\u4e0b\u306e\u4f8b\u306f\u3001\u30bf\u30b0\u7121\u3057\u306e\u305f\u3081 <code>Bar</code> \u306b\u6b63\u3057\u304f\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3067\u304d\u307e\u305b\u3093\u3002</p> <pre><code>@serde\nclass Foo:\n    a: int\n\n@serde\nclass Bar:\n    a: int\n\nbar = Bar(10)\ns = to_json(bar)\nprint(s)\n# {\"a\": 10} \u3092\u51fa\u529b\nprint(from_json(Union[Foo, Bar], s))\n# Foo(10) \u3092\u51fa\u529b\n</code></pre> <p>v0.12.0 \u4ee5\u964d\u3001pyserde \u306f\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba API \u3067\u6e21\u3055\u308c\u305f Union \u578b\u3092\u9069\u5207\u306b\u6271\u3048\u307e\u3059\u3002 Union \u578b\u306f\u3001pyserde \u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30bf\u30b0\u4ed8\u3051\u3067\u3042\u308b\u5916\u90e8\u30bf\u30b0\u4ed8\u3051\u3068\u3057\u3066\u6271\u308f\u308c\u307e\u3059\u3002</p> <p>\u4ee5\u4e0b\u306e\u4f8b\u306f <code>Bar</code> \u3068\u3057\u3066\u6b63\u3057\u304f\uff08\u30c7\uff09\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3067\u304d\u307e\u3059\u3002</p> <pre><code>@serde\nclass Foo:\n    a: int\n\n@serde\nclass Bar:\n    a: int\n\nbar = Bar(10)\ns = to_json(bar, cls=Union[Foo, Bar])\nprint(s)\n# {\"Bar\" {\"a\": 10}} \u3092\u51fa\u529b\nprint(from_json(Union[Foo, Bar], s))\n# Bar(10) \u3092\u51fa\u529b\n</code></pre> <p>\u307e\u305f\u3001<code>serde.InternalTagging</code>\u3001<code>serde.AdjacentTagging</code>\u3001\u304a\u3088\u3073 <code>serde.Untagged</code> \u3092\u4f7f\u7528\u3057\u3066\u30bf\u30b0\u4ed8\u3051\u3092\u5909\u66f4\u3067\u304d\u307e\u3059\u3002</p> <p>\u305d\u308c\u3067\u306f\u3001\u4e0a\u8a18\u306e\u4f8b\u3092\u7528\u3044\u3066\u30bf\u30b0\u4ed8\u3051\u3092\u5909\u66f4\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002</p> <p>\u30bf\u30b0\u4ed8\u3051\u3092\u5909\u66f4\u3059\u308b\u306b\u306f\u3001 <code>to_json</code> \u306b\u65b0\u3057\u3044\u5f15\u6570 <code>cls</code> \u3092\u6e21\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u307e\u305f\u3001Union\u30af\u30e9\u30b9\u306f <code>InternalTagging</code>\u3001<code>AdjacentTagging</code>\u3001\u307e\u305f\u306f <code>Untagged</code> \u3067\u5fc5\u8981\u306a\u30d1\u30e9\u30e1\u30fc\u30bf\u3068\u5171\u306b\u30e9\u30c3\u30d7\u3055\u308c\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <ul> <li> <p>InternalTagging   <pre><code>from serde import InternalTagging\n\ns = to_json(bar, cls=InternalTagging(\"type\", Union[Foo, Bar]))\nprint(s)\n# {\"type\": \"Bar\", \"a\": 10} \u3092\u51fa\u529b\nprint(from_json(InternalTagging(\"type\", Union[Foo, Bar]), s))\n# Bar(10) \u3092\u51fa\u529b\n</code></pre></p> </li> <li> <p>AdjacentTagging   <pre><code>from serde import AdjacentTagging\n\ns = to_json(bar, cls=AdjacentTagging(\"type\", \"content\", Union[Foo, Bar]))\nprint(s)\n# {\"type\": \"Bar\", \"content\": {\"a\": 10}} \u3092\u51fa\u529b\nprint(from_json(AdjacentTagging(\"type\", \"content\", Union[Foo, Bar]), s))\n# Bar(10) \u3092\u51fa\u529b\n</code></pre></p> </li> <li> <p>Untagged   <pre><code>from serde import Untagged\n\ns = to_json(bar, cls=Untagged(Union[Foo, Bar]))\nprint(s)\n# {\"a\": 10} \u3092\u51fa\u529b\nprint(from_json(Untagged(Union[Foo, Bar]), s))\n# Foo(10) \u3092\u51fa\u529b\n</code></pre></p> </li> </ul>"}]}